/**
 * almond 0.2.5 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/

/*
 * Foundation Responsive Library
 * http://foundation.zurb.com
 * Copyright 2013, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/

/*The MIT License (MIT)

Copyright (c) 2014 https://github.com/kayalshri/

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.*/

/*
 * Original code (c) 2010 Nick Galbreath
 * http://code.google.com/p/stringencoders/source/browse/#svn/trunk/javascript
 *
 * jQuery port (c) 2010 Carlo Zottmann
 * http://github.com/carlo/jquery-base64
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version 3.8.1
 * @date    2016-12-15
 *
 * @license
 * Copyright (C) 2013-2016 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */

/**
	 * @license Complex.js v2.0.1 11/02/2016
	 *
	 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 **/

/**
	 * @license Fraction.js v3.3.1 09/09/2015
	 * http://www.xarg.org/2014/03/precise-calculations-in-javascript/
	 *
	 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 **/

(function(){function r(e){function n(){e.escapeMode===undefined&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.enableToStringFunc===undefined&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.skipEmptyTextNodesForObj===undefined&&(e.skipEmptyTextNodesForObj=!0),e.stripWhitespaces===undefined&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[]}function i(){function e(e){var t=String(e);return t.length===1&&(t="0"+t),t}typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),typeof Date.prototype.toISOString!="function"&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function s(e){var t=e.localName;t==null&&(t=e.baseName);if(t==null||t=="")t=e.nodeName;return t}function o(e){return e.prefix}function u(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function f(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}if(!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0){var i=0;for(;i<e.arrayAccessFormPaths.length;i++){var s=e.arrayAccessFormPaths[i];if(typeof s=="string"){if(s==r)break}else if(s instanceof RegExp){if(s.test(r))break}else if(typeof s=="function"&&s(t,n,r))break}i!=e.arrayAccessFormPaths.length&&(t[n]=[t[n]])}}function l(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]);if(t[6]&&t[7]){var i=t[6]*60+Number(t[7]),s=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+(s=="-"?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function c(t,n,r){if(e.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0],s=0;for(;s<e.datetimeAccessFormPaths.length;s++){var o=e.datetimeAccessFormPaths[s];if(typeof o=="string"){if(o==i)break}else if(o instanceof RegExp){if(o.test(i))break}else if(typeof o=="function"&&o(obj,n,i))break}return s!=e.datetimeAccessFormPaths.length?l(t):t}return t}function h(t,n){if(t.nodeType==r.DOCUMENT_NODE){var i=new Object,u=t.childNodes;for(var l=0;l<u.length;l++){var p=u.item(l);if(p.nodeType==r.ELEMENT_NODE){var d=s(p);i[d]=h(p,d)}}return i}if(t.nodeType==r.ELEMENT_NODE){var i=new Object;i.__cnt=0;var u=t.childNodes;for(var l=0;l<u.length;l++){var p=u.item(l),d=s(p);p.nodeType!=r.COMMENT_NODE&&(i.__cnt++,i[d]==null?(i[d]=h(p,n+"."+d),f(i,d,n+"."+d)):(i[d]!=null&&(i[d]instanceof Array||(i[d]=[i[d]],f(i,d,n+"."+d))),i[d][i[d].length]=h(p,n+"."+d)))}for(var v=0;v<t.attributes.length;v++){var m=t.attributes.item(v);i.__cnt++,i[e.attributePrefix+m.name]=m.value}var g=o(t);return g!=null&&g!=""&&(i.__cnt++,i.__prefix=g),i["#text"]!=null&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.escapeMode&&(i.__text=a(i.__text)),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],e.arrayAccessForm=="property"&&delete i["#text_asArray"],i.__text=c(i.__text,d,n+"."+d)),i["#cdata-section"]!=null&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],e.arrayAccessForm=="property"&&delete i["#cdata-section_asArray"]),i.__cnt==1&&i.__text!=null?i=i.__text:i.__cnt==0&&e.emptyNodeForm=="text"?i="":i.__cnt>1&&i.__text!=null&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&i.__text==""||i.__text.trim()=="")&&delete i.__text,delete i.__cnt,e.enableToStringFunc&&(i.__text!=null||i.__cdata!=null)&&(i.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),i}if(t.nodeType==r.TEXT_NODE||t.nodeType==r.CDATA_SECTION_NODE)return t.nodeValue}function p(t,n,r,i){var s="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+n;if(r!=null)for(var o=0;o<r.length;o++){var a=r[o],f=t[a];e.escapeMode&&(f=u(f)),s+=" "+a.substr(e.attributePrefix.length)+"='"+f+"'"}return i?s+="/>":s+=">",s}function d(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function v(e,t){return e.indexOf(t,e.length-t.length)!==-1}function m(t,n){return e.arrayAccessForm=="property"&&v(n.toString(),"_asArray")||n.toString().indexOf(e.attributePrefix)==0||n.toString().indexOf("__")==0||t[n]instanceof Function?!0:!1}function g(e){var t=0;if(e instanceof Object)for(var n in e){if(m(e,n))continue;t++}return t}function y(t){var n=[];if(t instanceof Object)for(var r in t)r.toString().indexOf("__")==-1&&r.toString().indexOf(e.attributePrefix)==0&&n.push(r);return n}function b(t){var n="";return t.__cdata!=null&&(n+="<![CDATA["+t.__cdata+"]]>"),t.__text!=null&&(e.escapeMode?n+=u(t.__text):n+=t.__text),n}function w(t){var n="";return t instanceof Object?n+=b(t):t!=null&&(e.escapeMode?n+=u(t):n+=t),n}function E(e,t,n){var r="";if(e.length==0)r+=p(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=p(e[i],t,y(e[i]),!1),r+=S(e[i]),r+=d(e[i],t);return r}function S(e){var t="",n=g(e);if(n>0)for(var r in e){if(m(e,r))continue;var i=e[r],s=y(i);if(i==null||i==undefined)t+=p(i,r,s,!0);else if(i instanceof Object)if(i instanceof Array)t+=E(i,r,s);else if(i instanceof Date)t+=p(i,r,s,!1),t+=i.toISOString(),t+=d(i,r);else{var o=g(i);o>0||i.__text!=null||i.__cdata!=null?(t+=p(i,r,s,!1),t+=S(i),t+=d(i,r)):t+=p(i,r,s,!0)}else t+=p(i,r,s,!1),t+=w(i),t+=d(i,r)}return t+=w(e),t}var t="1.1.5";e=e||{},n(),i();var r={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!t)try{i=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(s){i=null}try{n=r.parseFromString(e,"text/xml"),i!=null&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(s){n=null}}else e.indexOf("<?")==0&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():typeof e=="number"?(new Date(e)).toISOString():null},this.asDateTime=function(e){return typeof e=="string"?l(e):e},this.xml2json=function(e){return h(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t!=null?this.xml2json(t):null},this.json2xml_str=function(e){return S(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return t}}var e,t,n;(function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("../vendor/almond/almond",function(){}),function(e,t){function B(e){var t=e.length,n=E.type(e);return E.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function F(e){var t=j[e]={};return E.each(e.match(x)||[],function(e,n){t[n]=!0}),t}function R(e,n,r,i){if(E.acceptData(e)){var s,o,u=E.expando,a=e.nodeType,f=a?E.cache:e,l=a?e[u]:e[u]&&u;if(l&&f[l]&&(i||f[l].data)||r!==t||"string"!=typeof n)return l||(l=a?e[u]=h.pop()||E.guid++:u),f[l]||(f[l]=a?{}:{toJSON:E.noop}),("object"==typeof n||"function"==typeof n)&&(i?f[l]=E.extend(f[l],n):f[l].data=E.extend(f[l].data,n)),o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[E.camelCase(n)]=r),"string"==typeof n?(s=o[n],null==s&&(s=o[E.camelCase(n)])):s=o,s}}function U(e,t,n){if(E.acceptData(e)){var r,i,s=e.nodeType,o=s?E.cache:e,u=s?e[E.expando]:E.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){E.isArray(t)?t=t.concat(E.map(t,E.camelCase)):t in r?t=[t]:(t=E.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!W(r):!E.isEmptyObject(r))return}(n||(delete o[u].data,W(o[u])))&&(s?E.cleanData([e],!0):E.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function z(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(q,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:I.test(r)?E.parseJSON(r):r}catch(s){}E.data(e,n,r)}else r=t}return r}function W(e){var t;for(t in e)if(("data"!==t||!E.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function st(){return!0}function ot(){return!1}function ut(){try{return u.activeElement}catch(e){}}function ht(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function pt(e,t,n){if(E.isFunction(t))return E.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return E.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return E.filter(t,e,n);t=E.filter(t,e)}return E.grep(e,function(e){return E.inArray(e,t)>=0!==n})}function dt(e){var t=vt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function _t(e,t){return E.nodeName(e,"table")&&E.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Dt(e){return e.type=(null!==E.find.attr(e,"type"))+"/"+e.type,e}function Pt(e){var t=kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ht(e,t){var n,r=0;for(;null!=(n=e[r]);r++)E._data(n,"globalEval",!t||E._data(t[r],"globalEval"))}function Bt(e,t){if(1===t.nodeType&&E.hasData(e)){var n,r,i,s=E._data(e),o=E._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)E.event.add(t,n,u[n][r])}o.data&&(o.data=E.extend({},o.data))}}function jt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!E.support.noCloneEvent&&t[E.expando]){i=E._data(t);for(r in i.events)E.removeEvent(t,r,i.handle);t.removeAttribute(E.expando)}"script"===n&&t.text!==e.text?(Dt(t).text=e.text,Pt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),E.support.html5Clone&&e.innerHTML&&!E.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Ft(e,n){var r,i,o=0,u=typeof e.getElementsByTagName!==s?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==s?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;null!=(i=r[o]);o++)!n||E.nodeName(i,n)?u.push(i):E.merge(u,Ft(i,n));return n===t||n&&E.nodeName(e,n)?E.merge([e],u):u}function It(e){Tt.test(e.type)&&(e.defaultChecked=e.checked)}function nn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=tn.length;while(i--)if(t=tn[i]+n,t in e)return t;return r}function rn(e,t){return e=t||e,"none"===E.css(e,"display")||!E.contains(e.ownerDocument,e)}function sn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;u>o;o++)r=e[o],r.style&&(s[o]=E._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&rn(r)&&(s[o]=E._data(r,"olddisplay",fn(r.nodeName)))):s[o]||(i=rn(r),(n&&"none"!==n||!i)&&E._data(r,"olddisplay",i?n:E.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function on(e,t,n){var r=Jt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function un(e,t,n,r,i){var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;for(;4>s;s+=2)"margin"===n&&(o+=E.css(e,n+en[s],!0,i)),r?("content"===n&&(o-=E.css(e,"padding"+en[s],!0,i)),"margin"!==n&&(o-=E.css(e,"border"+en[s]+"Width",!0,i))):(o+=E.css(e,"padding"+en[s],!0,i),"padding"!==n&&(o+=E.css(e,"border"+en[s]+"Width",!0,i)));return o}function an(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=Rt(e),o=E.support.boxSizing&&"border-box"===E.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Ut(e,t,s),(0>i||null==i)&&(i=e.style[t]),Kt.test(i))return i;r=o&&(E.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+un(e,t,n||(o?"border":"content"),r,s)+"px"}function fn(e){var t=u,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(qt=(qt||E("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qt[0].contentWindow||qt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),qt.detach()),Gt[e]=n),n}function ln(e,t){var n=E(t.createElement(e)).appendTo(t.body),r=E.css(n[0],"display");return n.remove(),r}function mn(e,t,n,r){var i;if(E.isArray(t))E.each(t,function(t,i){n||hn.test(e)?r(e,i):mn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==E.type(t))r(e,t);else for(i in t)mn(e+"["+i+"]",t[i],n,r)}function Dn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(x)||[];if(E.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Pn(e,n,r,i){function u(a){var f;return s[a]=!0,E.each(e[a]||[],function(e,a){var l=a(n,r,i);return"string"!=typeof l||o||s[l]?o?!(f=l):t:(n.dataTypes.unshift(l),u(l),!1)}),f}var s={},o=e===On;return u(n.dataTypes[0])||!s["*"]&&u("*")}function Hn(e,n){var r,i,s=E.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&E.extend(!0,e,r),e}function Bn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while("*"===f[0])f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}return o?(o!==f[0]&&f.unshift(o),r[o]):t}function jn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Wn(){try{return new e.XMLHttpRequest}catch(t){}}function Xn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Zn(){return setTimeout(function(){Vn=t}),Vn=E.now()}function er(e,t,n){var r,i=(Yn[t]||[]).concat(Yn["*"]),s=0,o=i.length;for(;o>s;s++)if(r=i[s].call(n,t,e))return r}function tr(e,t,n){var r,i,s=0,o=Gn.length,u=E.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Vn||Zn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vn||Zn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(nr(l,f.opts.specialEasing);o>s;s++)if(r=Gn[s].call(f,e,l,f.opts))return r;return E.map(l,er,f),E.isFunction(f.opts.start)&&f.opts.start.call(e,f),E.fx.timer(E.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function nr(e,t){var n,r,i,s,o;for(n in e)if(r=E.camelCase(n),i=t[r],s=e[n],E.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=E.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function rr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&rn(e),p=E._data(e,"fxshow");n.queue||(u=E._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,E.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],"inline"===E.css(e,"display")&&"none"===E.css(e,"float")&&(E.support.inlineBlockNeedsLayout&&"inline"!==fn(e.nodeName)?c.zoom=1:c.display="inline-block")),n.overflow&&(c.overflow="hidden",E.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Jn.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(h?"hide":"show"))continue;l[r]=p&&p[r]||E.style(e,r)}if(!E.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=E._data(e,"fxshow",{}),s&&(p.hidden=!h),h?E(e).show():f.done(function(){E(e).hide()}),f.done(function(){var t;E._removeData(e,"fxshow");for(t in l)E.style(e,t,l[t])});for(r in l)o=er(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function ir(e,t,n,r,i){return new ir.prototype.init(e,t,n,r,i)}function sr(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=en[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function or(e){return E.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var r,i,s=typeof t,o=e.location,u=e.document,a=u.documentElement,f=e.jQuery,l=e.$,c={},h=[],p="1.10.2",d=h.concat,v=h.push,m=h.slice,g=h.indexOf,y=c.toString,b=c.hasOwnProperty,w=p.trim,E=function(e,t){return new E.fn.init(e,t,i)},S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,x=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,L=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,O=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,M=/^-ms-/,_=/-([\da-z])/gi,D=function(e,t){return t.toUpperCase()},P=function(e){(u.addEventListener||"load"===e.type||"complete"===u.readyState)&&(H(),E.ready())},H=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",P,!1),e.removeEventListener("load",P,!1)):(u.detachEvent("onreadystatechange",P),e.detachEvent("onload",P))};E.fn=E.prototype={jquery:p,constructor:E,init:function(e,n,r){var i,s;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof E?n[0]:n,E.merge(this,E.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:u,!0)),C.test(i[1])&&E.isPlainObject(n))for(i in n)E.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(s=u.getElementById(i[2]),s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=u,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):E.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),E.makeArray(e,this))},selector:"",length:0,toArray:function(){return m.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return E.each(this,e,t)},ready:function(e){return E.ready.promise().done(e),this},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:v,sort:[].sort,splice:[].splice},E.fn.init.prototype=E.fn,E.extend=E.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[1]||{},a=2),"object"==typeof u||E.isFunction(u)||(u={}),f===a&&(u=this,--a);f>a;a++)if(null!=(s=arguments[a]))for(i in s)e=u[i],r=s[i],u!==r&&(l&&r&&(E.isPlainObject(r)||(n=E.isArray(r)))?(n?(n=!1,o=e&&E.isArray(e)?e:[]):o=e&&E.isPlainObject(e)?e:{},u[i]=E.extend(l,o,r)):r!==t&&(u[i]=r));return u},E.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===E&&(e.$=l),t&&e.jQuery===E&&(e.jQuery=f),E},isReady:!1,readyWait:1,holdReady:function(e){e?E.readyWait++:E.ready(!0)},ready:function(e){if(e===!0?!--E.readyWait:!E.isReady){if(!u.body)return setTimeout(E.ready);E.isReady=!0,e!==!0&&--E.readyWait>0||(r.resolveWith(u,[E]),E.fn.trigger&&E(u).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===E.type(e)},isArray:Array.isArray||function(e){return"array"===E.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==E.type(e)||e.nodeType||E.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(E.support.ownLast)for(n in e)return b.call(e,n);for(n in e);return n===t||b.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||u;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=E.buildFragment([e],t,i),i&&E(i).remove(),E.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=E.trim(n),n&&k.test(n.replace(A,"@").replace(O,"]").replace(L,"")))?Function("return "+n)():(E.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&E.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(M,"ms-").replace(_,D)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=B(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:w&&!w.call("﻿ ")?function(e){return null==e?"":w.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(B(Object(e))?E.merge(n,"string"==typeof e?[e]:e):v.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if("number"==typeof r)for(;r>s;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=B(e),u=[];if(o)for(;s>i;i++)r=t(e[i],i,n),null!=r&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(u[u.length]=r);return d.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return"string"==typeof n&&(s=e[n],n=e,e=s),E.isFunction(e)?(r=m.call(arguments,2),i=function(){return e.apply(n||this,r.concat(m.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===E.type(r)){s=!0;for(a in r)E.access(e,n,a,r[a],!0,o,u)}else if(i!==t&&(s=!0,E.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(E(e),n)})),n))for(;f>a;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)));return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),E.ready.promise=function(t){if(!r)if(r=E.Deferred(),"complete"===u.readyState)setTimeout(E.ready);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",P,!1),e.addEventListener("load",P,!1);else{u.attachEvent("onreadystatechange",P),e.attachEvent("onload",P);var n=!1;try{n=null==e.frameElement&&u.documentElement}catch(i){}n&&n.doScroll&&function s(){if(!E.isReady){try{n.doScroll("left")}catch(e){return setTimeout(s,50)}H(),E.ready()}}()}return r.promise(t)},E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),i=E(u),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,E;if((t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(9===a){if(o=t.getElementById(u),!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){if(m=p=b,g=t,E=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,E=l.join(",")}if(E)try{return H.apply(n,g.querySelectorAll(E)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){(!n||(r=X.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),a.push(i=[])),n=!1,(r=V.exec(u))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length));for(o in s.filter)!(r=G[o].exec(u))||f[o]&&!(r=f[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&"parentNode"===r,o=x++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if((1===t.nodeType||s)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||s)if(l=t[b]||(t[b]={}),(f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else if(f=l[r]=[c],f[1]=e(t,n,u)||i,f[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=null!=t;for(;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;i>a;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=s.filter[e[a].type].apply(null,e[a].matches),n[b]){for(r=++a;i>r;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),n,r>a&&St(e.slice(a,r)),i>r&&St(e=e.slice(r)),i>r&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=null!=p,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=null==x?1:Math.random()||.1;for(E&&(f=a!==h&&a,i=n);null!=(d=T[b]);b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}if(y+=b,r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)w[b]||g[b]||(g[b]=D.call(c));g=wt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&1===h.length){if(u=h[0]=h[0].slice(0),u.length>2&&"ID"===(f=u[0]).type&&r.getById&&9===t.nodeType&&d&&s.relative[u[1].type]){if(t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){if(f=u[o],s.relative[l=f.type])break;if((c=s.find[l])&&(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t))){if(u.splice(o,1),e=i.length&&gt(u),!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=RegExp("^"+I+"*,"+I+"*"),V=RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=RegExp(I+"*[+~]"),J=RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=RegExp(z),Q=RegExp("^"+R+"$"),G={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q.replace("w","w*")+")"),ATTR:RegExp("^"+U),PSEUDO:RegExp("^"+z),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:RegExp("^(?:"+F+")$","i"),needsContext:RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{H.apply(_=B.call(w.childNodes),w.childNodes),_[w.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=ot.support={},c=ot.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==h&&9===n.nodeType&&n.documentElement?(h=n,p=n.documentElement,d=!u(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ft(function(e){return p.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==A&&d?n.getElementsByClassName(e):t},m=[],v=[],(r.qsa=Y.test(n.querySelectorAll))&&(ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&RegExp(v.join("|")),m=m.length&&RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||y(w,e)?-1:t===n||y(w,t)?1:l?j.call(l,e)-j.call(l,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(e===t)return k=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:l?j.call(l,e)-j.call(l,t):0;if(s===o)return ct(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},n):h},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']"),!(!r.matchesSelector||!d||m&&m.test(t)||v&&v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;if(k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L),k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[b]||(c[b]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(F,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),E.find=ot,E.expr=ot.selectors,E.expr[":"]=E.expr.pseudos,E.unique=ot.uniqueSort,E.text=ot.getText,E.isXMLDoc=ot.isXML,E.contains=ot.contains}(e);var j={};E.Callbacks=function(e){e="string"==typeof e?j[e]||F(e):E.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){for(r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;a&&s>o;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){E.each(t,function(t,n){var r=E.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&E.each(arguments,function(e,t){var r;while((r=E.inArray(t,a,r))>-1)a.splice(r,1),n&&(s>=r&&s--,o>=r&&o--)}),this},has:function(e){return e?E.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||i&&!f||(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},E.extend({Deferred:function(e){var t=[["resolve","done",E.Callbacks("once memory"),"resolved"],["reject","fail",E.Callbacks("once memory"),"rejected"],["notify","progress",E.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return E.Deferred(function(n){E.each(t,function(t,s){var o=s[0],u=E.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?E.extend(e,r):r}},i={};return r.pipe=r.then,E.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=m.call(arguments),r=n.length,i=1!==r||e&&E.isFunction(e.promise)?r:0,s=1===i?e:E.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?m.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=Array(r),a=Array(r),f=Array(r);r>t;t++)n[t]&&E.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}}),E.support=function(t){var n,r,i,o,a,f,l,c,h,p=u.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;o=u.createElement("select"),f=o.appendChild(u.createElement("option")),i=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==p.className,t.leadingWhitespace=3===p.firstChild.nodeType,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!i.value,t.optSelected=f.selected,t.enctype=!!u.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}i=u.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),a=u.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===p.style.backgroundClip;for(h in E(t))break;return t.ownLast="0"!==h,E(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=u.getElementsByTagName("body")[0];a&&(n=u.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=p.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",E.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===p.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(p,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(p,null)||{width:"4px"}).width,r=p.appendChild(u.createElement("div")),r.style.cssText=p.style.cssText=o,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==s&&(p.innerHTML="",p.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==p.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=i=r=null)}),n=o=a=f=r=i=null,t}({});var I=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,q=/([A-Z])/g;E.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?E.cache[e[E.expando]]:e[E.expando],!!e&&!W(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return U(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return U(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&E.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),E.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length&&(s=E.data(u),1===u.nodeType&&!E._data(u,"parsedAttrs"))){for(r=u.attributes;r.length>o;o++)i=r[o].name,0===i.indexOf("data-")&&(i=E.camelCase(i.slice(5)),z(u,i,s[i]));E._data(u,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){E.data(this,e)}):arguments.length>1?this.each(function(){E.data(this,e,n)}):u?z(u,e,E.data(u,e)):null},removeData:function(e){return this.each(function(){E.removeData(this,e)})}}),E.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=E._data(e,n),r&&(!i||E.isArray(r)?i=E._data(e,n,E.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),s=E._queueHooks(e,t),o=function(){E.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return E._data(e,n)||E._data(e,n,{empty:E.Callbacks("once memory").add(function(){E._removeData(e,t+"queue"),E._removeData(e,n)})})}}),E.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?E.queue(this[0],e):n===t?this:this.each(function(){var t=E.queue(this,e,n);E._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},delay:function(e,t){return e=E.fx?E.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=E.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(u--)r=E._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var X,V,$=/[\t\r\n\f]/g,J=/\r/g,K=/^(?:input|select|textarea|button|object)$/i,Q=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Y=E.support.getSetAttribute,Z=E.support.input;E.fn.extend({attr:function(e,t){return E.access(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})},prop:function(e,t){return E.access(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return e=E.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a="string"==typeof e&&e;if(E.isFunction(e))return this.each(function(t){E(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(x)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace($," "):" ")){s=0;while(i=t[s++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=E.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=0===arguments.length||"string"==typeof e&&e;if(E.isFunction(e))return this.each(function(t){E(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(x)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace($," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?E.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):E.isFunction(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,i=E(this),o=e.match(x)||[];while(t=o[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else(n===s||"boolean"===n)&&(this.className&&E._data(this,"__className__",this.className),this.className=this.className||e===!1?"":E._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace($," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(arguments.length)return i=E.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=i?e.call(this,n,E(this).val()):e,null==s?s="":"number"==typeof s?s+="":E.isArray(s)&&(s=E.map(s,function(e){return null==e?"":e+""})),r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,s,"value")!==t||(this.value=s))});if(s)return r=E.valHooks[s.type]||E.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(J,""):null==n?"":n)}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;for(;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(E.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&E.nodeName(n.parentNode,"optgroup"))){if(t=E(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=E.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=E.inArray(E(r).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var i,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===s?E.prop(e,n,r):(1===u&&E.isXMLDoc(e)||(n=n.toLowerCase(),i=E.attrHooks[n]||(E.expr.match.bool.test(n)?V:X)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=E.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(E.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(x);if(s&&1===e.nodeType)while(n=s[i++])r=E.propFix[n]||n,E.expr.match.bool.test(n)?Z&&Y||!G.test(n)?e[r]=!1:e[E.camelCase("default-"+n)]=e[r]=!1:E.attr(e,n,""),e.removeAttribute(Y?n:r)},attrHooks:{type:{set:function(e,t){if(!E.support.radioValue&&"radio"===t&&E.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!E.isXMLDoc(e),o&&(n=E.propFix[n]||n,s=E.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&null!==(i=s.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):K.test(e.nodeName)||Q.test(e.nodeName)&&e.href?0:-1}}}}),V={set:function(e,t,n){return t===!1?E.removeAttr(e,n):Z&&Y||!G.test(n)?e.setAttribute(!Y&&E.propFix[n]||n,n):e[E.camelCase("default-"+n)]=e[n]=!0,n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,n){var r=E.expr.attrHandle[n]||E.find.attr;E.expr.attrHandle[n]=Z&&Y||!G.test(n)?function(e,n,i){var s=E.expr.attrHandle[n],o=i?t:(E.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return E.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[E.camelCase("default-"+n)]?n.toLowerCase():null}}),Z&&Y||(E.attrHooks.value={set:function(e,n,r){return E.nodeName(e,"input")?(e.defaultValue=n,t):X&&X.set(e,n,r)}}),Y||(X={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},E.expr.attrHandle.id=E.expr.attrHandle.name=E.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},E.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:X.set},E.attrHooks.contenteditable={set:function(e,t,n){X.set(e,""===t?!1:t,n)}},E.each(["width","height"],function(e,n){E.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),E.support.hrefNormalized||E.each(["href","src"],function(e,t){E.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),E.support.style||(E.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),E.support.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.support.enctype||(E.propFix.enctype="encoding"),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,n){return E.isArray(n)?e.checked=E.inArray(E(e).val(),n)>=0:t}},E.support.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var et=/^(?:input|select|textarea)$/i,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,rt=/^(?:focusinfocus|focusoutblur)$/,it=/^([^.]*)(?:\.(.+)|)$/;E.event={global:{},add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y=E._data(e);if(y){r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=E.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof E===s||e&&E.event.triggered===e.type?t:E.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(x)||[""],f=n.length;while(f--)u=it.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),v&&(c=E.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=E.event.special[v]||{},p=E.extend({type:v,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:m.join(".")},l),(d=a[v])||(d=a[v]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,m,h)!==!1||(e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),E.event.global[v]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=E.hasData(e)&&E._data(e);if(m&&(l=m.events)){t=(t||"").match(x)||[""],f=t.length;while(f--)if(u=it.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=E.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],!i&&v!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||E.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[f],n,r,!0);E.isEmptyObject(l)&&(delete m.handle,E._removeData(e,"events"))}},trigger:function(n,r,i,s){var o,a,f,l,c,h,p,d=[i||u],v=b.call(n,"type")?n.type:n,m=b.call(n,"namespace")?n.namespace.split("."):[];if(f=h=i=i||u,3!==i.nodeType&&8!==i.nodeType&&!rt.test(v+E.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=0>v.indexOf(":")&&"on"+v,n=n[E.expando]?n:new E.Event(v,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:E.makeArray(r,[n]),c=E.event.special[v]||{},s||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!s&&!c.noBubble&&!E.isWindow(i)){for(l=c.delegateType||v,rt.test(l+v)||(f=f.parentNode);f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||u)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,o=(E._data(f,"events")||{})[n.type]&&E._data(f,"handle"),o&&o.apply(f,r),o=a&&f[a],o&&E.acceptData(f)&&o.apply&&o.apply(f,r)===!1&&n.preventDefault();if(n.type=v,!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&E.acceptData(i)&&a&&i[v]&&!E.isWindow(i)){h=i[a],h&&(i[a]=null),E.event.triggered=v;try{i[v]()}catch(g){}E.event.triggered=t,h&&(i[a]=h)}return n.result}},dispatch:function(e){e=E.event.fix(e);var n,r,i,s,o,u=[],a=m.call(arguments),f=(E._data(this,"events")||{})[e.type]||[],l=E.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=E.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((E.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!=this;f=f.parentNode||this)if(1===f.nodeType&&(f.disabled!==!0||"click"!==e.type)){for(s=[],o=0;a>o;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?E(r,this).index(f)>=0:E.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return n.length>a&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[E.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=nt.test(i)?this.mouseHooks:tt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new E.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||u),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||u,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ut()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ut()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return E.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return E.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?E.event.trigger(i,null,t):E.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},E.removeEvent=u.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===s&&(e[r]=null),e.detachEvent(r,n))},E.Event=function(e,n){return this instanceof E.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?st:ot):this.type=e,n&&E.extend(this,n),this.timeStamp=e&&e.timeStamp||E.now(),this[E.expando]=!0,t):new E.Event(e,n)},E.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=st,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=st,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=st,this.stopPropagation()}},E.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!E.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),E.support.submitBubbles||(E.event.special.submit={setup:function(){return E.nodeName(this,"form")?!1:(E.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=E.nodeName(n,"input")||E.nodeName(n,"button")?n.form:t;r&&!E._data(r,"submitBubbles")&&(E.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),E._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&E.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return E.nodeName(this,"form")?!1:(E.event.remove(this,"._submit"),t)}}),E.support.changeBubbles||(E.event.special.change={setup:function(){return et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(E.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),E.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),E.event.simulate("change",this,e,!0)})),!1):(E.event.add(this,"beforeactivate._change",function(e){var t=e.target;et.test(t.nodeName)&&!E._data(t,"changeBubbles")&&(E.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||E.event.simulate("change",this.parentNode,e,!0)}),E._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return E.event.remove(this,"._change"),!et.test(this.nodeName)}}),E.support.focusinBubbles||E.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){E.event.simulate(t,e.target,E.event.fix(e),!0)};E.event.special[t]={setup:function(){0===n++&&u.addEventListener(e,r,!0)},teardown:function(){0===--n&&u.removeEventListener(e,r,!0)}}}),E.fn.extend({on:function(e,n,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===s&&(u=i,i=function(e){return E().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=E.guid++)),this.each(function(){E.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){E.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?E.event.trigger(e,n,r,!0):t}});var at=/^.[^:#\[\.,]*$/,ft=/^(?:parents|prev(?:Until|All))/,lt=E.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;i>t;t++)if(E.contains(r[t],this))return!0}));for(t=0;i>t;t++)E.find(e,r[t],n);return n=this.pushStack(i>1?E.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=E(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(E.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(pt(this,e||[],!0))},filter:function(e){return this.pushStack(pt(this,e||[],!1))},is:function(e){return!!pt(this,"string"==typeof e&&lt.test(e)?E(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=lt.test(e)||"string"!=typeof e?E(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?E.unique(s):s)},index:function(e){return e?"string"==typeof e?E.inArray(this[0],E(e)):E.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?E(e,t):E.makeArray(e&&e.nodeType?[e]:e),r=E.merge(this.get(),n);return this.pushStack(E.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E.dir(e,"parentNode")},parentsUntil:function(e,t,n){return E.dir(e,"parentNode",n)},next:function(e){return ht(e,"nextSibling")},prev:function(e){return ht(e,"previousSibling")},nextAll:function(e){return E.dir(e,"nextSibling")},prevAll:function(e){return E.dir(e,"previousSibling")},nextUntil:function(e,t,n){return E.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return E.dir(e,"previousSibling",n)},siblings:function(e){return E.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return E.sibling(e.firstChild)},contents:function(e){return E.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:E.merge([],e.childNodes)}},function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(ct[e]||(i=E.unique(i)),ft.test(e)&&(i=i.reverse())),this.pushStack(i)}}),E.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&9!==s.nodeType&&(r===t||1!==s.nodeType||!E(s).is(r)))1===s.nodeType&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mt=/ jQuery\d+="(?:null|\d+)"/g,gt=RegExp("<(?:"+vt+")[\\s/>]","i"),yt=/^\s+/,bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wt=/<([\w:]+)/,Et=/<tbody/i,St=/<|&#?\w+;/,xt=/<(?:script|style|link)/i,Tt=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^$|\/(?:java|ecma)script/i,kt=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:E.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ot=dt(u),Mt=Ot.appendChild(u.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,E.fn.extend({text:function(e){return E.access(this,function(e){return e===t?E.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_t(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_t(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?E.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||E.cleanData(Ft(n)),n.parentNode&&(t&&E.contains(n.ownerDocument,n)&&Ht(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&E.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&E.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return E.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(mt,""):t;if(!("string"!=typeof e||xt.test(e)||!E.support.htmlSerialize&&gt.test(e)||!E.support.leadingWhitespace&&yt.test(e)||At[(wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(bt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(E.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=E.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),E(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,p=e[0],v=E.isFunction(p);if(v||!(1>=l||"string"!=typeof p||E.support.checkClone)&&Nt.test(p))return this.each(function(r){var i=c.eq(r);v&&(e[0]=p.call(this,r,i.html())),i.domManip(e,t,n)});if(l&&(a=E.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,1===a.childNodes.length&&(a=r),r)){for(o=E.map(Ft(a,"script"),Dt),s=o.length;l>f;f++)i=a,f!==h&&(i=E.clone(i,!0,!0),s&&E.merge(o,Ft(i,"script"))),t.call(this[f],i,f);if(s)for(u=o[o.length-1].ownerDocument,E.map(o,Pt),f=0;s>f;f++)i=o[f],Ct.test(i.type||"")&&!E._data(i,"globalEval")&&E.contains(u,i)&&(i.src?E._evalUrl(i.src):E.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Lt,"")));a=r=null}return this}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){var n,r=0,i=[],s=E(e),o=s.length-1;for(;o>=r;r++)n=r===o?this:this.clone(!0),E(s[r])[t](n),v.apply(i,n.get());return this.pushStack(i)}}),E.extend({clone:function(e,t,n){var r,i,s,o,u,a=E.contains(e.ownerDocument,e);if(E.support.html5Clone||E.isXMLDoc(e)||!gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Mt.innerHTML=e.outerHTML,Mt.removeChild(s=Mt.firstChild)),!(E.support.noCloneEvent&&E.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(r=Ft(s),u=Ft(e),o=0;null!=(i=u[o]);++o)r[o]&&jt(i,r[o]);if(t)if(n)for(u=u||Ft(e),r=r||Ft(s),o=0;null!=(i=u[o]);o++)Bt(i,r[o]);else Bt(e,s);return r=Ft(s,"script"),r.length>0&&Ht(r,!a&&Ft(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=dt(t),p=[],d=0;for(;c>d;d++)if(s=e[d],s||0===s)if("object"===E.type(s))E.merge(p,s.nodeType?[s]:s);else if(St.test(s)){u=u||h.appendChild(t.createElement("div")),a=(wt.exec(s)||["",""])[1].toLowerCase(),l=At[a]||At._default,u.innerHTML=l[1]+s.replace(bt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;if(!E.support.leadingWhitespace&&yt.test(s)&&p.push(t.createTextNode(yt.exec(s)[0])),!E.support.tbody){s="table"!==a||Et.test(s)?"<table>"!==l[1]||Et.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)E.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}E.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}else p.push(t.createTextNode(s));u&&h.removeChild(u),E.support.appendChecked||E.grep(Ft(p,"input"),It),d=0;while(s=p[d++])if((!r||-1===E.inArray(s,r))&&(o=E.contains(s.ownerDocument,s),u=Ft(h.appendChild(s),"script"),o&&Ht(u),n)){i=0;while(s=u[i++])Ct.test(s.type||"")&&n.push(s)}return u=null,h},cleanData:function(e,t){var n,r,i,o,u=0,a=E.expando,f=E.cache,l=E.support.deleteExpando,c=E.event.special;for(;null!=(n=e[u]);u++)if((t||E.acceptData(n))&&(i=n[a],o=i&&f[i])){if(o.events)for(r in o.events)c[r]?E.event.remove(n,r):E.removeEvent(n,r,o.handle);f[i]&&(delete f[i],l?delete n[a]:typeof n.removeAttribute!==s?n.removeAttribute(a):n[a]=null,h.push(i))}},_evalUrl:function(e){return E.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),E.fn.extend({wrapAll:function(e){if(E.isFunction(e))return this.each(function(t){E(this).wrapAll(e.call(this,t))});if(this[0]){var t=E(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return E.isFunction(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=E.isFunction(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()}});var qt,Rt,Ut,zt=/alpha\([^)]*\)/i,Wt=/opacity\s*=\s*([^)]*)/,Xt=/^(top|right|bottom|left)$/,Vt=/^(none|table(?!-c[ea]).+)/,$t=/^margin/,Jt=RegExp("^("+S+")(.*)$","i"),Kt=RegExp("^("+S+")(?!px)[a-z%]+$","i"),Qt=RegExp("^([+-])=("+S+")","i"),Gt={BODY:"block"},Yt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},en=["Top","Right","Bottom","Left"],tn=["Webkit","O","Moz","ms"];E.fn.extend({css:function(e,n){return E.access(this,function(e,n,r){var i,s,o={},u=0;if(E.isArray(n)){for(s=Rt(e),i=n.length;i>u;u++)o[n[u]]=E.css(e,n[u],!1,s);return o}return r!==t?E.style(e,n,r):E.css(e,n)},e,n,arguments.length>1)},show:function(){return sn(this,!0)},hide:function(){return sn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){rn(this)?E(this).show():E(this).hide()})}}),E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ut(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":E.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=E.camelCase(n),f=e.style;if(n=E.cssProps[a]||(E.cssProps[a]=nn(f,a)),u=E.cssHooks[n]||E.cssHooks[a],r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];if(o=typeof r,"string"===o&&(s=Qt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(E.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||E.cssNumber[a]||(r+="px"),E.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(f[n]="inherit"),u&&"set"in u&&(r=u.set(e,r,i))===t)))try{f[n]=r}catch(l){}}},css:function(e,n,r,i){var s,o,u,a=E.camelCase(n);return n=E.cssProps[a]||(E.cssProps[a]=nn(e.style,a)),u=E.cssHooks[n]||E.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Ut(e,n,i)),"normal"===o&&n in Zt&&(o=Zt[n]),""===r||r?(s=parseFloat(o),r===!0||E.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(""!==a||E.contains(e.ownerDocument,e)||(a=E.style(e,n)),Kt.test(a)&&$t.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):u.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u[n]:t,f=e.style;return null==a&&f&&f[n]&&(a=f[n]),Kt.test(a)&&!Xt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left="fontSize"===n?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),""===a?"auto":a}),E.each(["height","width"],function(e,n){E.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Vt.test(E.css(e,"display"))?E.swap(e,Yt,function(){return an(e,n,i)}):an(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?un(e,n,r,E.support.boxSizing&&"border-box"===E.css(e,"boxSizing",!1,i),i):0)}}}),E.support.opacity||(E.cssHooks.opacity={get:function(e,t){return Wt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=E.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===E.trim(s.replace(zt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=zt.test(s)?s.replace(zt,i):s+" "+i)}}),E(function(){E.support.reliableMarginRight||(E.cssHooks.marginRight={get:function(e,n){return n?E.swap(e,{display:"inline-block"},Ut,[e,"marginRight"]):t}}),!E.support.pixelPosition&&E.fn.position&&E.each(["top","left"],function(e,n){E.cssHooks[n]={get:function(e,r){return r?(r=Ut(e,n),Kt.test(r)?E(e).position()[n]+"px":r):t}}})}),E.expr&&E.expr.filters&&(E.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!E.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||E.css(e,"display"))},E.expr.filters.visible=function(e){return!E.expr.filters.hidden(e)}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){var r=0,i={},s="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+en[r]+t]=s[r]||s[r-2]||s[0];return i}},$t.test(e)||(E.cssHooks[e+t].set=on)});var cn=/%20/g,hn=/\[\]$/,pn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,vn=/^(?:input|select|textarea|keygen)/i;E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&vn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:E.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(pn,"\r\n")}}):{name:t.name,value:n.replace(pn,"\r\n")}}).get()}}),E.param=function(e,n){var r,i=[],s=function(e,t){t=E.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=E.ajaxSettings&&E.ajaxSettings.traditional),E.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){s(this.name,this.value)});else for(r in e)mn(r,e[r],n,s);return i.join("&").replace(cn,"+")},E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var gn,yn,bn=E.now(),wn=/\?/,En=/#.*$/,Sn=/([?&])_=[^&]*/,xn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,Cn=/^\/\//,kn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ln=E.fn.load,An={},On={},Mn="*/".concat("*");try{yn=o.href}catch(_n){yn=u.createElement("a"),yn.href="",yn=yn.href}gn=kn.exec(yn.toLowerCase())||[],E.fn.load=function(e,n,r){if("string"!=typeof e&&Ln)return Ln.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),E.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),u.length>0&&E.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Tn.test(gn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Hn(Hn(e,E.ajaxSettings),t):Hn(E.ajaxSettings,e)},ajaxPrefilter:Dn(An),ajaxTransport:Dn(On),ajax:function(e,n){function N(e,n,r,i){var l,g,y,w,x,T=n;2!==b&&(b=2,u&&clearTimeout(u),f=t,o=i||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,r&&(w=Bn(c,S,r)),w=jn(c,w,S,l),l?(c.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(E.lastModified[s]=x),x=S.getResponseHeader("etag"),x&&(E.etag[s]=x)),204===e||"HEAD"===c.type?T="nocontent":304===e?T="notmodified":(T=w.state,g=w.data,y=w.error,l=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),S.status=e,S.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,S]):d.rejectWith(h,[S,T,y]),S.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,T]),a&&(p.trigger("ajaxComplete",[S,c]),--E.active||E.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=E.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?E(h):E.event,d=E.Deferred(),v=E.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l){l={};while(t=xn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return f&&f.abort(t),N(0,t),this}};if(d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||yn)+"").replace(En,"").replace(Cn,gn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=E.trim(c.dataType||"*").toLowerCase().match(x)||[""],null==c.crossDomain&&(r=kn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===gn[1]&&r[2]===gn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(gn[3]||("http:"===gn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=E.param(c.data,c.traditional)),Pn(An,c,n,S),2===b)return S;a=c.global,a&&0===E.active++&&E.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Nn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(wn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Sn.test(s)?s.replace(Sn,"$1_="+bn++):s+(wn.test(s)?"&":"?")+"_="+bn++)),c.ifModified&&(E.lastModified[s]&&S.setRequestHeader("If-Modified-Since",E.lastModified[s]),E.etag[s]&&S.setRequestHeader("If-None-Match",E.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Mn+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)S.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,S,c)!==!1&&2!==b){w="abort";for(i in{success:1,error:1,complete:1})S[i](c[i]);if(f=Pn(On,c,n,S)){S.readyState=1,a&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(2>b))throw T;N(-1,T)}}else N(-1,"No Transport");return S}return S.abort()},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,n){return E.get(e,t,n,"script")}}),E.each(["get","post"],function(e,n){E[n]=function(e,r,i,s){return E.isFunction(r)&&(s=s||i,i=r,r=t),E.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),E.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=u.head||E("head")[0]||u.documentElement;return{send:function(t,i){n=u.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],In=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||E.expando+"_"+bn++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(In.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(n.data)&&"data");return a||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=E.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(In,"$1"+s):n.jsonp!==!1&&(n.url+=(wn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||E.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(s)),u&&E.isFunction(o)&&o(u[0]),u=o=t}),"script"):t});var qn,Rn,Un=0,zn=e.ActiveXObject&&function(){var e;for(e in qn)qn[e](t,!0)};E.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Wn()||Xn()}:Wn,Rn=E.ajaxSettings.xhr(),E.support.cors=!!Rn&&"withCredentials"in Rn,Rn=E.support.ajax=!!Rn,Rn&&E.ajaxTransport(function(n){if(!n.crossDomain||E.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();if(n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async),n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||4===a.readyState))if(r=t,o&&(a.onreadystatechange=E.noop,zn&&delete qn[o]),i)4!==a.readyState&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}u||!n.isLocal||n.crossDomain?1223===u&&(u=204):u=c.text?200:404}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?4===a.readyState?setTimeout(r):(o=++Un,zn&&(qn||(qn={},E(e).unload(zn)),qn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Vn,$n,Jn=/^(?:toggle|show|hide)$/,Kn=RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),Qn=/queueHooks$/,Gn=[rr],Yn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Kn.exec(t),s=i&&i[3]||(E.cssNumber[e]?"":"px"),o=(E.cssNumber[e]||"px"!==s&&+r)&&Kn.exec(E.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,E.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};E.Animation=E.extend(tr,{tweener:function(e,t){E.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Yn[n]=Yn[n]||[],Yn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}}),E.Tween=ir,ir.prototype={constructor:ir,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(E.cssNumber[n]?"":"px")},cur:function(){var e=ir.propHooks[this.prop];return e&&e.get?e.get(this):ir.propHooks._default.get(this)},run:function(e){var t,n=ir.propHooks[this.prop];return this.pos=t=this.options.duration?E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ir.propHooks._default.set(this),this}},ir.prototype.init.prototype=ir.prototype,ir.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=E.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[E.cssProps[e.prop]]||E.cssHooks[e.prop])?E.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ir.propHooks.scrollTop=ir.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(sr(t,!0),e,r,i)}}),E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),s=E.speed(t,n,r),o=function(){var t=tr(this,E.extend({},e),s);(i||E._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=E.timers,o=E._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Qn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&E.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=E._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=E.timers,o=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each({slideDown:sr("show"),slideUp:sr("hide"),slideToggle:sr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};return r.duration=E.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},E.timers=[],E.fx=ir.prototype.init,E.fx.tick=function(){var e,n=E.timers,r=0;for(Vn=E.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||E.fx.stop(),Vn=t},E.fx.timer=function(e){e()&&E.timers.push(e)&&E.fx.start()},E.fx.interval=13,E.fx.start=function(){$n||($n=setInterval(E.fx.tick,E.fx.interval))},E.fx.stop=function(){clearInterval($n),$n=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fx.step={},E.expr&&E.expr.filters&&(E.expr.filters.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length}),E.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){E.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(u)return n=u.documentElement,E.contains(n,o)?(typeof o.getBoundingClientRect!==s&&(i=o.getBoundingClientRect()),r=or(u),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},E.offset={setOffset:function(e,t,n){var r=E.css(e,"position");"static"===r&&(e.style.position="relative");var i=E(e),s=i.offset(),o=E.css(e,"top"),u=E.css(e,"left"),a=("absolute"===r||"fixed"===r)&&E.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),E.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+c),null!=t.left&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},E.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===E.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),E.nodeName(e[0],"html")||(n=e.offset()),n.top+=E.css(e[0],"borderTopWidth",!0),n.left+=E.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-E.css(r,"marginTop",!0),left:t.left-n.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||a;while(e&&!E.nodeName(e,"html")&&"static"===E.css(e,"position"))e=e.offsetParent;return e||a})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);E.fn[e]=function(i){return E.access(this,function(e,i,s){var o=or(e);return s===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?E(o).scrollLeft():s,r?s:E(o).scrollTop()):e[i]=s,t)},e,i,arguments.length,null)}}),E.each({Height:"height",Width:"width"},function(e,n){E.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){E.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return E.access(this,function(n,r,i){var s;return E.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?E.css(n,r,u):E.style(n,r,i,u)},n,o?i:t,o,null)}})}),E.fn.size=function(){return this.length},E.fn.andSelf=E.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=E:(e.jQuery=e.$=E,"function"==typeof n&&n.amd&&n("jquery",[],function(){return E}))}(window),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),n("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(){var e=this,n=e.Backbone,r=[],i=r.push,s=r.slice,o=r.splice,u;typeof exports!="undefined"?u=exports:u=e.Backbone={},u.VERSION="1.1.0";var a=e._;!a&&typeof t!="undefined"&&(a=t("underscore")),u.$=e.jQuery||e.Zepto||e.ender||e.$,u.noConflict=function(){return e.Backbone=n,this},u.emulateHTTP=!1,u.emulateJSON=!1;var f=u.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,i=a.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,u,f,l,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:a.keys(this._events);for(u=0,f=o.length;u<f;u++){e=o[u];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(l=0,h=s.length;l<h;l++)i=s[l],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=!t&&!n;!n&&typeof t=="object"&&(n=this),e&&((r={})[e._listenId]=e);for(var s in r)e=r[s],e.off(t,n,this),(i||a.isEmpty(e._events))&&delete this._listeningTo[s];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};a.each(p,function(e,t){f[t]=function(t,n,r){var i=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=a.uniqueId("l"));return i[s]=t,!r&&typeof n=="object"&&(r=this),t[e](n,r,this),this}}),f.bind=f.on,f.unbind=f.off,a.extend(u,f);var d=u.Model=function(e,t){var n=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=a.defaults({},n,a.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return u.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,u,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,u=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=a.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],a.isEqual(c[r],t)||o.push(r),a.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!u){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!u)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(a.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t,n=a.extend({validate:!0},n);if(r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var u=this,f=n.success;return n.success=function(e){u.attributes=o;var t=u.parse(e,n);n.wait&&(t=a.extend(r||{},t));if(a.isObject(t)&&!u.set(t,n))return!1;f&&f(u,e,n),u.trigger("sync",u,e,n)},I(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;I(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||F();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t,{validationError:n})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];a.each(v,function(e){d.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var m=u.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};a.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return u.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,y))},remove:function(e,t){var n=!a.isArray(e);e=n?[e]:a.clone(e),t||(t={});var r,i,s,o;for(r=0,i=e.length;r<i;r++){o=e[r]=this.get(e[r]);if(!o)continue;delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o)}return n?e[0]:e},set:function(e,t){t=a.defaults({},t,g),t.parse&&(e=this.parse(e,t));var n=!a.isArray(e);e=n?e?[e]:[]:a.clone(e);var r,i,s,o,u,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=a.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(r=0,i=e.length;r<i;r++){u=e[r],u instanceof d?s=o=u:s=u[h.prototype.idAttribute];if(f=this.get(s))S&&(b[f.cid]=!0),E&&(u=u===o?o.attributes:u,t.parse&&(u=f.parse(u,t)),f.set(u,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[r]=f;else if(w){o=e[r]=this._prepareModel(u,t);if(!o)continue;m.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o)}x&&x.push(f||o)}if(S){for(r=0,i=this.length;r<i;++r)b[(o=this.models[r]).cid]||y.push(o);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(r=0,i=m.length;r<i;r++)this.models.splice(c+r,0,m[r]);else{x&&(this.models.length=0);var T=x||m;for(r=0,i=T.length;r<i;r++)this.models.push(T[r])}}l&&this.sort({silent:!0});if(!t.silent){for(r=0,i=m.length;r<i;r++)(o=m[r]).trigger("add",o,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?a.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(e){m.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var w=["groupBy","countBy","sortBy"];a.each(w,function(e){m.prototype[e]=function(t,n){var r=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,r,n)}});var E=u.View=function(e){this.cid=a.uniqueId("view"),e||(e={}),a.extend(this,a.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];a.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof u.$?e:u.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];a.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(S),i=r[1],s=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var t=u.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(a.result(this,"el"),!1)}}),u.sync=function(e,t,n){var r=N[e];a.defaults(n||(n={}),{emulateHTTP:u.emulateHTTP,emulateJSON:u.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=a.result(t,"url")||F()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&T&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var o=n.xhr=u.ajax(a.extend(i,n));return t.trigger("request",t,o,n),o};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};u.ajax=function(){return u.$.ajax.apply(u.$,arguments)};var C=u.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(C.prototype,f,{initialize:function(){},route:function(e,t,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return u.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),u.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return u.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=a.result(this,"routes");var e,t=a.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var M=u.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/[?#].*$/;M.started=!1,a.extend(M.prototype,f,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(D,"/"),r&&this._wantsHashChange&&(this.iframe=u.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?u.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?u.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){u.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),a.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),u.history=new M;var j=function(e,t){var n=this,r;e&&a.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},a.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&a.extend(r.prototype,e),r.__super__=n.prototype,r};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),n("backbone",["underscore","jquery"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),n("models/abstract",["jquery","underscore","backbone"],function(e,t,n){"use strict";var r=n.Model.extend({defaults:{view:null},doLog:!0,logPrefix:"",close:function(){this.log("AbstractModel > close")},setView:function(e){this.set("view",e)},getView:function(){return this.get("view")},log:function(){if(this.doLog){var e=Array.prototype.slice.call(arguments);e.unshift(this.logPrefix),console.log.apply(console,e)}}});return r}),n("x2js",function(e){return function(){var t,n;return t||e.x2js}}(this)),n("util/xmlUtils",["jquery","underscore","models/app","x2js"],function(e,t,n){"use strict";var i={};i.JOIN_STR="\n",i.header='<?xml version="1.0" encoding="UTF-8"?>',i.nestedLists=["relationships","concepts"],i.nestedHash={concepts:"concept",scenarios:"scenario",groupNames:"groupName"};var s={escapeMode:!0,attributePrefix:"_",arrayAccessForm:"none",emptyNodeForm:"text",enableToStringFunc:!0,arrayAccessFormPaths:[],skipEmptyTextNodesForObj:!0,stripWhitespaces:!0};return i.x2js=new r(s),i.elementsFromJSON=function(e,t,n,r){typeof t=="undefined"&&(t=[]),r=r||{};var s=r.attr,o=[i.JOIN_STR];for(var u in e)if(t.indexOf(u)===-1){var a=r.nodeName===undefined?u:r.nodeName,f;s!==undefined&&(f=[{name:s,value:u}]);var l=this.elementNL(a,e[u],n,f);o.push(l)}return o.join("")},i.element=function(e,n,r,i){i=i||[];var s,o=" ";return t.each(i,function(e){o+=e.name+'="'+e.value+'"'}),typeof n=="undefined"?s="<"+e+o+"/>":typeof r!="undefined"&&r===!0?s="<"+e+o+"><![CDATA["+n+"]]></"+e+">":s="<"+e+o+">"+n+"</"+e+">",s},i.elementNL=function(e,t,n,r){return this.element(e,t,n,r)+"\n"},i.unnestJsonArray=function(e,t){return e[t]?Object.prototype.toString.call(e[t])==="[object Array]"?e[t].slice():[e[t]]:[]},i.nestJsonArray=function(e,n,r,i){i[n]={};var s;t.isEmpty(e)?i[n][r]="":t.isArray(e)?i[n][r]=e.slice():t.isObject(e)&&(i[n][r]=[e]),n==="concepts"&&t.isArray(i[n][r])&&t.each(i[n][r],function(e,t,n){e.relationships&&Object.prototype.toString.call(e.relationships)==="[object Array]"&&(e.relationships={relationship:e.relationships.slice()})})},i.encodeMmpFileX2js=function(e,n){t.each(e,function(e,t,n){i.nestedHash[t]&&i.nestJsonArray(e,t,i.nestedHash[t],n)}),e.hasOwnProperty("mentalModeler")||(e={mentalModeler:e})},i.parseMmpFileX2js=function(e,n){var r=i.x2js.xml_str2json(e);r.mentalModeler?r=r.mentalModeler:r.mentalmodeler&&(r=r.mentalmodeler),t.each(i.nestedHash,function(e,n,s){r[n]||(r[n]=[]),r[n]=i.unnestJsonArray(r[n],e,s),n==="concepts"&&t.each(r[n],function(e,t,n){e.relationships&&(e.relationships=i.unnestJsonArray(e.relationships,"relationship"))})}),i.encodeMmpFileX2js(r)},i.parseMmpFile=function(t,n){typeof n=="undefined"&&(n=[]);var r={},s=e.parseXML(t),o=s.firstChild.childNodes;for(var u=0;u<o.length;u++){var a=o[u];switch(a.localName){case"info":n.indexOf("info")===-1&&(r.info=this.getJSONFromNode(a));break;case"groupNames":n.indexOf("group")===-1&&(r.groupNames=this.getJSONFromNode(a));break;case"concepts":n.indexOf("concepts")===-1&&(r.concepts=this.getJSONFromArray(this.getChildNodes(a)));break;case"scenarios":n.indexOf("scenarivo")===-1&&(r.scenarios=this.getJSONFromArray(this.getChildNodes(a)))}}return i.parseMmpFileX2js(t),r},i.getChildNodes=function(e){var t=[],n=e.childNodes;for(var r=0;r<n.length;r++){var i=n[r];i.nodeType===1&&t.push(i)}return t},i.getChildNodes=function(e){var t=[],n=e.childNodes;for(var r=0;r<n.length;r++){var i=n[r];i.nodeType===1&&t.push(i)}return t},i.updateInfluenceValue=function(e){var t=window.mentalmodeler.appModel.values;return e.indexOf("<![CDATA[")>-1&&(e=e.replace("<![CDATA[","").replace("]]>","")),t[e]!==undefined&&(e=t[e]),isNaN(e)&&(e=parseFloat(e)),e},i.getJSONFromNode=function(e){var t=e.childNodes,n={};for(var r=0;r<t.length;r++){var s=t[r];if(s.nodeType===1){s.localName==="influence"&&(s.textContent=i.updateInfluenceValue(s.textContent));if(s.localName==="groupName"){var o=s.getAttribute("index");n[o]=s.textContent;continue}this.nestedLists.indexOf(s.localName)>-1?n[s.localName]=this.getJSONFromArray(this.getChildNodes(s)):n[s.localName]=s.textContent}}return n},i.getJSONFromArray=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(this.getJSONFromNode(e[n]));return t},i.replaceConceptsNode=function(t,n){var r=this.getConceptsNode(t),i=e.parseXML(n),s=i.firstChild.childNodes;for(var o=0;o<s.length;o++){var u=s[o];u.localName==="concepts"&&u.parentNode.replaceChild(r,u)}return(new XMLSerializer).serializeToString(i)},i.getConceptsNode=function(t){var n=e.parseXML("<concepts></concepts>"),r=e.parseXML(t),i=r.firstChild.childNodes;for(var s=0;s<i.length;s++){var o=i[s];o.localName==="concepts"&&(n=o)}return n},i}),n("models/info",["jquery","underscore","backbone","models/abstract","util/xmlUtils"],function(e,t,n,r,i){"use strict";var s=r.extend({defaults:{name:"Model",author:"",description:"",version:"",date:""},doLog:!1,logPrefix:"==*== InfoModel > ",initialize:function(){s.__super__.initialize.apply(this,arguments)},close:function(){},setData:function(e){this.log("setData, data:",e);for(var t in e)e[t]!==""?this.set(t,e[t]):t==="date"?this.set("date",(new Date).toString()):t==="version"&&this.set("version",window.mentalmodeler.appModel.version)},toXML:function(){return i.elementNL("info",i.elementsFromJSON(this.attributes,[],!0))}});return s}),n("models/group",["jquery","underscore","backbone","models/abstract","util/xmlUtils"],function(e,t,n,r,i){"use strict";var s=r.extend({defaults:{},doLog:!0,logPrefix:"==*== GroupModel > ",initialize:function(){s.__super__.initialize.apply(this,arguments)},close:function(){},setData:function(e){for(var t in e)this.set(t,e[t])},toXML:function(){return i.elementNL("groupNames",i.elementsFromJSON(this.attributes,[],!0,{nodeName:"groupName",attr:"index"}))}});return s}),n("models/relationship",["jquery","underscore","backbone","models/abstract","util/xmlUtils"],function(e,t,n,r,i){"use strict";var s=r.extend({defaults:{id:"",name:"",notes:"",confidence:"",influence:""},initialize:function(e){s.__super__.initialize.apply(this,arguments),typeof e!="undefined"&&this.setData(e)},setData:function(e){for(var t in e)e[t]!==""&&this.set(t,e[t])},toXML:function(){return i.elementNL("relationship",i.elementsFromJSON(this.attributes,[],!0))}});return s}),n("models/concept",["jquery","underscore","backbone","models/abstract","models/relationship","util/xmlUtils"],function(e,t,n,r,i,s){"use strict";var o=r.extend({defaults:{id:"",name:"",notes:"",x:"",y:"",units:"",group:"",preferredState:0,selected:"",influence:""},relationshipCollection:null,initialize:function(e){o.__super__.initialize.apply(this,arguments),this.relationshipCollection=new n.Collection([],{model:i}),typeof e!="undefined"?this.setData(e):console.log("ERROR >> ConceptModel >> no concept data provided")},getOutdegree:function(){var e=0;return this.relationshipCollection.each(function(t){var n=t.get("influence"),r=parseFloat(t.get("influence"));e+=isNaN(r)?0:Math.abs(r)}),e},getIndegree:function(){var e=this.getInfluences(!0);return e},getCentrality:function(){return this.getIndegree()+this.getOutdegree()},getType:function(){var e=this.getIndegree(),t=this.getOutdegree(),n="none";return e!==0?t!==0?n="ordinary":n="receiver":t!==0&&(n="driver"),n},toJSON:function(e){var t=o.__super__.toJSON.apply(this,arguments);switch(e){case"grid":t.relationships=this.getRelationshipsByIdHash();break;case"metrics":t.indegree=this.getIndegree(),t.outdegree=this.getOutdegree(),t.centrality=this.getCentrality(),t.type=this.getType();default:t.relationships=this.relationshipCollection.toJSON()}return t},toXML:function(){var e=[];e.push(s.elementsFromJSON(this.attributes,["selected","influence","relationships"],!0));var t=[s.JOIN_STR];return this.relationshipCollection.each(function(e){t.push(e.toXML())}),e.push(s.elementNL("relationships",t.join(""))),s.elementNL("concept",e.join(""))},getInfluences:function(e){var t=window.mentalmodeler.appModel,n=[],r=0,i=this.get("id");return this.collection.each(function(e){var s=e.relationshipCollection.findWhere({id:i});if(typeof s!="undefined"&&s&&s.get("influence")!="undefined"){var o=t.getInfluenceValue(s.get("influence"));n.push(o),r+=Math.abs(o)}else n.push(t.getInfluenceValue(""))}),e?r:n},getInfluencesForScenarioGraph:function(){var e=window.mentalmodeler.appModel;return this.collection.map(function(t){var n=this.relationshipCollection.findWhere({id:t.get("id")});return n&&n.get("influence")!="undefined"?e.getInfluenceValue(n.get("influence")):0}.bind(this))},getRelationshipsByIdHash:function(){var e=this.relationshipCollection.toJSON(),t={};for(var n=0;n<e.length;n++){var r=e[n];t[r.id]=r.influence}return t},setData:function(e){var n=this;for(var r in e)r==="relationships"?t.each(e[r],function(e){n.relationshipCollection.add(e)}):e[r]!==""&&this.set(r,e[r]);delete this.data}});return o}),n("models/scenarioConcept",["jquery","underscore","backbone","models/abstract","util/xmlUtils"],function(e,t,n,r,i){"use strict";var s=r.extend({defaults:{selected:!0,influence:"",id:"",name:""},conceptReference:null,doLog:!1,initialize:function(e){s.__super__.initialize.apply(this,arguments),typeof e.conceptRefProps!="undefined"?this.setData(e.conceptRefProps):console.log("ERROR >> ScenarioConceptModel >> no concept reference data provided")},close:function(){this.log("ScenarioConceptModel > close")},setData:function(e){for(var t in e)e[t]!==""&&(t==="selected"?e[t]===!0||e[t]==="True"||e[t]==="true"?this.set(t,!0):this.set(t,!1):this.set(t,e[t]))},toXML:function(){return i.elementNL("concept",i.elementsFromJSON(this.attributes,["conceptRefProps"],!0))}});return s}),n("util/dataUtils",["jquery","underscore"],function(e,t){"use strict";var n={};return n.makeID=function(e){var t="",n=16,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=53;for(var s=0;s<n;s++)s===0?t+=r.charAt(Math.floor(Math.random()*i)):t+=r.charAt(Math.floor(Math.random()*r.length));return t},n.setProperty=function(e,n,r){var i=[];t.isString(n)&&(i=n.split("."));if(t.isObject(e))for(var s=0;s<i.length;s++){var o=i[s];s<i.length-1&&!t.isObject(e[o])&&(e[o]={}),t.isObject(e)&&(s===i.length-1?e[o]=r:e=e[o])}},n.getProperty=function(e,r,i){var s=n.propertyExist(e,r,!0);return t.isUndefined(i)&&(t.isObject(e)&&t.has(e,"undefinedValue")?i=e.undefinedValue:i=""),t.isUndefined(s)&&(s=i),s},n.deleteProperty=function(e,t){var r=n.propertyExist(e,t,!1,!0);return r},n.propertyExist=function(e,n,r,i){t.isUndefined(r)&&(r=!1),t.isUndefined(i)&&(i=!1);var s=!1,o,u=!1,a=[];t.isString(n)&&(a=n.split("."));if(!t.isUndefined(e)&&!t.isNull(e))for(var f=0;f<a.length;f++){var l=a[f];if(!(t.isObject(e)&&t.has(e,l)&&!t.isNull(e[l])))return i?s:r?o:u;f===a.length-1?i?(delete e[l],s=!0):(o=e[l],u=!0):e=e[l]}return i?s:r?o:u},n.stripEmptyProperties=function(e,r){r===undefined&&(r=[]);for(var i in e)if(t.isObject(e[i]))t.isEmpty(e[i])?delete e[i]:n.stripEmptyProperties(e[i],r);else{var s=t.isEmpty(e[i])||e[i]==="noColor";s&&!t.isNumber(e[i])&&!t.isBoolean(e[i])&&r.indexOf(i)===-1&&delete e[i]}return e},n.addPropUtils=function(e){return e.getProp=function(e,t){return n.getProperty(this,e,t)},e.setProp=function(e,t){return n.setProperty(this,e,t)},e.deleteProp=function(e){return n.deleteProperty(this,e)},e.propExist=function(e){return n.propertyExist(this,e)},e},n.removePropUtils=function(e){return t.has(e,"getProp")&&delete e.getProp,t.has(e,"setProp")&&delete e.setProp,t.has(e,"deleteProp")&&delete e.deleteProp,t.has(e,"propExist")&&delete e.propExist,e},n}),n("models/scenario",["jquery","underscore","backbone","models/abstract","models/concept","models/scenarioConcept","util/dataUtils","util/xmlUtils"],function(e,t,n,r,i,s,o,u){"use strict";var a=r.extend({defaults:{xml:"",name:"Scenario"},conceptCollection:null,sourceConceptCollection:null,doLog:!1,logPrefix:"",initialize:function(e){a.__super__.initialize.apply(this,arguments),this.conceptCollection=new n.Collection([],{model:s}),typeof e!="undefined"?this.setData(e):this.log("ERROR >> ScenarioModel >> no scenario data provided")},close:function(){this.log("ScenarioModel > close"),this.conceptCollection.reset(),this.conceptCollection=null,this.sourceConceptCollection=null},getConceptsForScenario:function(){return this.updateCollection(),this.conceptCollection.toJSON()},updateCollection:function(){var e=this.conceptCollection.clone();this.addConcepts(e)},addConcepts:function(e){this.log("======= ScenarioModel >> addConcepts, prevCollection:",e);var t=this;t.conceptCollection.reset();var n=window.mentalmodeler.appModel;if(n.curModel!==null){var r=n.curModel.conceptCollection;this.sourceConceptCollection.each(function(n){var r=n.get("id"),i={id:r,name:n.get("name"),preferredState:n.get("preferredState")},s=e.findWhere({id:r});typeof s!="undefined"?(i.selected=s.get("selected"),i.influence=s.get("influence"),t.log("     modifying scenario concept, conceptRefProps:",i)):t.log("     adding scenario concept, conceptRefProps:",i),t.conceptCollection.add({conceptRefProps:i})})}this.log("     newCollection:",t.conceptCollection)},setData:function(e){var n=this;this.conceptCollection.reset();for(var r in e)r==="sourceConceptCollection"?(this.sourceConceptCollection=e[r],this.log("==== ScenarioModel > this.sourceConceptCollection:",this.sourceConceptCollection)):r==="concepts"?t.each(e[r],function(e){n.conceptCollection.add({conceptRefProps:e})}):e[r]!==""&&this.set(r,e[r]);this.updateCollection()},toXML:function(){var e=[u.JOIN_STR];this.conceptCollection.each(function(t){e.push(t.toXML())});var t=[u.JOIN_STR,u.elementNL("name",this.get("name"),!0)];return t.push(u.elementNL("concepts",e.join(""))),u.elementNL("scenario",t.join(""))}});return a}),n("util/mathUtils",["jquery","underscore"],function(e,t){"use strict";var n={};return n.round=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},n}),n("models/mmp",["jquery","underscore","backbone","models/abstract","models/info","models/group","models/concept","models/scenario","util/xmlUtils","util/mathUtils"],function(e,t,n,r,i,s,o,u,a,f){"use strict";var l=r.extend({defaults:{xml:'<?xml version="1.0" encoding="UTF-8"?><mentalModeler><info><id></id><name></name><version></version><date></date><author></author></info><concepts></concepts><scenarios></scenarios></mentalModeler>',xmlDoc:null,justAdded:!1,filename:"project.mmp"},infoModel:null,groupModel:null,conceptCollection:null,scenarioCollection:null,scenarioIndex:0,x2js:null,doLog:!1,logPrefix:"======== MmpModel > ",initialize:function(e){l.__super__.initialize.apply(this,arguments),this.infoModel=new i,this.groupModel=new s,this.conceptCollection=new n.Collection([],{model:o}),this.scenarioCollection=new n.Collection([],{model:u}),this.parseXML(this.get("xml")),this.setData(a.parseMmpFile(this.get("xml"))),n.trigger("mmp:change"),this.listenTo(this.scenarioCollection,"add",this.onScenarioAdded)},parseXML:function(e){},close:function(){this.log("MmpModel > close"),this.getView()&&this.getView().close(),this.scenarioCollection.each(function(e){e.close()}),this.scenarioCollection.reset(),this.scenarioCollection=null,this.conceptCollection.reset(),this.conceptCollection=null,this.infoModel.close(),this.infoModel=null},updateFromModelSection:function(e){var t=a.parseMmpFile(e,["info","scenario"]).concepts;this.conceptCollection.reset(t);var n=a.replaceConceptsNode(e,this.get("xml"));this.set("xml",n)},addScenario:function(e){typeof e=="undefined"&&(e={}),e.sourceConceptCollection=this.conceptCollection,this.scenarioCollection.add(e),n.trigger("scenario:add")},onScenarioAdded:function(){this.getView().onScenariosChange()},setData:function(e){if(typeof e=="undefined")return!1;var n=this;typeof e.info!="undefined"&&this.infoModel.setData(e.info),typeof e.groupNames!="undefined"&&this.groupModel.setData(e.groupNames),typeof e.concepts!="undefined"&&t.each(e.concepts,function(e){n.conceptCollection.add(e)}),e.hasOwnProperty("scenarios")&&e.scenarios.length>0?(this.scenarioCollection.reset(),t.each(e.scenarios,function(e){n.addScenario(e)})):n.addScenario()},getModelingXML:function(){var e=[a.JOIN_STR,this.groupModel.toXML(),this.getConceptsXML()],t=a.header+a.JOIN_STR+a.elementNL("mentalmodeler",e.join(""));return t},getXML:function(){var e=[a.JOIN_STR,this.infoModel.toXML(),this.groupModel.toXML(),this.getConceptsXML(),this.getScenariosXML()],t=a.header+a.JOIN_STR+a.elementNL("mentalmodeler",e.join(""));return this.set("xml",t),t},getConceptsXML:function(){var e=[a.JOIN_STR];return this.conceptCollection.each(function(t){e.push(t.toXML())}),a.elementNL("concepts",e.join(""))},getScenariosXML:function(){var e=[a.JOIN_STR];return this.scenarioCollection.each(function(t){e.push(t.toXML())}),a.elementNL("scenarios",e.join(""))},getStructuralMetrics:function(){var e=10,n=this.conceptCollection.length,r=this.getNumberOfConnections(),i=this.conceptCollection.toJSON("metrics"),s=t.groupBy(i,"type"),o=t.isArray(s.driver)?s.driver.length:0,u=t.isArray(s.receiver)?s.receiver.length:0,a=t.isArray(s.ordinary)?s.ordinary.length:0,l={numComs:n,numCons:r,density:f.round(r/this.getPossibleNumberOfConnections(),e),consPerComs:f.round(r/n,e),numDrivers:o,numReceivers:u,numOrdinary:a,complexityScore:f.round(u/o,e),singleMetrics:[{value:"numComs",title:"Total Components"},{value:"numCons",title:"Total Connections"},{value:"density",title:"Density"},{value:"consPerComs",title:"Connections per Component"},{value:"numDrivers",title:"Number of Driver Components"},{value:"numReceivers",title:"Number of Receiver Components"},{value:"numOrdinary",title:"Number of Ordinary Components"},{value:"complexityScore",title:"Complexity Score"}],concepts:i};return l},getNumberOfConnections:function(){var e=0;return this.conceptCollection.each(function(t){e+=t.relationshipCollection?t.relationshipCollection.length:0}),e},getPossibleNumberOfConnections:function(){var e=this.conceptCollection.length;return this.conceptCollection?e*(e-1):0},getInfo:function(){return this.infoModel.toJSON()},getConceptsForGrid:function(){return this.conceptCollection.toJSON("grid")},getConceptsForScenario:function(){return this.conceptCollection.toJSON("grid")},getDataForScenarioCalculation:function(){var e=window.mentalmodeler.appModel,t=[],n=[],r=[],i=null;return e.curSelection instanceof u&&(i=e.curSelection.conceptCollection),this.conceptCollection.each(function(s){n.push(s.getInfluencesForScenarioGraph());if(i!==null){var o=i.findWhere({id:s.get("id")});typeof o!="undefined"&&o!==null?(t.push(o),r.push(e.getInfluenceValue(o.get("influence")))):r.push(e.getInfluenceValue(""))}}),{concepts:t,influences:n,clamps:r}}});return l}),function(e,t,r,i){"use strict";function s(e){var t,n=this;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e;if(!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return s.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return s.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return s.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){return s.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){return s.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return s.prototype.onTouchCancel.apply(n,arguments)};if(s.notNeeded(e))return;this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null)}function o(e){if(typeof e=="string"||e instanceof String)e=e.replace(/^[\\/'"]+|(;\s?})+|[\\/'"]+$/g,"");return e}e("head").has(".foundation-mq-small").length===0&&e("head").append('<meta class="foundation-mq-small">'),e("head").has(".foundation-mq-medium").length===0&&e("head").append('<meta class="foundation-mq-medium">'),e("head").has(".foundation-mq-large").length===0&&e("head").append('<meta class="foundation-mq-large">'),e("head").has(".foundation-mq-xlarge").length===0&&e("head").append('<meta class="foundation-mq-xlarge">'),e("head").has(".foundation-mq-xxlarge").length===0&&e("head").append('<meta class="foundation-mq-xxlarge">'),s.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,s.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),s.prototype.deviceIsIOS4=s.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s.prototype.deviceIsIOSWithBadTarget=s.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),s.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},s.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},s.prototype.sendClick=function(e,n){var i,s;r.activeElement&&r.activeElement!==e&&r.activeElement.blur(),s=n.changedTouches[0],i=r.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},s.prototype.focus=function(e){var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},s.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},s.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},s.prototype.onTouchStart=function(e){var n,r,i;if(e.targetTouches.length>1)return!0;n=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0];if(this.deviceIsIOS){i=t.getSelection();if(i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(n)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=n,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},s.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},s.prototype.onTouchMove=function(e){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},s.prototype.findControl=function(e){return e.control!==i?e.control:e.htmlFor?r.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},s.prototype.onTouchEnd=function(e){var n,i,s,o,u,a=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(u=e.changedTouches[0],a=r.elementFromPoint(u.pageX-t.pageXOffset,u.pageY-t.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=a.tagName.toLowerCase();if(s==="label"){n=this.findControl(a);if(n){this.focus(a);if(this.deviceIsAndroid)return!1;a=n}}else if(this.needsFocus(a)){if(e.timeStamp-i>100||this.deviceIsIOS&&t.top!==t&&s==="input")return this.targetElement=null,!1;this.focus(a);if(!this.deviceIsIOS4||s!=="select")this.targetElement=null,e.preventDefault();return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4){o=a.fastClickScrollParent;if(o&&o.fastClickLastScrollTop!==o.scrollTop)return!0}return this.needsClick(a)||(e.preventDefault(),this.sendClick(a,e)),!1},s.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},s.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},s.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},s.prototype.destroy=function(){var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},s.notNeeded=function(e){var n;if(typeof t.ontouchstart=="undefined")return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!s.prototype.deviceIsAndroid)return!0;n=r.querySelector("meta[name=viewport]");if(n&&n.content.indexOf("user-scalable=no")!==-1)return!0}return e.style.msTouchAction==="none"?!0:!1},s.attach=function(e){return new s(e)},typeof n!="undefined"&&n.amd?n("foundation",[],function(){return s}):typeof module!="undefined"&&module.exports?(module.exports=s.attach,module.exports.FastClick=s):t.FastClick=s,typeof s!="undefined"&&s.attach(r.body);var u=function(t,n){return typeof t=="string"?n?e(n.querySelectorAll(t)):e(r.querySelectorAll(t)):e(t,n)};t.matchMedia=t.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(s,i),n=o.offsetWidth===42,r.removeChild(s),{matches:n,media:e}}}(r),function(e){function n(){r&&(o(n),jQuery.fx.tick())}var r,i=0,s=["webkit","moz"],o=t.requestAnimationFrame,u=t.cancelAnimationFrame;for(;i<s.length&&!o;i++)o=t[s[i]+"RequestAnimationFrame"],u=u||t[s[i]+"CancelAnimationFrame"]||t[s[i]+"CancelRequestAnimationFrame"];o?(t.requestAnimationFrame=o,t.cancelAnimationFrame=u,jQuery.fx.timer=function(e){e()&&jQuery.timers.push(e)&&!r&&(r=!0,n())},jQuery.fx.stop=function(){r=!1}):(t.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),s=Math.max(0,16-(r-i)),o=t.setTimeout(function(){e(r+s)},s);return i=r+s,o},t.cancelAnimationFrame=function(e){clearTimeout(e)})}(jQuery),t.Foundation={name:"Foundation",version:"5.0.0",media_queries:{small:u(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:u(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:u(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:u(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:u(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,init:function(e,t,n,r,i){var s,o=[e,n,r,i],a=[];this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=e||this.scope;if(t&&typeof t=="string"&&!/reflow/i.test(t))this.libs.hasOwnProperty(t)&&a.push(this.init_lib(t,o));else for(var f in this.libs)a.push(this.init_lib(f,t));return e},init_lib:function(e,t){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),t&&t.hasOwnProperty(e)?this.libs[e].init.apply(this.libs[e],[this.scope,t[e]]):this.libs[e].init.apply(this.libs[e],t)):function(){}},patch:function(e){e.scope=this.scope,e.data_options=this.lib_methods.data_options,e.bindings=this.lib_methods.bindings,e.S=u,e.rtl=this.rtl},inherit:function(e,t){var n=t.split(" ");for(var r=n.length-1;r>=0;r--)this.lib_methods.hasOwnProperty(n[r])&&(this.libs[e.name][n[r]]=this.lib_methods[n[r]])},random_str:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));var n="";for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n},libs:{},lib_methods:{throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},data_options:function(t){function n(e){return!isNaN(e-0)&&e!==null&&e!==""&&e!==!1&&e!==!0}function r(t){return typeof t=="string"?e.trim(t):t}var i={},s,o,u,a,f=t.data("options");if(typeof f=="object")return f;u=(f||":").split(";"),a=u.length;for(s=a-1;s>=0;s--)o=u[s].split(":"),/true/i.test(o[1])&&(o[1]=!0),/false/i.test(o[1])&&(o[1]=!1),n(o[1])&&(o[1]=parseInt(o[1],10)),o.length===2&&o[0].length>0&&(i[r(o[0])]=r(o[1]));return i},delay:function(e,t){return setTimeout(e,t)},empty:function(e){if(e.length&&e.length>0)return!1;if(e.length&&e.length===0)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},register_media:function(t,n){Foundation.media_queries[t]===i&&(e("head").append('<meta class="'+n+'">'),Foundation.media_queries[t]=o(e("."+n).css("font-family")))},addCustomRule:function(e,t){if(t===i)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[t];n!==i&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }")}},loaded:function(e,t){function n(){t(e[0])}function r(){this.one("load",n);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}if(!e.attr("src")){n();return}e[0].complete||e[0].readyState===4?n():r.call(e)},bindings:function(t,n){var r=this,i=!u(this).data(this.name+"-init");if(typeof t=="string")return this[t].call(this);u(this.scope).is("[data-"+this.name+"]")?(u(this.scope).data(this.name+"-init",e.extend({},this.settings,n||t,this.data_options(u(this.scope)))),i&&this.events(this.scope)):u("[data-"+this.name+"]",this.scope).each(function(){var i=!u(this).data(r.name+"-init");u(this).data(r.name+"-init",e.extend({},r.settings,n||t,r.data_options(u(this)))),i&&r.events(this)})}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(jQuery,this,this.document),function(e,t,n,r){"use strict";var i=i||!1;Foundation.libs.joyride={name:"joyride",version:"5.0.0",defaults:{expose:!1,modal:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,t,n){Foundation.inherit(this,"throttle delay"),this.settings=this.defaults,this.bindings(t,n)},events:function(){var n=this;e(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(e){e.preventDefault(),this.end()}.bind(this)),e(t).off(".joyride").on("resize.fndtn.joyride",n.throttle(function(){if(e("[data-joyride]").length>0&&n.settings.$next_tip){if(n.settings.exposed.length>0){var t=e(n.settings.exposed);t.each(function(){var t=e(this);n.un_expose(t),n.expose(t)})}n.is_phone()?n.pos_phone():n.pos_default(!1,!0)}},100))},start:function(){var t=this,n=e("[data-joyride]",this.scope),r=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],i=r.length;if(!n.length>0)return;this.settings.init||this.events(),this.settings=n.data("joyride-init"),this.settings.$content_el=n,this.settings.$body=e(this.settings.tip_container),this.settings.body_offset=e(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,typeof e.cookie!="function"&&(this.settings.cookie_monster=!1);if(!this.settings.cookie_monster||this.settings.cookie_monster&&e.cookie(this.settings.cookie_name)===null)this.settings.$tip_content.each(function(n){var s=e(this);this.settings=e.extend({},t.defaults,t.data_options(s));for(var o=i-1;o>=0;o--)t.settings[r[o]]=parseInt(t.settings[r[o]],10);t.create({$li:s,index:n})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")},resume:function(){this.set_li(),this.show()},tip_template:function(t){var n,r;return t.tip_class=t.tip_class||"",n=e(this.settings.template.tip).addClass(t.tip_class),r=e.trim(e(t.li).html())+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),n.append(e(this.settings.template.wrapper)),n.first().attr("data-index",t.index),e(".joyride-content-wrapper",n).append(r),n[0]},timer_instance:function(t){var n;return t===0&&this.settings.start_timer_on_click&&this.settings.timer>0||this.settings.timer===0?n="":n=e(this.settings.template.timer)[0].outerHTML,n},button_text:function(t){return this.settings.next_button?(t=e.trim(t)||"Next",t=e(this.settings.template.button).append(t)[0].outerHTML):t="",t},create:function(t){var n=t.$li.attr("data-button")||t.$li.attr("data-text"),r=t.$li.attr("class"),i=e(this.tip_template({tip_class:r,index:t.index,button_text:n,li:t.$li}));e(this.settings.tip_container).append(i)},show:function(t){var n=null;this.settings.$li===r||e.inArray(this.settings.$li.index(),this.settings.pause_after)===-1?(this.settings.paused?this.settings.paused=!1:this.set_li(t),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(t&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=e.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),n=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(n.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(n.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||e(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(e.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(e){e?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=e(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var t=this.settings.$li.attr("data-class"),r=this.settings.$li.attr("data-id"),i=function(){return r?e(n.getElementById(r)):t?e("."+t).first():e("body")};this.settings.$target=i()},scroll_to:function(){var n,r;n=e(t).height()/2,r=Math.ceil(this.settings.$target.offset().top-n+this.settings.$next_tip.outerHeight()),r>0&&e("html, body").animate({scrollTop:r},this.settings.scroll_speed,"swing")},paused:function(){return e.inArray(this.settings.$li.index()+1,this.settings.pause_after)===-1},restart:function(){this.hide(),this.settings.$li=r,this.show("init")},pos_default:function(n,r){var i=Math.ceil(e(t).height()/2),s=this.settings.$next_tip.offset(),o=this.settings.$next_tip.find(".joyride-nub"),u=Math.ceil(o.outerWidth()/2),a=Math.ceil(o.outerHeight()/2),f=n||!1;f&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),typeof r=="undefined"&&(r=!1);if(!/body/i.test(this.settings.$target.selector)){if(this.bottom()){var l=this.settings.$target.offset().left;Foundation.rtl&&(l=this.settings.$target.offset().width-this.settings.$next_tip.width()+l),this.settings.$next_tip.css({top:this.settings.$target.offset().top+a+this.settings.$target.outerHeight(),left:l}),this.nub_position(o,this.settings.tip_settings.nub_position,"top")}else if(this.top()){var l=this.settings.$target.offset().left;Foundation.rtl&&(l=this.settings.$target.offset().width-this.settings.$next_tip.width()+l),this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-a,left:l}),this.nub_position(o,this.settings.tip_settings.nub_position,"bottom")}else this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.outerWidth(this.settings.$target)+this.settings.$target.offset().left+u}),this.nub_position(o,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-u}),this.nub_position(o,this.settings.tip_settings.nub_position,"right"));!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(o.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}else this.settings.$li.length&&this.pos_modal(o);f&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var n=this.settings.$next_tip.outerHeight(),r=this.settings.$next_tip.offset(),i=this.settings.$target.outerHeight(),s=e(".joyride-nub",this.settings.$next_tip),o=Math.ceil(s.outerHeight()/2),u=t||!1;s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),u&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-n-o}),s.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+i+o}),s.addClass("top")),u&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(e){this.center(),e.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var t=e(".joyride-modal-bg");t.length<1&&e("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?t.show():t.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var n,r,i,s,o,u="expose-"+Math.floor(Math.random()*1e4);if(arguments.length>0&&arguments[0]instanceof e)i=arguments[0];else{if(!this.settings.$target||!!/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}if(i.length<1)return t.console&&console.error("element not valid",i),!1;n=e(this.settings.template.expose),this.settings.$body.append(n),n.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),r=e(this.settings.template.expose_cover),s={zIndex:i.css("z-index"),position:i.css("position")},o=i.attr("class")==null?"":i.attr("class"),i.css("z-index",parseInt(n.css("z-index"))+1),s.position=="static"&&i.css("position","relative"),i.data("expose-css",s),i.data("orig-class",o),i.attr("class",o+" "+this.settings.expose_add_class),r.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(r),n.addClass(u),r.addClass(u),i.data("expose",u),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,i),this.add_exposed(i)},un_expose:function(){var n,r,i,s,o,u=!1;if(arguments.length>0&&arguments[0]instanceof e)r=arguments[0];else{if(!this.settings.$target||!!/body/i.test(this.settings.$target.selector))return!1;r=this.settings.$target}if(r.length<1)return t.console&&console.error("element not valid",r),!1;n=r.data("expose"),i=e("."+n),arguments.length>1&&(u=arguments[1]),u===!0?e(".joyride-expose-wrapper,.joyride-expose-cover").remove():i.remove(),s=r.data("expose-css"),s.zIndex=="auto"?r.css("z-index",""):r.css("z-index",s.zIndex),s.position!=r.css("position")&&(s.position=="static"?r.css("position",""):r.css("position",s.position)),o=r.data("orig-class"),r.attr("class",o),r.removeData("orig-classes"),r.removeData("expose"),r.removeData("expose-z-index"),this.remove_exposed(r)},add_exposed:function(t){this.settings.exposed=this.settings.exposed||[],t instanceof e||typeof t=="object"?this.settings.exposed.push(t[0]):typeof t=="string"&&this.settings.exposed.push(t)},remove_exposed:function(t){var n,r;t instanceof e?n=t[0]:typeof t=="string"&&(n=t),this.settings.exposed=this.settings.exposed||[],r=this.settings.exposed.length;for(var i=0;i<r;i++)if(this.settings.exposed[i]==n){this.settings.exposed.splice(i,1);return}},center:function(){var n=e(t);return this.settings.$next_tip.css({top:(n.height()-this.settings.$next_tip.outerHeight())/2+n.scrollTop(),left:(n.width()-this.settings.$next_tip.outerWidth())/2+n.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(n){var r=e(t),i=r.height()/2,s=Math.ceil(this.settings.$target.offset().top-i+this.settings.$next_tip.outerHeight()),o=r.width()+r.scrollLeft(),u=r.height()+s,a=r.height()+r.scrollTop(),f=r.scrollTop();return s<f&&(s<0?f=0:f=s),u>a&&(a=u),[n.offset().top<f,o<n.offset().left+n.outerWidth(),a<n.offset().top+n.outerHeight(),r.scrollLeft()>n.offset().left]},visible:function(e){var t=e.length;while(t--)if(e[t])return!1;return!0},nub_position:function(e,t,n){t==="auto"?e.addClass(n):e.addClass(t)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(){this.settings.cookie_monster&&e.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),e(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip),e(".joyride-tip-guide").remove()},off:function(){e(this.scope).off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.0.0",settings:{active_class:"open",is_hover:!1,opened:function(){},closed:function(){}},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.bindings(t,n)},events:function(n){var r=this;e(this.scope).off(".dropdown").on("click.fndtn.dropdown","[data-dropdown]",function(t){var n=e(this).data("dropdown-init");t.preventDefault(),(!n.is_hover||Modernizr.touch)&&r.toggle(e(this))}).on("mouseenter.fndtn.dropdown","[data-dropdown], [data-dropdown-content]",function(t){var n=e(this);clearTimeout(r.timeout);if(n.data("dropdown"))var i=e("#"+n.data("dropdown")),s=n;else{var i=n;s=e("[data-dropdown='"+i.attr("id")+"']")}var o=s.data("dropdown-init");o.is_hover&&r.open.apply(r,[i,s])}).on("mouseleave.fndtn.dropdown","[data-dropdown], [data-dropdown-content]",function(t){var n=e(this);r.timeout=setTimeout(function(){if(n.data("dropdown")){var t=n.data("dropdown-init");t.is_hover&&r.close.call(r,e("#"+n.data("dropdown")))}else{var i=e('[data-dropdown="'+e(this).attr("id")+'"]'),t=i.data("dropdown-init");t.is_hover&&r.close.call(r,n)}}.bind(this),150)}).on("click.fndtn.dropdown",function(t){var n=e(t.target).closest("[data-dropdown-content]");if(e(t.target).data("dropdown")||e(t.target).parent().data("dropdown"))return;if(!e(t.target).data("revealId")&&n.length>0&&(e(t.target).is("[data-dropdown-content]")||e.contains(n.first()[0],t.target))){t.stopPropagation();return}r.close.call(r,e("[data-dropdown-content]"))}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed),e(t).off(".dropdown").on("resize.fndtn.dropdown",r.throttle(function(){r.resize.call(r)},50)).trigger("resize")},close:function(t){var n=this;t.each(function(){e(this).hasClass(n.settings.active_class)&&(e(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(n.settings.active_class),e(this).trigger("closed"))})},open:function(e,t){this.css(e.addClass(this.settings.active_class),t),e.trigger("opened")},toggle:function(t){var n=e("#"+t.data("dropdown"));if(n.length===0)return;this.close.call(this,e("[data-dropdown-content]").not(n)),n.hasClass(this.settings.active_class)?this.close.call(this,n):(this.close.call(this,e("[data-dropdown-content]")),this.open.call(this,n,t))},resize:function(){var t=e("[data-dropdown-content].open"),n=e("[data-dropdown='"+t.attr("id")+"']");t.length&&n.length&&this.css(t,n)},css:function(n,r){var i=n.offsetParent(),s=r.offset();s.top-=i.offset().top,s.left-=i.offset().left;if(this.small())n.css({position:"absolute",width:"95%","max-width":"none",top:s.top+r.outerHeight()}),n.css(Foundation.rtl?"right":"left","2.5%");else{if(!Foundation.rtl&&e(t).width()>n.outerWidth()+r.offset().left){var o=s.left;n.hasClass("right")&&n.removeClass("right")}else{n.hasClass("right")||n.addClass("right");var o=s.left-(n.outerWidth()-r.outerWidth())}n.attr("style","").css({position:"absolute",top:s.top+r.outerHeight(),left:o})}return n},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){e(this.scope).off(".fndtn.dropdown"),e("html, body").off(".fndtn.dropdown"),e(t).off(".fndtn.dropdown"),e("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.0.0",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(t,n,r){var i=this;Foundation.inherit(this,"throttle loaded"),this.bindings(n,r),e(this.scope).is("[data-clearing]")?this.assemble(e("li",this.scope)):e("[data-clearing]",this.scope).each(function(){i.assemble(e("li",this))})},events:function(n){var r=this;e(this.scope).off(".clearing").on("click.fndtn.clearing","ul[data-clearing] li",function(t,n,i){var n=n||e(this),i=i||n,s=n.next("li"),o=n.closest("[data-clearing]").data("clearing-init"),u=e(t.target);t.preventDefault(),o||(r.init(),o=n.closest("[data-clearing]").data("clearing-init")),i.hasClass("visible")&&n[0]===i[0]&&s.length>0&&r.is_open(n)&&(i=s,u=e("img",i)),r.open(u,n,i),r.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(e){r.nav(e,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(e){r.nav(e,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}).on("keydown.fndtn.clearing",function(e){r.keydown(e)}),e(t).off(".clearing").on("resize.fndtn.clearing",function(){r.resize()}),this.swipe_events(n)},swipe_events:function(t){var n=this;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e(this).data("swipe-transition",n),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);if(t.touches.length>1||t.scale&&t.scale!==1)return;var r=e(this).data("swipe-transition");typeof r=="undefined"&&(r={}),r.delta_x=t.touches[0].pageX-r.start_page_x,typeof r.is_scrolling=="undefined"&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(t.touches[0].pageY-r.start_page_y)));if(!r.is_scrolling&&!r.active){t.preventDefault();var i=r.delta_x<0?"next":"prev";r.active=!0,n.nav(t,i)}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(t){var n=t.parent();if(n.parent().hasClass("carousel"))return;n.after('<div id="foundationClearingHolder"></div>');var r=e("#foundationClearingHolder"),i=n.data("clearing-init"),s=n.detach(),o={grid:'<div class="carousel">'+s[0].outerHTML+"</div>",viewing:i.templates.viewing},u='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>";return r.after(u).remove()},open:function(t,n,r){var i=r.closest(".clearing-assembled"),s=e("div",i).first(),o=e(".visible-img",s),u=e("img",o).not(t);this.locked()||(u.attr("src",this.load(t)).css("visibility","hidden"),this.loaded(u,function(){u.css("visibility","visible"),i.addClass("clearing-blackout"),s.addClass("clearing-container"),o.show(),this.fix_height(r).caption(e(".clearing-caption",o),t).center(u).shift(n,r,function(){r.siblings().removeClass("visible"),r.addClass("visible")})}.bind(this)))},close:function(t,n){t.preventDefault();var r=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(n)),i,s;return n===t.target&&r&&(i=e("div",r).first(),s=e(".visible-img",i),this.settings.prev_index=0,e("ul[data-clearing]",r).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),i.removeClass("clearing-container"),s.hide()),!1},is_open:function(e){return e.parent().prop("style").length>0},keydown:function(t){var n=e("ul[data-clearing]",".clearing-blackout");t.which===39&&this.go(n,"next"),t.which===37&&this.go(n,"prev"),t.which===27&&e("a.clearing-close").trigger("click")},nav:function(t,n){var r=e("ul[data-clearing]",".clearing-blackout");t.preventDefault(),this.go(r,n)},resize:function(){var t=e("img",".clearing-blackout .visible-img");t.length&&this.center(t)},fix_height:function(t){var n=t.parent().children(),r=this;return n.each(function(){var t=e(this),n=t.find("img");t.height()>n.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(n.length*100+"%"),this},update_paddles:function(t){var n=t.closest(".carousel").siblings(".visible-img");t.next().length>0?e(".clearing-main-next",n).removeClass("disabled"):e(".clearing-main-next",n).addClass("disabled"),t.prev().length>0?e(".clearing-main-prev",n).removeClass("disabled"):e(".clearing-main-prev",n).addClass("disabled")},center:function(e){return this.rtl?e.css({marginRight:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)}):e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)}),this},load:function(e){if(e[0].nodeName==="A")var t=e.attr("href");else var t=e.parent().attr("href");return this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},img:function(t){if(t.length){var n=new Image,r=e("a",t);r.length?n.src=r.attr("href"):n.src=e("img",t).attr("src")}return this},caption:function(e,t){var n=t.data("caption");return n?e.html(n).show():e.text("").hide(),this},go:function(t,n){var r=e(".visible",t),i=r[n]();i.length&&e("img",i).trigger("click",[r,i])},shift:function(e,t,n){var r=t.parent(),i=this.settings.prev_index||t.index(),s=this.direction(r,e,t),o=parseInt(r.css("left"),10),u=t.outerWidth(),a;t.index()!==i&&!/skip/.test(s)?/left/.test(s)?(this.lock(),r.animate({left:o+u},300,this.unlock())):/right/.test(s)&&(this.lock(),r.animate({left:o-u},300,this.unlock())):/skip/.test(s)&&(a=t.index()-this.settings.up_count,this.lock(),a>0?r.animate({left:-(a*u)},300,this.unlock()):r.animate({left:0},300,this.unlock())),n()},direction:function(t,n,r){var i=e("li",t),s=i.outerWidth()+i.outerWidth()/4,o=Math.floor(e(".clearing-container").outerWidth()/s)-1,u=i.index(r),a;return this.settings.up_count=o,this.adjacent(this.settings.prev_index,u)?u>o&&u>this.settings.prev_index?a="right":u>o-1&&u<=this.settings.prev_index?a="left":a=!1:a="skip",this.settings.prev_index=u,a},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){e(this.scope).off(".fndtn.clearing"),e(t).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";var i=function(){},s=function(i,s){if(i.hasClass(s.slides_container_class))return this;var f=this,l,c=i,h,p,d,v=0,m,g,y=!1,b=!1;c.children().first().addClass(s.active_slide_class),f.update_slide_number=function(t){s.slide_number&&(h.find("span:first").text(parseInt(t)+1),h.find("span:last").text(c.children().length)),s.bullets&&(p.children().removeClass(s.bullets_active_class),e(p.children().get(t)).addClass(s.bullets_active_class))},f.update_active_link=function(t){var n=e('a[data-orbit-link="'+c.children().eq(t).attr("data-orbit-slide")+'"]');n.parents("ul").find("[data-orbit-link]").removeClass(s.bullets_active_class),n.addClass(s.bullets_active_class)},f.build_markup=function(){c.wrap('<div class="'+s.container_class+'"></div>'),l=c.parent(),c.addClass(s.slides_container_class),s.navigation_arrows&&(l.append(e('<a href="#"><span></span></a>').addClass(s.prev_class)),l.append(e('<a href="#"><span></span></a>').addClass(s.next_class))),s.timer&&(d=e("<div>").addClass(s.timer_container_class),d.append("<span>"),d.append(e("<div>").addClass(s.timer_progress_class)),d.addClass(s.timer_paused_class),l.append(d)),s.slide_number&&(h=e("<div>").addClass(s.slide_number_class),h.append("<span></span> "+s.slide_number_text+" <span></span>"),l.append(h)),s.bullets&&(p=e("<ol>").addClass(s.bullets_container_class),l.append(p),p.wrap('<div class="orbit-bullets-container"></div>'),c.children().each(function(t,n){var r=e("<li>").attr("data-orbit-slide",t);p.append(r)})),s.stack_on_small&&l.addClass(s.stack_on_small_class),f.update_slide_number(0),f.update_active_link(0)},f._goto=function(t,n){if(t===v)return!1;typeof g=="object"&&g.restart();var r=c.children(),i="next";y=!0,t<v&&(i="prev"),t>=r.length?t=0:t<0&&(t=r.length-1);var o=e(r.get(v)),u=e(r.get(t));o.css("zIndex",2),o.removeClass(s.active_slide_class),u.css("zIndex",4).addClass(s.active_slide_class),c.trigger("before-slide-change.fndtn.orbit"),s.before_slide_change(),f.update_active_link(t);var a=function(){var e=function(){v=t,y=!1,n===!0&&(g=f.create_timer(),g.start()),f.update_slide_number(v),c.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:r.length}]),s.after_slide_change(v,r.length)};c.height()!=u.height()&&s.variable_height?c.animate({height:u.height()},250,"linear",e):e()};if(r.length===1)return a(),!1;var l=function(){i==="next"&&m.next(o,u,a),i==="prev"&&m.prev(o,u,a)};u.height()>c.height()&&s.variable_height?c.animate({height:u.height()},250,"linear",l):l()},f.next=function(e){e.stopImmediatePropagation(),e.preventDefault(),f._goto(v+1)},f.prev=function(e){e.stopImmediatePropagation(),e.preventDefault(),f._goto(v-1)},f.link_custom=function(t){t.preventDefault();var n=e(this).attr("data-orbit-link");if(typeof n=="string"&&(n=e.trim(n))!=""){var r=l.find("[data-orbit-slide="+n+"]");r.index()!=-1&&f._goto(r.index())}},f.link_bullet=function(t){var n=e(this).attr("data-orbit-slide");typeof n=="string"&&(n=e.trim(n))!=""&&f._goto(parseInt(n))},f.timer_callback=function(){f._goto(v+1,!0)},f.compute_dimensions=function(){var t=e(c.children().get(v)),n=t.height();s.variable_height||c.children().each(function(){e(this).height()>n&&(n=e(this).height())}),c.height(n)},f.create_timer=function(){var e=new o(l.find("."+s.timer_container_class),s,f.timer_callback);return e},f.stop_timer=function(){typeof g=="object"&&g.stop()},f.toggle_timer=function(){var e=l.find("."+s.timer_container_class);e.hasClass(s.timer_paused_class)?(typeof g=="undefined"&&(g=f.create_timer()),g.start()):typeof g=="object"&&g.stop()},f.init=function(){f.build_markup(),s.timer&&(g=f.create_timer(),g.start()),m=new a(s,c),s.animation==="slide"&&(m=new u(s,c)),l.on("click","."+s.next_class,f.next),l.on("click","."+s.prev_class,f.prev),l.on("click","[data-orbit-slide]",f.link_bullet),l.on("click",f.toggle_timer),s.swipe&&l.on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};l.data("swipe-transition",t),e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);if(e.touches.length>1||e.scale&&e.scale!==1)return;var t=l.data("swipe-transition");typeof t=="undefined"&&(t={}),t.delta_x=e.touches[0].pageX-t.start_page_x,typeof t.is_scrolling=="undefined"&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y)));if(!t.is_scrolling&&!t.active){e.preventDefault();var n=t.delta_x<0?v+1:v-1;t.active=!0,f._goto(n)}}).on("touchend.fndtn.orbit",function(e){l.data("swipe-transition",{}),e.stopPropagation()}),l.on("mouseenter.fndtn.orbit",function(e){s.timer&&s.pause_on_hover&&f.stop_timer()}).on("mouseleave.fndtn.orbit",function(e){s.timer&&s.resume_on_mouseout&&g.start()}),e(n).on("click","[data-orbit-link]",f.link_custom),e(t).on("resize",f.compute_dimensions),e(t).on("load",f.compute_dimensions),e(t).on("load",function(){l.prev(".preloader").css("display","none")}),c.trigger("ready.fndtn.orbit")},f.init()},o=function(e,t,n){var r=this,i=t.timer_speed,s=e.find("."+t.timer_progress_class),o,u,a=-1;this.update_progress=function(e){var t=s.clone();t.attr("style",""),t.css("width",e+"%"),s.replaceWith(t),s=t},this.restart=function(){clearTimeout(u),e.addClass(t.timer_paused_class),a=-1,r.update_progress(0)},this.start=function(){if(!e.hasClass(t.timer_paused_class))return!0;a=a===-1?i:a,e.removeClass(t.timer_paused_class),o=(new Date).getTime(),s.animate({width:"100%"},a,"linear"),u=setTimeout(function(){r.restart(),n()},a),e.trigger("timer-started.fndtn.orbit")},this.stop=function(){if(e.hasClass(t.timer_paused_class))return!0;clearTimeout(u),e.addClass(t.timer_paused_class);var n=(new Date).getTime();a-=n-o;var s=100-a/i*100;r.update_progress(s),e.trigger("timer-stopped.fndtn.orbit")}},u=function(t,n){var r=t.animation_speed,i=e("html[dir=rtl]").length===1,s=i?"marginRight":"marginLeft",o={};o[s]="0%",this.next=function(e,t,n){e.animate({marginLeft:"-100%"},r),t.animate(o,r,function(){e.css(s,"100%"),n()})},this.prev=function(e,t,n){e.animate({marginLeft:"100%"},r),t.css(s,"-100%"),t.animate(o,r,function(){e.css(s,"100%"),n()})}},a=function(t,n){var r=t.animation_speed,i=e("html[dir=rtl]").length===1,s=i?"marginRight":"marginLeft";this.next=function(e,t,n){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},r,"linear",function(){e.css("margin","100%"),n()})},this.prev=function(e,t,n){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},r,"linear",function(){e.css("margin","100%"),n()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.0.0",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:i,after_slide_change:i},init:function(t,n,r){var i=this;typeof n=="object"&&e.extend(!0,i.settings,n);if(e(t).is("[data-orbit]")){var o=e(t),u=i.data_options(o);new s(o,e.extend({},i.settings,u))}e("[data-orbit]",t).each(function(t,n){var r=e(n),o=i.data_options(r);new s(r,e.extend({},i.settings,o))})}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.0.0",settings:{},init:function(e,t,n){this.events()},events:function(){e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(t){t.preventDefault(),e(this).closest(".off-canvas-wrap").toggleClass("move-right")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){t.preventDefault(),e(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(t){t.preventDefault(),e(this).closest(".off-canvas-wrap").toggleClass("move-left")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){t.preventDefault(),e(".off-canvas-wrap").removeClass("move-left")})},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.alert={name:"alert",version:"5.0.0",settings:{animation:"fadeOut",speed:300,callback:function(){}},init:function(e,t,n){this.bindings(t,n)},events:function(){e(this.scope).off(".alert").on("click.fndtn.alert","[data-alert] a.close",function(t){var n=e(this).closest("[data-alert]"),r=n.data("alert-init");t.preventDefault(),n[r.animation](r.speed,function(){e(this).trigger("closed").remove(),r.callback()})})},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.reveal={name:"reveal",version:"5.0.0",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,t,n){Foundation.inherit(this,"delay"),this.bindings(t,n)},events:function(t){var n=this;return e("[data-reveal-id]",this.scope).off(".reveal").on("click.fndtn.reveal",function(t){t.preventDefault();if(!n.locked){var r=e(this),i=r.data("reveal-ajax");n.locked=!0;if(typeof i=="undefined")n.open.call(n,r);else{var s=i===!0?r.attr("href"):i;n.open.call(n,r,{url:s})}}}),e(this.scope).off(".reveal").on("click.fndtn.reveal",this.close_targets(),function(t){t.preventDefault();if(!n.locked){var r=e("[data-reveal].open").data("reveal-init"),i=e(t.target)[0]===e("."+r.bg_class)[0];if(i&&!r.close_on_background_click)return;n.locked=!0,n.close.call(n,i?e("[data-reveal].open"):e(this).closest("[data-reveal]"))}}),e("[data-reveal]",this.scope).length>0?e(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):e(this.scope).on("open.fndtn.reveal","[data-reveal]",this.settings.open).on("opened.fndtn.reveal","[data-reveal]",this.settings.opened).on("opened.fndtn.reveal","[data-reveal]",this.open_video).on("close.fndtn.reveal","[data-reveal]",this.settings.close).on("closed.fndtn.reveal","[data-reveal]",this.settings.closed).on("closed.fndtn.reveal","[data-reveal]",this.close_video),e("body").on("keyup.fndtn.reveal",function(t){var n=e("[data-reveal].open"),r=n.data("reveal-init");t.which===27&&r.close_on_esc&&n.foundation("reveal","close")}),!0},open:function(t,n){if(t)if(typeof t.selector!="undefined")var r=e("#"+t.data("reveal-id"));else{var r=e(this.scope);n=t}else var r=e(this.scope);if(!r.hasClass("open")){var i=e("[data-reveal].open");typeof r.data("css-top")=="undefined"&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),r.trigger("open"),i.length<1&&this.toggle_bg();if(typeof n=="undefined"||!n.url)this.hide(i,this.settings.css.close),this.show(r,this.settings.css.open);else{var s=this,o=typeof n.success!="undefined"?n.success:null;e.extend(n,{success:function(t,n,u){e.isFunction(o)&&o(t,n,u),r.html(t),e(r).foundation("section","reflow"),s.hide(i,s.settings.css.close),s.show(r,s.settings.css.open)}}),e.ajax(n)}}},close:function(t){var t=t&&t.length?t:e(this.scope),n=e("[data-reveal].open");n.length>0&&(this.locked=!0,t.trigger("close"),this.toggle_bg(),this.hide(n,this.settings.css.close))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(){e("."+this.settings.bg_class).length===0&&(this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(n,r){if(r){if(n.parent("body").length===0){var i=n.wrap('<div style="display: none;" />').parent();n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(i),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo("body")}if(/pop/i.test(this.settings.animation)){r.top=e(t).scrollTop()-n.data("offset")+"px";var s={top:e(t).scrollTop()+n.data("css-top")+"px",opacity:1};return this.delay(function(){return n.css(r).animate(s,this.settings.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animation_speed/2)}if(/fade/i.test(this.settings.animation)){var s={opacity:1};return this.delay(function(){return n.css(r).animate(s,this.settings.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animation_speed/2)}return n.css(r).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?n.fadeIn(this.settings.animation_speed/2):n.show()},hide:function(n,r){if(r){if(/pop/i.test(this.settings.animation)){var i={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return this.delay(function(){return n.animate(i,this.settings.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animation_speed/2)}if(/fade/i.test(this.settings.animation)){var i={opacity:0};return this.delay(function(){return n.animate(i,this.settings.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animation_speed/2)}return n.hide().css(r).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?n.fadeOut(this.settings.animation_speed/2):n.hide()},close_video:function(t){var n=e(this).find(".flex-video"),r=n.find("iframe");r.length>0&&(r.attr("data-src",r[0].src),r.attr("src","about:blank"),n.hide())},open_video:function(t){var n=e(this).find(".flex-video"),i=n.find("iframe");if(i.length>0){var s=i.attr("data-src");if(typeof s=="string")i[0].src=i.attr("data-src");else{var o=i[0].src;i[0].src=r,i[0].src=o}n.show()}},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.0.0",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":Foundation.media_queries.small,small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,n,r){if(/IMG/.test(t[0].nodeName)){var i=t[0].src;if((new RegExp(n,"i")).test(i))return;return t[0].src=n,r(t[0].src)}var s=t.data("interchange-last-path");if(s==n)return;return e.get(n,function(e){t.html(e),t.data("interchange-last-path",n),r()})}}},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.data_attr="data-"+this.settings.load_attr,this.bindings(t,n),this.load("images"),this.load("nodes")},events:function(){var n=this;return e(t).off(".interchange").on("resize.fndtn.interchange",n.throttle(function(){n.resize.call(n)},50)),this},resize:function(){var t=this.cache;if(!this.images_loaded||!this.nodes_loaded){setTimeout(e.proxy(this.resize,this),50);return}for(var n in t)if(t.hasOwnProperty(n)){var r=this.results(n,t[n]);r&&this.settings.directives[r.scenario[1]](r.el,r.scenario[0],function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=Array.prototype.slice.call(arguments,0);r.el.trigger(r.scenario[1],e)})}},results:function(e,t){var n=t.length;if(n>0){var r=this.S('[data-uuid="'+e+'"]');for(var i=n-1;i>=0;i--){var s,o=t[i][2];this.settings.named_queries.hasOwnProperty(o)?s=matchMedia(this.settings.named_queries[o]):s=matchMedia(o);if(s.matches)return{el:r,scenario:t[i]}}}return!1},load:function(e,t){return(typeof this["cached_"+e]=="undefined"||t)&&this["update_"+e](),this["cached_"+e]},update_images:function(){var e=this.S("img["+this.data_attr+"]"),t=e.length,n=0,r=this.data_attr;this.cache={},this.cached_images=[],this.images_loaded=t===0;for(var i=t-1;i>=0;i--){n++;if(e[i]){var s=e[i].getAttribute(r)||"";s.length>0&&this.cached_images.push(e[i])}n===t&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var e=this.S("["+this.data_attr+"]:not(img)"),t=e.length,n=0,r=this.data_attr;this.cached_nodes=[],this.nodes_loaded=t===0;for(var i=t-1;i>=0;i--){n++;var s=e[i].getAttribute(r)||"";s.length>0&&this.cached_nodes.push(e[i]),n===t&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(n){var r=this["cached_"+n].length;for(var i=r-1;i>=0;i--)this.object(e(this["cached_"+n][i]));return e(t).trigger("resize")},parse_params:function(e,t,n){return[this.trim(e),this.convert_directive(t),this.trim(n)]},convert_directive:function(e){var t=this.trim(e);return t.length>0?t:"replace"},object:function(e){var t=this.parse_data_attr(e),n=[],r=t.length;if(r>0)for(var i=r-1;i>=0;i--){var s=t[i].split(/\((.*?)(\))$/);if(s.length>1){var o=s[0].split(","),u=this.parse_params(o[0],o[1],s[1]);n.push(u)}}return this.store(e,n)},uuid:function(e){function t(){return((1+Math.random())*65536|0).toString(16).substring(1)}var n=e||"-";return t()+t()+n+t()+n+t()+n+t()+n+t()+t()+t()},store:function(e,t){var n=this.uuid(),r=e.data("uuid");return r?this.cache[r]:(e.attr("data-uuid",n),this.cache[n]=t)},trim:function(t){return typeof t=="string"?e.trim(t):t},parse_data_attr:function(e){var t=e.data(this.settings.load_attr).split(/\[(.*?)\]/),n=t.length,r=[];for(var i=n-1;i>=0;i--)t[i].replace(/[\W\d]+/,"").length>4&&r.push(t[i]);return r},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.magellan={name:"magellan",version:"5.0.0",settings:{active_class:"active",threshold:0},init:function(t,n,r){this.fixed_magellan=e("[data-magellan-expedition]"),this.set_threshold(),this.last_destination=e("[data-magellan-destination]").last(),this.events()},events:function(){var n=this;e(this.scope).off(".magellan").on("arrival.fndtn.magellan","[data-magellan-arrival]",function(t){var r=e(this),i=r.closest("[data-magellan-expedition]"),s=i.attr("data-magellan-active-class")||n.settings.active_class;r.closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(r).removeClass(s),r.addClass(s)}),this.fixed_magellan.off(".magellan").on("update-position.fndtn.magellan",function(){var t=e(this)}).trigger("update-position"),e(t).off(".magellan").on("resize.fndtn.magellan",function(){this.fixed_magellan.trigger("update-position")}.bind(this)).on("scroll.fndtn.magellan",function(){var r=e(t).scrollTop();n.fixed_magellan.each(function(){var t=e(this);typeof t.data("magellan-top-offset")=="undefined"&&t.data("magellan-top-offset",t.offset().top),typeof t.data("magellan-fixed-position")=="undefined"&&t.data("magellan-fixed-position",!1);var i=r+n.settings.threshold>t.data("magellan-top-offset"),s=t.attr("data-magellan-top-offset");t.data("magellan-fixed-position")!=i&&(t.data("magellan-fixed-position",i),i?(t.addClass("fixed"),t.css({position:"fixed",top:0})):(t.removeClass("fixed"),t.css({position:"",top:""})),i&&typeof s!="undefined"&&s!=0&&t.css({position:"fixed",top:s+"px"}))})}),this.last_destination.length>0&&e(t).on("scroll.fndtn.magellan",function(r){var i=e(t).scrollTop(),s=i+e(t).height(),o=Math.ceil(n.last_destination.offset().top);e("[data-magellan-destination]").each(function(){var t=e(this),r=t.attr("data-magellan-destination"),u=t.offset().top-t.outerHeight(!0)-i;u<=n.settings.threshold&&e("[data-magellan-arrival='"+r+"']").trigger("arrival"),s>=e(n.scope).height()&&o>i&&o<s&&e("[data-magellan-arrival]").last().trigger("arrival")})})},set_threshold:function(){typeof this.settings.threshold!="number"&&(this.settings.threshold=this.fixed_magellan.length>0?this.fixed_magellan.outerHeight(!0):0)},off:function(){e(this.scope).off(".fndtn.magellan"),e(t).off(".fndtn.magellan")},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.0.1",settings:{active_class:"active",toggleable:!0},init:function(e,t,n){this.bindings(t,n)},events:function(){e(this.scope).off(".accordion").on("click.fndtn.accordion","[data-accordion] > dd > a",function(t){var n=e(this).parent(),r=e("#"+this.href.split("#")[1]),i=e("> dd > .content",r.closest("[data-accordion]")),s=n.parent().data("accordion-init"),o=e("> dd > .content."+s.active_class,n.parent());t.preventDefault();if(o[0]==r[0]&&s.toggleable)return r.toggleClass(s.active_class);i.removeClass(s.active_class),r.addClass(s.active_class)})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.0.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0},init:function(t,n,r){Foundation.inherit(this,"addCustomRule register_media throttle");var i=this;i.register_media("topbar","foundation-mq-topbar"),this.bindings(n,r),e("[data-topbar]",this.scope).each(function(){var t=e(this),n=t.data("topbar-init"),r=e("section",this),s=e("> ul",this).first();t.data("index",0);var o=t.parent();o.hasClass("fixed")||o.hasClass(n.sticky_class)?(i.settings.sticky_class=n.sticky_class,i.settings.stick_topbar=t,t.data("height",o.outerHeight()),t.data("stickyoffset",o.offset().top)):t.data("height",t.outerHeight()),n.assembled||i.assemble(t),n.is_hover?e(".has-dropdown",t).addClass("not-click"):e(".has-dropdown",t).removeClass("not-click"),i.addCustomRule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),o.hasClass("fixed")&&e("body").addClass("f-topbar-fixed")})},toggle:function(n){var r=this;if(n)var i=e(n).closest("[data-topbar]");else var i=e("[data-topbar]");var s=i.data("topbar-init"),o=e("section, .section",i);r.breakpoint()&&(r.rtl?(o.css({right:"0%"}),e(">.name",o).css({right:"100%"})):(o.css({left:"0%"}),e(">.name",o).css({left:"100%"})),e("li.moved",o).removeClass("moved"),i.data("index",0),i.toggleClass("expanded").css("height","")),s.scrolltop?i.hasClass("expanded")?i.parent().hasClass("fixed")&&(s.scrolltop?(i.parent().removeClass("fixed"),i.addClass("fixed"),e("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):i.parent().removeClass("expanded")):i.hasClass("fixed")&&(i.parent().addClass("fixed"),i.removeClass("fixed"),e("body").addClass("f-topbar-fixed")):(i.parent().hasClass(r.settings.sticky_class)&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(i.hasClass("expanded")?(i.addClass("fixed"),i.parent().addClass("expanded")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),r.update_sticky_positioning())))},timer:null,events:function(n){var r=this;e(this.scope).off(".topbar").on("click.fndtn.topbar","[data-topbar] .toggle-topbar",function(e){e.preventDefault(),r.toggle(this)}).on("click.fndtn.topbar","[data-topbar] li.has-dropdown",function(t){var n=e(this),i=e(t.target),s=n.closest("[data-topbar]"),o=s.data("topbar-init");if(i.data("revealId")){r.toggle();return}if(r.breakpoint())return;if(o.is_hover&&!Modernizr.touch)return;t.stopImmediatePropagation(),n.hasClass("hover")?(n.removeClass("hover").find("li").removeClass("hover"),n.parents("li.hover").removeClass("hover")):(n.addClass("hover"),i[0].nodeName==="A"&&i.parent().hasClass("has-dropdown")&&t.preventDefault())}).on("click.fndtn.topbar","[data-topbar] .has-dropdown>a",function(t){if(r.breakpoint()){t.preventDefault();var n=e(this),i=n.closest("[data-topbar]"),s=i.find("section, .section"),o=n.next(".dropdown").outerHeight(),u=n.closest("li");i.data("index",i.data("index")+1),u.addClass("moved"),r.rtl?(s.css({right:-(100*i.data("index"))+"%"}),s.find(">.name").css({right:100*i.data("index")+"%"})):(s.css({left:-(100*i.data("index"))+"%"}),s.find(">.name").css({left:100*i.data("index")+"%"})),i.css("height",n.siblings("ul").outerHeight(!0)+i.data("height"))}}),e(t).off(".topbar").on("resize.fndtn.topbar",r.throttle(function(){r.resize.call(r)},50)).trigger("resize"),e("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(t){var n=e(t.target).closest("li").closest("li.hover");if(n.length>0)return;e("[data-topbar] li").removeClass("hover")}),e(this.scope).on("click.fndtn.topbar","[data-topbar] .has-dropdown .back",function(t){t.preventDefault();var n=e(this),i=n.closest("[data-topbar]"),s=i.find("section, .section"),o=i.data("topbar-init"),u=n.closest("li.moved"),a=u.parent();i.data("index",i.data("index")-1),r.rtl?(s.css({right:-(100*i.data("index"))+"%"}),s.find(">.name").css({right:100*i.data("index")+"%"})):(s.css({left:-(100*i.data("index"))+"%"}),s.find(">.name").css({left:100*i.data("index")+"%"})),i.data("index")===0?i.css("height",""):i.css("height",a.outerHeight(!0)+i.data("height")),setTimeout(function(){u.removeClass("moved")},300)})},resize:function(){var t=this;e("[data-topbar]").each(function(){var r=e(this),i=r.data("topbar-init"),s=r.parent("."+t.settings.sticky_class),o;if(!t.breakpoint()){var u=r.hasClass("expanded");r.css("height","").removeClass("expanded").find("li").removeClass("hover"),u&&t.toggle(r)}s.length>0&&(s.hasClass("fixed")?(s.removeClass("fixed"),o=s.offset().top,e(n.body).hasClass("f-topbar-fixed")&&(o-=r.data("height")),r.data("stickyoffset",o),s.addClass("fixed")):(o=s.offset().top,r.data("stickyoffset",o)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},assemble:function(t){var n=this,r=t.data("topbar-init"),i=e("section",t),s=e("> ul",t).first();i.detach(),e(".has-dropdown>a",i).each(function(){var t=e(this),n=t.siblings(".dropdown"),i=t.attr("href");if(r.mobile_show_parent_link&&i&&i.length>1)var s=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+i+'">'+t.text()+"</a></li>");else var s=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');r.custom_back_text==1?e("h5>a",s).html(r.back_text):e("h5>a",s).html("&laquo; "+t.html()),n.prepend(s)}),i.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data("topbar-init",e.extend({},t.data("topbar-init"),{assembled:!0}))},height:function(t){var n=0,r=this;return e("> li",t).each(function(){n+=e(this).outerHeight(!0)}),n},sticky:function(){var n=e(t),r=this;e(t).on("scroll",function(){r.update_sticky_positioning()})},update_sticky_positioning:function(){var n="."+this.settings.sticky_class,r=e(t);if(e(n).length>0){var i=this.settings.sticky_topbar.data("stickyoffset");e(n).hasClass("expanded")||(r.scrollTop()>i?e(n).hasClass("fixed")||(e(n).addClass("fixed"),e("body").addClass("f-topbar-fixed")):r.scrollTop()<=i&&e(n).hasClass("fixed")&&(e(n).removeClass("fixed"),e("body").removeClass("f-topbar-fixed")))}},off:function(){e(this.scope).off(".fndtn.topbar"),e(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.tab={name:"tab",version:"5.0.1",settings:{active_class:"active"},init:function(e,t,n){this.bindings(t,n)},events:function(){e(this.scope).off(".tab").on("click.fndtn.tab","[data-tab] > dd > a",function(t){t.preventDefault();var n=e(this).parent(),r=e("#"+this.href.split("#")[1]),i=n.siblings(),s=n.closest("[data-tab]").data("tab-init");n.addClass(s.active_class),i.removeClass(s.active_class),r.siblings().removeClass(s.active_class).end().addClass(s.active_class)})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.abide={name:"abide",version:"5.0.0",settings:{focus_on_invalid:!0,timeout:1e3,patterns:{alpha:/[a-zA-Z]+/,alpha_numeric:/[a-zA-Z0-9]+/,integer:/-?\d+/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/}},timer:null,init:function(e,t,n){this.bindings(t,n)},events:function(t){var n=this,r=e(t).attr("novalidate","novalidate"),i=r.data("abide-init");r.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(t){var r=/ajax/i.test(e(this).attr("data-abide"));return n.validate(e(this).find("input, textarea, select").get(),t,r)}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(e){n.validate([this],e)}).on("keydown.fndtn.abide",function(t){var r=e(this).closest("form").data("abide-init");clearTimeout(n.timer),n.timer=setTimeout(function(){n.validate([this],t)}.bind(this),r.timeout)})},validate:function(t,n,r){var i=this.parse_patterns(t),s=i.length,o=e(t[0]).closest("form"),u=/submit/.test(n.type);for(var a=0;a<s;a++)if(!i[a]&&(u||r))return this.settings.focus_on_invalid&&t[a].focus(),o.trigger("invalid"),e(t[a]).closest("form").attr("data-invalid",""),!1;return(u||r)&&o.trigger("valid"),o.removeAttr("data-invalid"),r?!1:!0},parse_patterns:function(e){var t=e.length,n=[];for(var r=t-1;r>=0;r--)n.push(this.pattern(e[r]));return this.check_validation_and_apply_styles(n)},pattern:function(e){var t=e.getAttribute("type"),n=typeof e.getAttribute("required")=="string";if(this.settings.patterns.hasOwnProperty(t))return[e,this.settings.patterns[t],n];var r=e.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(r)&&r.length>0?[e,this.settings.patterns[r],n]:r.length>0?[e,new RegExp(r),n]:(r=/.*/,[e,r,n])},check_validation_and_apply_styles:function(t){var n=t.length,r=[];for(var i=n-1;i>=0;i--){var s=t[i][0],o=t[i][2],u=s.value,a=s.getAttribute("data-equalto"),f=s.type==="radio",l=o?s.value.length>0:!0;f&&o?r.push(this.valid_radio(s,o)):a&&o?r.push(this.valid_equal(s,o)):t[i][1].test(u)&&l||!o&&s.value.length<1?(e(s).removeAttr("data-invalid").parent().removeClass("error"),r.push(!0)):(e(s).attr("data-invalid","").parent().addClass("error"),r.push(!1))}return r},valid_radio:function(t,r){var i=t.getAttribute("name"),s=n.getElementsByName(i),o=s.length,u=!1;for(var a=0;a<o;a++)s[a].checked&&(u=!0);for(var a=0;a<o;a++)u?e(s[a]).removeAttr("data-invalid").parent().removeClass("error"):e(s[a]).attr("data-invalid","").parent().addClass("error");return u},valid_equal:function(t,r){var i=n.getElementById(t.getAttribute("data-equalto")).value,s=t.value,o=i===s;return o?e(t).removeAttr("data-invalid").parent().removeClass("error"):e(t).attr("data-invalid","").parent().addClass("error"),o}}}(jQuery,this,this.document),function(e,t,n,r){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.0.0",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,tip_template:function(e,t){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(e,t,n){this.bindings(t,n)},events:function(){var t=this;Modernizr.touch?e(this.scope).off(".tooltip").on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(n){var r=e.extend({},t.settings,t.data_options(e(this)));r.disable_for_touch||(n.preventDefault(),e(r.tooltip_class).hide(),t.showOrCreateTip(e(this)))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltip_class,function(t){t.preventDefault(),e(this).fadeOut(150)}):e(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(n){var r=e(this);/enter|over/i.test(n.type)?t.showOrCreateTip(r):(n.type==="mouseout"||n.type==="mouseleave")&&t.hide(r)})},showOrCreateTip:function(e){var t=this.getTip(e);return t&&t.length>0?this.show(e):this.create(e)},getTip:function(t){var n=this.selector(t),r=null;return n&&(r=e('span[data-selector="'+n+'"]'+this.settings.tooltip_class)),typeof r=="object"?r:!1},selector:function(e){var t=e.attr("id"),n=e.attr("data-tooltip")||e.attr("data-selector");return(t&&t.length<1||!t)&&typeof n!="string"&&(n="tooltip"+Math.random().toString(36).substring(7),e.attr("data-selector",n)),t&&t.length>0?t:n},create:function(t){var n=e(this.settings.tip_template(this.selector(t),e("<div></div>").html(t.attr("title")).html())),r=this.inheritable_classes(t);n.addClass(r).appendTo(this.settings.append_to),Modernizr.touch&&n.append('<span class="tap-to-close">'+this.settings.touch_close_text+"</span>"),t.removeAttr("title").attr("title",""),this.show(t)},reposition:function(t,n,r){var i,s,o,u,a,f;n.css("visibility","hidden").show(),i=t.data("width"),s=n.children(".nub"),o=s.outerHeight(),u=s.outerHeight(),f=function(e,t,n,r,i,s){return e.css({top:t?t:"auto",bottom:r?r:"auto",left:i?i:"auto",right:n?n:"auto",width:s?s:"auto"}).end()},f(n,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left,i);if(this.small())f(n,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,e(this.scope).width()),n.addClass("tip-override"),f(s,-o,"auto","auto",t.offset().left);else{var l=t.offset().left;Foundation.rtl&&(l=t.offset().left+t.offset().width-n.outerWidth()),f(n,t.offset().top+t.outerHeight()+10,"auto","auto",l,i),n.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?f(n,t.offset().top-n.outerHeight(),"auto","auto",l,i).removeClass("tip-override"):r&&r.indexOf("tip-left")>-1?f(n,t.offset().top+t.outerHeight()/2-o*2.5,"auto","auto",t.offset().left-n.outerWidth()-o,i).removeClass("tip-override"):r&&r.indexOf("tip-right")>-1&&f(n,t.offset().top+t.outerHeight()/2-o*2.5,"auto","auto",t.offset().left+t.outerWidth()+o,i).removeClass("tip-override")}n.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches},inheritable_classes:function(t){var n=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additional_inheritable_classes),r=t.attr("class"),i=r?e.map(r.split(" "),function(t,r){if(e.inArray(t,n)!==-1)return t}).join(" "):"";return e.trim(i)},show:function(e){var t=this.getTip(e);this.reposition(e,t,e.attr("class")),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("fndtn-tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},off:function(){e(this.scope).off(".fndtn.tooltip"),e(this.settings.tooltip_class).each(function(t){e("[data-tooltip]").get(t).attr("title",e(this).text())}).remove()},reflow:function(){}}}(jQuery,this,this.document),n("views/abstract",["jquery","underscore","backbone"],function(e,t,n){"use strict";var r=n.View.extend({doLog:!0,logPrefix:"",initialize:function(){typeof this.model!="undefined"&&this.model.setView(this)},assign:function(e,t){e.setElement(this.$(t)).render()},log:function(){if(this.doLog){var e=Array.prototype.slice.call(arguments);e.unshift(this.logPrefix),console.log.apply(console,e)}}});return r}),n("text",["module"],function(e){"use strict";var n,r,i,s,o,u=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l=typeof location!="undefined"&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),h=l&&location.hostname,p=l&&(location.port||undefined),d={},v=e.config&&e.config()||{};n={version:"2.0.10",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(f);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:v.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=u[t];try{e=new ActiveXObject(n)}catch(r){}if(e){u=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,i){var s,o,u,a=n.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,t,r,i){r=t?n.strip(r):r,v.isBuild&&(d[e]=r),i(r)},load:function(e,t,r,i){if(i.isBuild&&!i.inlineText){r();return}v.isBuild=i.isBuild;var s=n.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=t.toUrl(o),a=v.useXhr||n.useXhr;if(u.indexOf("empty:")===0){r();return}!l||a(u,c,h,p)?n.get(u,function(t){n.finishLoad(e,s.strip,t,r)},function(e){r.error&&r.error(e)}):t([o],function(e){n.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,t,r,i){if(d.hasOwnProperty(t)){var s=n.jsEscape(d[t]);r.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,r,i,s){var o=n.parseName(t),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";n.load(a,r,function(t){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},n.write(e,a,r,s)},s)}};if(v.env==="node"||!v.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])r=t.nodeRequire("fs"),n.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){n(s)}};else if(v.env==="xhr"||!v.env&&n.createXhr())n.get=function(e,t,r,i){var s=n.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);v.onXhr&&v.onXhr(s,e),s.onreadystatechange=function(n){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):t(s.responseText),v.onXhrComplete&&v.onXhrComplete(s,e))},s.send(null)};else if(v.env==="rhino"||!v.env&&typeof Packages!="undefined"&&typeof java!="undefined")n.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(v.env==="xpconnect"||!v.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)i=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in i,n.get=function(e,t){var n,r,u,a={};o&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(u,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),r.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),a),r.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return n}),n("text!templates/mmp.html",[],function(){return'<script type="text/template" class="template">\r\n	<div class="map selectable"><i class="fa fa-sitemap"></i><%= model.infoModel.get(\'name\') %></div>\r\n	<div class="scenarios">\r\n		<div class="scenarios-header"><i class="expand fa fa-minus-square-o"></i><i class="collapse fa fa-plus-square-o" style="display:none"></i>Scenarios\r\n			<button class="add-scenario">ADD</button>\r\n		</div>\r\n		<% if ( model.scenarioCollection.length > 0 ) { %>\r\n		<div class="scenarios-list expanded">\r\n			<% for (i=0; i<model.scenarioCollection.length; i++) { var scenario = model.scenarioCollection.at(i); %>\r\n				<div class="scenario selectable"><i class="expand fa fa-play-circle"></i><%= scenario.get(\'name\') %></div>\r\n			<% } %>\r\n		</div>\r\n		<% } %>\r\n	</div>\r\n</script>'}),n("views/mmp",["jquery","underscore","backbone","foundation","views/abstract","text!templates/mmp.html"],function(e,t,n,r,i,s){"use strict";var o=i.extend({tagName:"div",className:"mmp",template:t.template(e(s).html()),doLog:!1,logPrefix:"----- MmpView > ",events:{"click .map":"selectMap","click .scenario":"selectScenario","click .scenarios-header":"toggleScenarios","click .scenarios-header > button":"addScenario"},initialize:function(){o.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.onSelectionChange),this.listenTo(n,"info:change",this.render),this.listenTo(n,"scenario:name-change",this.render)},render:function(){return this.$el.html(this.template({model:this.model})),this.delegateEvents(),this.model.get("justAdded")===!0?(this.model.set("justAdded",!1),this.$el.find(".map").click()):this.onSelectionChange(),this},close:function(){this.remove()},onScenariosChange:function(){this.render()},addScenario:function(e){return e.preventDefault(),this.model.addScenario(),!1},toggleScenarios:function(t){var n=e(t.target),r=this.$el.find(".scenarios-list"),i=this.$el.find("i.expand"),s=this.$el.find("i.collapse"),o=r.hasClass("expanded");o?(i.hide(),s.show(),r.hide(),r.removeClass("expanded")):(i.show(),s.hide(),r.show(),r.addClass("expanded"))},findTarget:function(e,t,n){var r;if(typeof n!="undefined")r=this.$el.find(n);else if(e&&t)if(t==="mmp")r=this.$el.find(".map");else{var i=e.collection.indexOf(e);i!==-1&&(r=this.$el.find(".scenario:nth-child("+(i+1)+")"))}return r},onSelectionChange:function(e,t){var n=window.mentalmodeler.appModel,r=n.curModel,i=n.curSelectionType,s=n.curSelection;this.$el.removeClass("selected"),this.$el.find(".map").removeClass("selected"),this.$el.find(".scenario").removeClass("selected"),this.log("selectionChange, model:",e,", target:",t,", curModel === this.model:",r===this.model,", curSelection:",s,", curSelectionType:",i);if(r===this.model){var o;s!==null&&(o=this.findTarget(s,i,t)),o&&(o.addClass("selected"),o.closest(".mmp").addClass("selected"))}},selectMap:function(e){this.onSelect(e.target,"modeling")},selectScenario:function(e){this.onSelect(e.target,"scenario")},onSelect:function(e,t){this.log("onSelect, this.model:",this.model),window.mentalmodeler.appModel.selectionChange(this.model,e,t)}});return o}),n("models/app",["jquery","underscore","backbone","models/abstract","models/mmp","views/mmp","models/scenario"],function(e,t,n,r,i,s,o){"use strict";var u=r.extend({version:"1.1",defaults:{},mmps:null,curModel:null,prevSection:null,curSection:"modeling",curSelection:null,curSelectionType:null,modelingView:null,gridView:null,scenarioView:null,infoView:null,values:{"H+":1,"M+":.62,"L+":.25,"":0,"H-":-1,"M-":-0.62,"L-":-0.25},doLog:!1,logPrefix:"======== AppModel > ",initialize:function(){u.__super__.initialize.apply(this,arguments),this.mmps=new n.Collection([],{model:i})},onMmpRemoved:function(e){this.log("onMmpRemoved, e:",e,"e.index:",e.index)},start:function(){this.getView().resizeScrollPanels(),this.addModel(),window.mmConfig&&window.mmConfig.loadFile&&this.loadXMLFileFromServer(window.mmConfig.loadFile)},addModel:function(e,t){var r={justAdded:!0};typeof e!="undefined"&&e!==""&&(r.xml=e),r.filename=t;var o=new i(r),u=new s({model:o});this.mmps.add(o),n.trigger("mmp:add",o)},addScenario:function(e){var t={justAdded:!0};typeof e!="undefined"&&e!==""&&(t.xml=e);var r=new i(t),o=new s({model:r});this.mmps.add(r),n.trigger("mmp:add",r)},selectionChange:function(t,r,s,u){var a=e(r),f=this.curSelection,l=this.curSelectionType,c=t instanceof i?"mmp":"scenario";this.log("selectionChange, selectionType:",c),this.saveModelData();if(typeof r!="undefined")if(a.hasClass("scenario")){var h=a.index();t.scenarioIndex=h,this.curSelection=t.scenarioCollection.at(h),this.curSelectionType="scenario"}else a.hasClass("map")&&(this.curSelection=t,this.curSelectionType="mmp");else typeof u!="undefined"&&u instanceof o&&(this.log("        passed scenario:",u),this.curSelection=u,this.curSelectionType="scenario",t.scenarioIndex=u.collection.indexOf(u));this.log("selectionChange, model:",t,", target:",r,", model.scenarioIndex:",t.scenarioIndex,",  (this.curSelection:",this.curSelection,", prevSelection:",f,")"),t!==this.curModel&&(this.curModel=t),n.trigger("selection:change",t,r,s)},setSection:function(e){var t=this.curSection!==e,r=this.curSection;this.log("setSection, section:",e,", prevSection:",r,", sectionChanged:",t),t&&(this.saveModelData(),this.curSection=e,e==="scenario"&&this.curSelectionType!=="scenario"&&this.selectionChange(this.curModel,undefined,undefined,this.curModel.scenarioCollection.at(this.curModel.scenarioIndex)),n.trigger("section:pre-change",e,r))},saveModelData:function(e){this.log("AppModel > saveModelData, this.curSection:",this.curSection," force:",e),(typeof e!="undefined"&&e||this.curSection==="modeling"&&this.modelingView!==null&&this.curModel)&&this.curModel.updateFromModelSection(this.modelingView.getModelXML())},getInfluenceValue:function(e){var n=0,r=parseFloat(e);return t.isNaN(r)||(n=r),n},remove:function(e){this.log("remove");if(this.curModel&&this.curSelection)if(this.curSelection instanceof o){var t=this.curSelection;if(t&&t.collection&&t.collection.length>1){var r=t.collection.indexOf(t);r===t.collection.length-1&&(r-=1),t.close();var s=t.collection;t.collection.remove(t),this.curSelection=null,this.selectionChange(this.curModel,undefined,undefined,s.at(r)),n.trigger("scenario:remove")}}else if(this.curSelection instanceof i){this.log("remove mmp");if(this.mmps.length>1){this.log("mmp.length > 1");var u=this.curModel,r=this.mmps.indexOf(this.curModel);r===this.mmps.length-1&&(r-=1),u.close(),this.mmps.remove(u),this.curModel=null,this.selectionChange(this.mmps.at(r)),n.trigger("mmp:remove")}}else this.log("remove called for other type")},loadXMLFileFromServer:function(e){var t=e.split("/"),n=t[t.length-1].split("."),r=n[0],i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="text",i.onload=function(e){this.addModel(i.response,r)}.bind(this),i.send()},loadFiles:function(e){this.log("loadFiles");var t=[],n=e.target.files;for(var r=0,i;i=n[r];r++){var s=escape(i.name),o=i.type;if(s.split(".").indexOf("mmp")===-1)continue;t.push(i)}this.readFiles(t)},readFiles:function(t){this.log("readFiles");var n=this,r=new FileReader,i=t.pop();r.onload=function(r){return function(i){n.addModel(i.target.result,r.name),t.length>0?n.readFiles(t):e('input[type="file"]').val(null)}}(i),r.readAsText(i)}});return u}),n("text!templates/header.html",[],function(){return'<script type="text/template" class="template">\r\n	<nav class="top-bar" data-topbar>\r\n		<ul class="title-area">\r\n			<li class="name">\r\n				<div id="logo">Mental<span class="logo2">Modeler</span></div>\r\n		    </li>\r\n		    <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>\r\n		</ul>\r\n\r\n		<section class="top-bar-section">\r\n			<!-- Right Nav Section -->\r\n		    <ul class="">\r\n		    	<li class="divider"></li>\r\n		    	<li class="first"><a id="newFile" href="#"><i class="fa fa-file-text"></i>New</a></li>\r\n		     	<li class="divider"></li>\r\n		     	<li><a class="wrapper"><i class="fa fa-download"></i>Load<input id="load-file" placeholder="text" type="file" multiple/></a></li>\r\n		     	<li class="divider"></li>\r\n		    	<li><a id="saveFile" href="#"><i class="fa fa-save"></i>Save</a></li>\r\n		    	<li class="divider"></li>\r\n		    	<li><a id="deleteFile" href="#"><i class="fa fa-trash-o"></i>Remove</a></li>\r\n		    	<li class="divider"></li>\r\n		    	<li><a id="exportCsv" href="#"><i class="fa fa-upload"></i>Export CSV</a></li>\r\n		    	<li><a id="exportXls" href="#"><i class="fa fa-upload"></i>Export XLS</a></li>\r\n		    </ul>\r\n		</section>\r\n	</nav>\r\n</script>'}),n("text!templates/exportTable.html",[],function(){return'<script type="text/template" class="template">\r\n	<table id="exportMatrix">\r\n	  <tbody>\r\n	  	<tr>\r\n	  		<td></td>\r\n	  		<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; %>\r\n	  			<td><%= concept.name %></td>\r\n	  		<% } %>\r\n	  	</tr>\r\n	  	<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; %>\r\n	    <tr data-id="<%= concept.id %>">\r\n	    	<td class="node"><%= concept.name %></td>\r\n	    	<% for (var j=0; j<concepts.length; j++) { var influenceeId = concepts[j].id; var label = concept.relationships[ influenceeId ]; var hasNoValue =  label === \'undefined\' || label === undefined; var addElem = j != i;%>\r\n	    		<td><%= label %></td>\r\n	    	<% } %>\r\n	    </tr>\r\n	    <% } %>\r\n	  </tbody>\r\n	</table>\r\n</script>'});var i=function(){function L(){if(w||!document.getElementsByTagName("body")[0])return;try{var e,t=X("span");t.style.display="none",e=f.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(n){return}w=!0;var r=h.length;for(var i=0;i<r;i++)h[i]()}function A(e){w?e():h[h.length]=e}function O(t){if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof f.addEventListener!=e)f.addEventListener("load",t,!1);else if(typeof a.attachEvent!=e)$(a,"onload",t);else if(typeof a.onload=="function"){var n=a.onload;a.onload=function(){n(),t()}}else a.onload=t}function M(){var n=f.getElementsByTagName("body")[0],r=X(t);r.setAttribute("style","visibility: hidden;"),r.setAttribute("type",s);var i=n.appendChild(r);if(i){var o=0;(function u(){if(typeof i.GetVariable!=e)try{var t=i.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),C.pv=[V(t[0]),V(t[1]),V(t[2])])}catch(s){C.pv=[8,0,0]}else if(o<10){o++,setTimeout(u,10);return}n.removeChild(r),i=null,_()})()}else _()}function _(){var t=p.length;if(t>0)for(var n=0;n<t;n++){var r=p[n].id,i=p[n].callbackFn,s={success:!1,id:r};if(C.pv[0]>0){var o=W(r);if(o)if(J(p[n].swfVersion)&&!(C.wk&&C.wk<312))Q(r,!0),i&&(s.success=!0,s.ref=D(r),s.id=r,i(s));else if(p[n].expressInstall&&P()){var u={};u.data=p[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));H(u,a,r,i)}else B(o),i&&i(s)}else{Q(r,!0);if(i){var h=D(r);h&&typeof h.SetVariable!=e&&(s.success=!0,s.ref=h,s.id=h.id),i(s)}}}}function D(n){var r=null,i=W(n);return i&&i.nodeName.toUpperCase()==="OBJECT"&&(typeof i.SetVariable!==e?r=i:r=i.getElementsByTagName(t)[0]||i),r}function P(){return!E&&J("6.0.65")&&(C.win||C.mac)&&!(C.wk&&C.wk<312)}function H(t,n,r,i){var s=W(r);r=z(r),E=!0,y=i||null,b={success:!1,id:r};if(s){s.nodeName.toUpperCase()=="OBJECT"?(m=j(s),g=null):(m=s,g=r),t.id=o;if(typeof t.width==e||!/%$/.test(t.width)&&V(t.width)<310)t.width="310";if(typeof t.height==e||!/%$/.test(t.height)&&V(t.height)<137)t.height="137";var u=C.ie?"ActiveX":"PlugIn",l="MMredirectURL="+encodeURIComponent(a.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+u+"&MMdoctitle="+encodeURIComponent(f.title.slice(0,47)+" - Flash Player Installation");typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(C.ie&&s.readyState!=4){var c=X("div");r+="SWFObjectNew",c.setAttribute("id",r),s.parentNode.insertBefore(c,s),s.style.display="none",R(s)}I(t,n,r)}}function B(e){if(C.ie&&e.readyState!=4){e.style.display="none";var t=X("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(j(e),t),R(e)}else e.parentNode.replaceChild(j(e),e)}function j(e){var n=X("div");if(C.win&&C.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function F(e,t){var n=X("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function I(n,r,i){var o,u=W(i);i=z(i);if(C.wk&&C.wk<312)return o;if(u){var a=C.ie?X("div"):X(t),f,l,c;typeof n.id==e&&(n.id=i);for(c in r)r.hasOwnProperty(c)&&c.toLowerCase()!=="movie"&&q(a,c,r[c]);C.ie&&(a=F(n.data,a.innerHTML));for(f in n)n.hasOwnProperty(f)&&(l=f.toLowerCase(),l==="styleclass"?a.setAttribute("class",n[f]):l!=="classid"&&l!=="data"&&a.setAttribute(f,n[f]));C.ie?d[d.length]=n.id:(a.setAttribute("type",s),a.setAttribute("data",n.data)),u.parentNode.replaceChild(a,u),o=a}return o}function q(e,t,n){var r=X("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function R(e){var t=W(e);t&&t.nodeName.toUpperCase()=="OBJECT"&&(C.ie?(t.style.display="none",function n(){if(t.readyState==4){for(var e in t)typeof t[e]=="function"&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(n,10)}()):t.parentNode.removeChild(t))}function U(e){return e&&e.nodeType&&e.nodeType===1}function z(e){return U(e)?e.id:e}function W(e){if(U(e))return e;var t=null;try{t=f.getElementById(e)}catch(n){}return t}function X(e){return f.createElement(e)}function V(e){return parseInt(e,10)}function $(e,t,n){e.attachEvent(t,n),v[v.length]=[e,t,n]}function J(e){e+="";var t=C.pv,n=e.split(".");return n[0]=V(n[0]),n[1]=V(n[1])||0,n[2]=V(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function K(t,n,r,i){var s=f.getElementsByTagName("head")[0];if(!s)return;var o=typeof r=="string"?r:"screen";i&&(S=null,x=null);if(!S||x!=o){var u=X("style");u.setAttribute("type","text/css"),u.setAttribute("media",o),S=s.appendChild(u),C.ie&&typeof f.styleSheets!=e&&f.styleSheets.length>0&&(S=f.styleSheets[f.styleSheets.length-1]),x=o}S&&(typeof S.addRule!=e?S.addRule(t,n):typeof f.createTextNode!=e&&S.appendChild(f.createTextNode(t+" {"+n+"}")))}function Q(e,t){if(!T)return;var n=t?"visible":"hidden",r=W(e);w&&r?r.style.visibility=n:typeof e=="string"&&K("#"+e,"visibility:"+n)}function G(t){var n=/[\\\"<>\.;]/,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash",o="SWFObjectExprInst",u="onreadystatechange",a=window,f=document,l=navigator,c=!1,h=[],p=[],d=[],v=[],m,g,y,b,w=!1,E=!1,S,x,T=!0,N=!1,C=function(){var i=typeof f.getElementById!=e&&typeof f.getElementsByTagName!=e&&typeof f.createElement!=e,o=l.userAgent.toLowerCase(),u=l.platform.toLowerCase(),h=u?/win/.test(u):/win/.test(o),p=u?/mac/.test(u):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=l.appName==="Microsoft Internet Explorer",m=[0,0,0],g=null;if(typeof l.plugins!=e&&typeof l.plugins[n]==t)g=l.plugins[n].description,g&&typeof l.mimeTypes!=e&&l.mimeTypes[s]&&l.mimeTypes[s].enabledPlugin&&(c=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=V(g.replace(/^(.*)\..*$/,"$1")),m[1]=V(g.replace(/^.*\.(.*)\s.*$/,"$1")),m[2]=/[a-zA-Z]/.test(g)?V(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof a.ActiveXObject!=e)try{var y=new ActiveXObject(r);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[V(g[0]),V(g[1]),V(g[2])]))}catch(b){}return{w3:i,pv:m,wk:d,ie:v,win:h,mac:p}}(),k=function(){if(!C.w3)return;(typeof f.readyState!=e&&(f.readyState==="complete"||f.readyState==="interactive")||typeof f.readyState==e&&(f.getElementsByTagName("body")[0]||f.body))&&L(),w||(typeof f.addEventListener!=e&&f.addEventListener("DOMContentLoaded",L,!1),C.ie&&(f.attachEvent(u,function t(){f.readyState=="complete"&&(f.detachEvent(u,t),L())}),a==top&&function n(){if(w)return;try{f.documentElement.doScroll("left")}catch(e){setTimeout(n,0);return}L()}()),C.wk&&function r(){if(w)return;if(!/loaded|complete/.test(f.readyState)){setTimeout(r,0);return}L()}())}();h[0]=function(){c?M():_()};var Y=function(){C.ie&&window.attachEvent("onunload",function(){var e=v.length;for(var t=0;t<e;t++)v[t][0].detachEvent(v[t][1],v[t][2]);var n=d.length;for(var r=0;r<n;r++)R(d[r]);for(var s in C)C[s]=null;C=null;for(var o in i)i[o]=null;i=null})}();return{registerObject:function(e,t,n,r){if(C.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,p[p.length]=i,Q(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(C.w3)return D(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h=z(r),p={success:!1,id:h};C.w3&&!(C.wk&&C.wk<312)&&n&&r&&i&&s&&o?(Q(h,!1),A(function(){i+="",s+="";var d={};if(l&&typeof l===t)for(var v in l)d[v]=l[v];d.data=n,d.width=i,d.height=s;var m={};if(f&&typeof f===t)for(var g in f)m[g]=f[g];if(a&&typeof a===t)for(var y in a)if(a.hasOwnProperty(y)){var b=N?encodeURIComponent(y):y,w=N?encodeURIComponent(a[y]):a[y];typeof m.flashvars!=e?m.flashvars+="&"+b+"="+w:m.flashvars=b+"="+w}if(J(o)){var E=I(d,m,r);d.id==h&&Q(h,!0),p.success=!0,p.ref=E,p.id=E.id}else{if(u&&P()){d.data=u,H(d,m,r,c);return}Q(h,!0)}c&&c(p)})):c&&c(p)},switchOffAutoHideShow:function(){T=!1},enableUriEncoding:function(t){N=typeof t===e?!0:t},ua:C,getFlashPlayerVersion:function(){return{major:C.pv[0],minor:C.pv[1],release:C.pv[2]}},hasFlashPlayerVersion:J,createSWF:function(e,t,n){return C.w3?I(e,t,n):undefined},showExpressInstall:function(e,t,n,r){C.w3&&P()&&H(e,t,n,r)},removeSWF:function(e){C.w3&&R(e)},createCSS:function(e,t,n,r){C.w3&&K(e,t,n,r)},addDomLoadEvent:A,addLoadEvent:O,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return G(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return G(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(E){var e=W(o);e&&m&&(e.parentNode.replaceChild(m,e),g&&(Q(g,!0),C.ie&&(m.style.display="block")),y&&y(b)),E=!1}},version:"2.3"}}();n("swfobject",function(e){return function(){var t,n;return t||e.swfobject}}(this)),n("views/header",["jquery","underscore","backbone","foundation","views/abstract","text!templates/header.html","text!templates/exportTable.html","models/scenario","swfobject"],function(e,t,n,r,i,s,o,u,a){"use strict";var f=i.extend({el:"#header",template:t.template(e(s).html()),tableTemplate:t.template(e(o).html()),doLog:!1,logPrefix:"==#== HeaderView > ",events:{"change input#load-file":"loadFiles","click #newFile":"newFile","click #saveFile":"saveFile","click #deleteFile":"remove","click #exportCsv":"exportCSV","click #exportXls":"exportXLS"},initialize:function(){f.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.onSelectionChange)},render:function(){var e=this;return this.$el.html(this.template({})),this.$el.find("a.disabled").click(function(e){return e.preventDefault(),!1}),this},getFilename:function(){var e="",t=window.mentalmodeler.appModel;return t.curModel&&(e=t.curModel.get("filename")),e.replace(/\s/g,"")+(e.indexOf(".mmp")!==-1?"":".mmp")},getXML:function(){var e="",t=window.mentalmodeler.appModel;return t.curModel&&(t.curSection==="modeling"&&t.saveModelData(!0),e=t.curModel.getXML()),e},onSelectionChange:function(){var e=!1,t=window.mentalmodeler.appModel;this.log("onSelectionChange, appModel.curSelection:",t.curSelection,", appModel.curSelectionType:",t.curSelectionType),t.curModel&&t.curSelection&&(t.curSelectionType==="scenario"?t.curSelection.collection.length>1&&(e=!0):t.mmps.length>1&&(e=!0)),e?this.$el.find("#deleteFile").removeClass("disabled"):this.$el.find("#deleteFile").addClass("disabled")},exportData:function(t){var n=[],r=window.mentalmodeler.appModel.curModel;r&&(n=r.getConceptsForGrid());var i=e(this.tableTemplate({concepts:n}));this.$el.append(i),console.log("$table:",i),i.tableExport({type:t,escape:"false",consoleLog:"true"}),i.remove()},exportXLS:function(){this.exportData("excel")},exportCSV:function(){this.exportData("csv")},newFile:function(){window.mentalmodeler.appModel.addModel()},saveFile:function(){var t="http://45.55.174.38",n=this.getFilename();e.ajax({type:"POST",url:t+"/mm/save",crossDomain:!0,data:this.getXML(),contentType:"text/xml",dataType:"text",success:function(e){window.location.href=t+"/mm/download?id="+e+"&name="+n},error:function(e,t){e.status===0?console.log("No connection. Server is down or you have network issues."):e.status===404?console.log("Requested URI not found. [404]"):e.status===500?console.log("Internal server error. [500]"):t==="timeout"?console.log("Request timed out. Please try again."):t==="abort"?console.log("Request aborted. Please try again."):console.log("Uncaught error.\n"+e.responseText)}})},loadFiles:function(e){this.log("loadfiles, e:",e),window.mentalmodeler.appModel.loadFiles(e)},remove:function(e){window.mentalmodeler.appModel.remove()}});return f}),n("text!templates/list.html",[],function(){return'<script type="text/template" class="template">\r\n	<div>\r\n		<div class="header"><i class="fa fa-file-text"></i>Files</div>\r\n		<div class="body">\r\n		</div>\r\n	</div>\r\n</script>'}),n("views/list",["jquery","underscore","backbone","foundation","views/abstract","text!templates/list.html"],function(e,t,n,r,i,s){"use strict";var o=i.extend({tagName:"div",className:"left-main app-panel",template:t.template(e(s).html()),availableHeight:null,events:{},initialize:function(){o.__super__.initialize.apply(this,arguments),this.listenTo(n,"mmp:add",this.onModelAdded),this.listenTo(n,"mmp:remove",this.onModelRemoved),this.listenTo(n,"scenario:remove",this.onScenarioRemoved)},render:function(){return this.$el.html(this.template()),this.renderList(),this.setHeight(),this},renderList:function(){var t=this.$el.find("div.body");t.empty();var n=e('<div class="holder"></div>'),r=window.mentalmodeler.appModel.mmps;for(var i=0;i<r.length;i++){var s=r.at(i);n.append(s.getView().render().el)}t.append(n)},onModelAdded:function(e){this.renderList()},onModelRemoved:function(e){this.renderList()},onScenarioRemoved:function(e){this.renderList()},setAvailableHeight:function(e){this.availableHeight=e,this.availableHeight!==null&&this.availableHeight>0&&this.setHeight()},setHeight:function(){var e=this.$el.find(".header"),t=this.$el.find(".body"),n=e.outerHeight(),r=parseInt(t.css("padding-top"),10)*2;t.height(this.availableHeight-(n+r))}});return o}),function(e){Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(t&&(n=t),r=Array(o),i=0;o>i;){var u,a;i in s&&(u=s[i],a=e.call(n,u,i,s),r[i]=a),i++}return r});var t=e.detect=function(){var e=function(){},t={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};e.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],e.types=["browser","os","device"],e.regexes=t||function(){var t={};return e.parsers.map(function(e){t[e]=[]}),t}(),e.families=function(){var t={};return e.types.map(function(e){t[e]=[]}),t}();var n=Array.prototype,r=(Object.prototype,Function.prototype,n.forEach);n.indexOf;var i=function(e,t){for(var n={},r=0;t.length>r&&!(n=t[r](e));r++);return n},s=function(e,t){o(e,function(e){o(t,function(t){delete e[t]})})},o=forEach=function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,s=e.length;s>i;i++)t.call(n,e[i],i,e);else for(var o in e)_.has(e,o)&&t.call(n,e[o],o,e)},u=function(e){return!!e&&e!==undefined&&null!=e},a=function(e){var t="";return e=e||{},u(e)&&u(e.major)&&(t+=e.major,u(e.minor)&&(t+="."+e.minor,u(e.patch)&&(t+="."+e.patch))),t},f=function(e){e=e||{};var t=a(e);return t&&(t=" "+t),e&&u(e.family)?e.family+t:""};return e.parse=function(t){var n=function(t){return e.regexes[t+"_parsers"].map(function(e){function n(t){var n=t.match(r);if(!n)return null;var o={};return o.family=(i?i.replace("$1",n[1]):n[1])||"other",o.major=parseInt(s?s:n[2])||null,o.minor=n[3]?parseInt(n[3]):null,o.patch=n[4]?parseInt(n[4]):null,o.tablet=e.tablet,o.man=e.manufacturer||null,o}var r=RegExp(e.regex),i=e[("browser"===t?"family":t)+"_replacement"],s=e.major_version_replacement;return n})},r=function(){},o=n("browser"),h=n("os"),p=n("device"),v=new r;v.source=t,v.browser=i(t,o),u(v.browser)?(v.browser.name=f(v.browser),v.browser.version=a(v.browser)):v.browser={},v.os=i(t,h),u(v.os)?(v.os.name=f(v.os),v.os.version=a(v.os)):v.os={},v.device=i(t,p),u(v.device)?(v.device.name=f(v.device),v.device.version=a(v.device)):v.device={tablet:!1,family:"Other"};var m={};return e.regexes.mobile_browser_families.map(function(e){m[e]=!0}),e.regexes.mobile_os_families.map(function(e){m[e]=!0}),v.device.type="Spider"===v.browser.family?"Spider":v.browser.tablet||v.os.tablet||v.device.tablet?"Tablet":m.hasOwnProperty(v.browser.family)?"Mobile":"Desktop",v.device.manufacturer=v.browser.man||v.os.man||v.device.man||null,s([v.browser,v.os,v.device],["tablet","man"]),v},e}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.detect=t):e.detect=t,"function"==typeof n&&n.amd&&n("detect",[],function(){return t})}(window),n("views/modeling",["jquery","underscore","backbone","foundation","views/abstract","detect"],function(e,t,n,r,i,s){"use strict";var o=i.extend({tagName:"div",id:"flash-model",flash:null,events:{},initialize:function(){o.__super__.initialize.apply(this,arguments),window.mentalmodeler.appModel.modelingView=this,this.listenTo(n,"selection:change",this.onSelectionChange),this.listenTo(n,"section:change",this.onSectionChange)},render:function(){var e=s.parse(navigator.userAgent),t=e.browser.family?e.browser.family.toLowerCase():"";switch(t){case"firefox":this.$el.append("<embed id='flash-content' src='swf/mentalmodeler.swf' height='100%' width='100%' allowscriptaccess='always' allowfullscreeninteractive='true' type='application/x-shockwave-flash' />");break;default:this.$el.append("<object id='flash-content' type='application/x-shockwave-flash' height='100%' width='100%'><param name='movie' value='swf/mentalmodeler.swf'/><param name='allowScriptAccess' value='always' /><param name='allowFullScreenInteractive' value='true' /></object>")}return this.flash=this.$el.find("#flash-content")[0],this},getModelXML:function(){var e=this.flash.doSave();return e},reloadSwf:function(e){this.flash.doLoad(e)},onSelectionChange:function(e,t,n){var r=window.mentalmodeler.appModel;r.curSection==="modeling"&&r.curModel&&this.reloadSwf(r.curModel.getModelingXML())},onSectionChange:function(e){var t=window.mentalmodeler.appModel;e==="modeling"&&t.curModel&&this.reloadSwf(t.curModel.getModelingXML())}});return o}),n("text!templates/grid.html",[],function(){return'<script type="text/template" class="template">\r\n	<table id="relationshipMatrix">\r\n	  <thead>\r\n	  	<tr>\r\n	  		<td></td>\r\n	  		<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; %>\r\n	  			<td><%= concept.name %></td>\r\n	  		<% } %>\r\n	  	</tr>\r\n	  </thead>\r\n	  <tbody>\r\n	  	<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; %>\r\n	    <tr data-id="<%= concept.id %>">\r\n	    	<td class="node"><%= concept.name %></td>\r\n	    	<% for (var j=0; j<concepts.length; j++) { var influenceeId = concepts[j].id; var label = concept.relationships[ influenceeId ]; var hasNoValue =  label === \'undefined\' || label === undefined; var addElem = j != i;%>\r\n	    		<td class="<%= addElem ? \'mutable\' : \'\' %><%= hasNoValue ? \'\' : \' hasValue\' %>" data-id="<%= influenceeId %>">\r\n	    			<% if ( addElem ) { %>\r\n		    			<input class="input" type="text" maxlength="5" value="<%= label %>"><i class="fa fa-caret-down"></i>\r\n		    			<input type="range" class="slider" min="-1" max="1" step=".01" value="<%= label %>" >\r\n					<% } %>\r\n	    		</td>\r\n	    	<% } %>\r\n	    </tr>\r\n	    <% } %>\r\n	  </tbody>\r\n	</table>\r\n</script>'}),n("util/domUtils",["jquery","underscore"],function(e,t){"use strict";var n={regexs:{"just-numbers":/[^\/\d]/g,"just-floats":/[^\/\d]+\./g,"just-lower-case":/[^a-z]/,"just-upper-case":/[^A-Z]/,"upper-and-lower-case":/[^a-zA-Z]/}};return n.getElementID=function(e){var t="id",n=!0,r=e.attr(t);return typeof r=="undefined"&&(n=!1,r=DataUtils.makeID(),e.attr(t,r)),{id:r,idExisted:n}},n.getViewportSize=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},n.element=function(e){return e instanceof jQuery?e[0]:e},n.existsOnDOM=function(t,r){var i=r||e("body");try{return e.contains(n.element(i),n.element(t))}catch(s){console.error("ERROR! existsOnDOM, error:",s)}},n.onAddedToDOM=function(r){console.assert(t.isObject(r),"Options is not an object");var i={callback:function(){},container:e("body")};t.extend(i,r),i.el=n.element(i.el);var s=new MutationObserver(function(n){t.each(n,function(n){var r=t.find(n.addedNodes,function(t){return t===i.el||e.contains(t,i.el)});t.isUndefined(r)||(i.callback(),s.disconnect())})});s.observe(n.element(i.container),{childList:!0,subtree:!0})},n.setSelection=function(e,n,r){if(t.isUndefined(e))return!1;var i=e[0];if(t.isUndefined(i))return!1;if(!t.isNumber(n)||n<0)n=0;t.isUndefined(r)&&(r=n);if(t.isFunction(i.setSelectionRange))return i.setSelectionRange(n,r),!0;if(t.isFunction(i.createTextRange)){var s=i.createTextRange();return s.collapse(!0),s.moveEnd("character",r),s.moveStart("character",n),s.select(),!0}return!1},n.getCursorPosition=function(e){if(t.isUndefined(e))return!1;var n=e[0];if(t.isUndefined(n))return!1;if(n.selectionStart)return n.selectionStart;if(document.selection){n.focus();var r=document.selection.createRange();if(t.isNull(r))return 0;var i=n.createTextRange(),s=i.duplicate();return i.moveToBookmark(r.getBookmark()),s.setEndPoint("EndToStart",i),s.text.length}return 0},n.createHumanReadableIdentifierPropValue=function(e,n,r,i,s){(!t.isString(n)||t.isEmpty(n))&&console.error("domUtils.getHumanReadableIdentifierPropContent > identifier must be a non-empty string");var o=Intlize.getInstance().getLabels([["identifier"]]);t.isUndefined(r)&&(r=DataUtils.getHrid(e,n)),t.isUndefined(i)&&(i=!1),t.isUndefined(s)&&(s=!1);var u=JST["authoring/humanReadableIdentifier"];return u({labels:o,identifier:n,hrid:r,isEditable:!i,isEnumeratedHrid:s})},n}),n("util/inputUtils",["jquery","underscore","backbone","util/domUtils","util/dataUtils"],function(e,t,n,r,i){"use strict";var s={cursorPos:null,$input:null,regexs:{natural:/[^\d]+/g,whole:/[^\d]+/g,integer:/[^\d-]+/g,positive:/[^\d.]+/g,"non-negative":/[^\d.]/g,negative:/[^\d.-]+/g,"non-positive":/[^\d.-]+/g,"float":/[^\d.-]+/g,"float-positive":/[^\d.]+/g,"lower-case":/[^a-z]/g,"upper-case":/[^A-Z]/g,"upper-lower-case":/[^a-zA-Z]/g,"comma-number-list":/[^0-9,]/g,"no-double-quotes":/["]+/g,"equation-graph":/[^0-9abceglnostpixy.+()=*\^\-\/]/g,"no-spaces":/[\s]+/g,"no-xml-no-spaces":/[&"<>\s]+/g,"match-group":/[^A-Za-z\d_-]/g,"float-fraction":/[^\d.\-\/]+/g,alphabetic:/[^A-Za-z]/g,"alpha-numeric":/[^A-Za-z\d]/g}};return s.filterInput=function(e,t,n,r){s.$input=e;var i=e.get(0),o,u=["blur","focusout"];u.indexOf(n)!==-1&&(o=s.getValidationFunc(t,r));var a=s.filterInputValue(e,s.regexs[t],t,o);return s.updateCursorPosition(e),s.$input=null,a},s.clearValidationChangedValue=function(e){e.removeClass("validation-changed-value"),e.find("input").removeClass("validation-changed-value")},s.filterInputValue=function(e,n,r,i){e.removeClass("validation-changed-value");var o=e.val();o=s.filterString(o,n),o=s.cleanString(o,r,e);if(!t.isUndefined(i)&&t.isFunction(i)){var u=i(o);o=u.value,u.valueChanged&&e.addClass("validation-changed-value")}return e.val(o),o},s.updateCursorPosition=function(e){var n=s.cursorPos;!t.isNull(n)&&!isNaN(n)&&r.setSelection(e,n),s.cursorPos=null},s.replaceString=function(e,n){var i=r.getCursorPosition(s.$input),o=e;if(!t.isUndefined(n)){var u=n.test(e);u&&(e=e.replace(n,""))}return s.calculateCursorPosition(i,o,e),e},s.calculateCursorPosition=function(e,n,r){var i=n.length-r.length,o=e-i;t.isNumber(o)&&o>=0&&(s.cursorPos=o)},s.filterString=function(e,n){var r;return t.isUndefined(n)||(n instanceof RegExp?r=n:t.isString(n)&&this.regexs.hasOwnProperty(n)&&(r=this.regexs[n])),s.replaceString(e,r)},s.cleanString=function(e,t,n){switch(t){case"match-group":e=s.removeLeadingNonAlphabeticChars(e,n);break;case"natural":e=s.removeLeadingZero(e);break;case"positive":e=s.removeLeadingZero(e),e=s.removeMultipleDecimals(e);break;case"integer":e=s.removeNonLeadingNegatives(e);break;case"non-negative":e=s.removeMultipleDecimals(e);break;case"negative":e=s.removeMultipleDecimals(e),e=s.removeLeadingZero(e),e=s.removeNonLeadingNegatives(e),e=s.addLeadingNegative(e,!1);break;case"non-positive":e=s.removeMultipleDecimals(e),e=s.removeNonLeadingNegatives(e),e=s.addLeadingNegative(e,!0);break;case"float":e=s.removeMultipleDecimals(e),e=s.removeNonLeadingNegatives(e);break;case"equation-graph":}return e},s.removeLeadingNonAlphabeticChars=function(e,t){var n=/^[^a-zA-Z]+/;return n.test(e)&&(e=e.replace(n,""),s.cursorPos=0),e},s.removeLeadingZero=function(e){return e=e.replace(/^\-?0+(?!\.)/g,""),e},s.removeMultipleDecimals=function(e){if(e.indexOf(".")>-1){var t=e.split("."),n=t[0]===""||t[0]==="-";t[0]=t[0].concat(n?"0":"","."),e=t.join("")}return e},s.removeNonLeadingNegatives=function(e){if(e.indexOf("-")>-1){var t=e.indexOf("-")===0,n=e.split("-");t&&(n[0]="-".concat(n[0])),e=n.join("")}return e},s.addLeadingNegative=function(e,t){return e.length>0&&(e.indexOf("-")!==0&&parseFloat(e)>0?e="-".concat(e):t&&e.indexOf("-")===0&&parseFloat(e)===0&&(e=e.substr(1))),e},s.getValidationFunc=function(e,n){n=n||{};var r=!1;switch(e){case"natural":case"whole":case"integer":n.type="integer",r=!0;break;case"positive":case"non-negative":case"negative":case"non-positive":case"float":n.type="float",r=!0}r&&(t.has(n,"min")||(n.min=s.getMinValue(e)),t.has(n,"max")||(n.max=s.getMaxValue(e))),t.has(n,"default")||(n.default=s.getDefaultValue(e));var o=function(e){var s=n.default,o=!0,u=i.getProperty(n,"canBeEmpty")||n.default==="";return u===!0&&t.isEmpty(e)?(s=e,o=!1):r?(n.type==="integer"?e=parseInt(e,10):n.type==="float"&&(e=parseFloat(e)),t.isNaN(e)||(e<n.min?s=n.min:e>n.max?s=n.max:(s=e,o=!1))):(s=e,o=!1),{value:s,valueChanged:o}};return o},s.getMinValue=function(e){var t=-9007199254740992,n;switch(e){case"natural":n=1;break;case"whole":case"non-negative":n=0;break;case"positive":n=1e-6;break;case"integer":case"negative":case"non-positive":case"float":n=t}return n},s.getMaxValue=function(e){var t=9007199254740992,n;switch(e){case"natural":case"whole":case"integer":case"positive":case"non-negative":case"float":n=t;break;case"negative":n=-0.000001;break;case"non-positive":n=0}return n},s.getDefaultValue=function(e){var t="";switch(e){case"natural":case"whole":case"integer":case"positive":case"non-negative":case"float":t=1;break;case"negative":case"non-positive":t=-1}return t},s}),function(e){e.fn.extend({tableExport:function(t){function y(e){return n.htmlContent=="true"?content_data=e.html().trim():content_data=e.text().trim(),n.escape=="true"&&(content_data=escape(content_data)),content_data}var n={separator:",",ignoreColumn:[],tableName:"yourTableName",type:"csv",pdfFontSize:14,pdfLeftMargin:20,escape:"true",htmlContent:"false",consoleLog:"false"},t=e.extend(n,t),r=this;if(n.type=="csv"||n.type=="txt"){var i="";e(r).find("thead").find("tr").each(function(){i+="\n",e(this).filter(":visible").find("th").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(i+='"'+y(e(this))+'"'+n.separator)}),i=e.trim(i),i=e.trim(i).substring(0,i.length-1)}),e(r).find("tbody").find("tr").each(function(){i+="\n",e(this).filter(":visible").find("td").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(i+='"'+y(e(this))+'"'+n.separator)}),i=e.trim(i).substring(0,i.length-1)}),n.consoleLog=="true"&&console.log(i);var s="base64,"+e.base64.encode(i);window.open("data:application/"+n.type+";filename=exportData;"+s)}else if(n.type=="sql"){var i="INSERT INTO `"+n.tableName+"` (";e(r).find("thead").find("tr").each(function(){e(this).filter(":visible").find("th").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(i+="`"+y(e(this))+"`,")}),i=e.trim(i),i=e.trim(i).substring(0,i.length-1)}),i+=") VALUES ",e(r).find("tbody").find("tr").each(function(){i+="(",e(this).filter(":visible").find("td").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(i+='"'+y(e(this))+'",')}),i=e.trim(i).substring(0,i.length-1),i+="),"}),i=e.trim(i).substring(0,i.length-1),i+=";",n.consoleLog=="true"&&console.log(i);var s="base64,"+e.base64.encode(i);window.open("data:application/sql;filename=exportData;"+s)}else if(n.type=="json"){var o=[];e(r).find("thead").find("tr").each(function(){var t="",r=[];e(this).filter(":visible").find("th").each(function(t,i){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&r.push(y(e(this)))}),o.push(r)});var u=[];e(r).find("tbody").find("tr").each(function(){var t="",r=[];e(this).filter(":visible").find("td").each(function(t,i){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&r.push(y(e(this)))}),u.push(r)});var a=[];a.push({header:o,data:u}),n.consoleLog=="true"&&console.log(JSON.stringify(a));var s="base64,"+e.base64.encode(JSON.stringify(a));window.open("data:application/json;filename=exportData;"+s)}else if(n.type=="xml"){var f='<?xml version="1.0" encoding="utf-8"?>';f+="<tabledata><fields>",e(r).find("thead").find("tr").each(function(){e(this).filter(":visible").find("th").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(f+="<field>"+y(e(this))+"</field>")})}),f+="</fields><data>";var l=1;e(r).find("tbody").find("tr").each(function(){f+='<row id="'+l+'">';var t=0;e(this).filter(":visible").find("td").each(function(r,i){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(r)==-1&&(f+="<column-"+t+">"+y(e(this))+"</column-"+t+">"),t++}),l++,f+="</row>"}),f+="</data></tabledata>",n.consoleLog=="true"&&console.log(f);var s="base64,"+e.base64.encode(f);window.open("data:application/xml;filename=exportData;"+s)}else if(n.type=="excel"||n.type=="doc"||n.type=="powerpoint"){var c="<table>";e(r).find("thead").find("tr").each(function(){c+="<tr>",e(this).filter(":visible").find("th").each(function(t,r){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1&&(c+="<td>"+y(e(this))+"</td>")}),c+="</tr>"});var l=1;e(r).find("tbody").find("tr").each(function(){c+="<tr>";var t=0;e(this).filter(":visible").find("td").each(function(r,i){e(this).css("display")!="none"&&n.ignoreColumn.indexOf(r)==-1&&(c+="<td>"+y(e(this))+"</td>"),t++}),l++,c+="</tr>"}),c+="</table>",n.consoleLog=="true"&&console.log(c);var h="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:"+n.type+"' xmlns='http://www.w3.org/TR/REC-html40'>";h+="<head>",h+="<!--[if gte mso 9]>",h+="<xml>",h+="<x:ExcelWorkbook>",h+="<x:ExcelWorksheets>",h+="<x:ExcelWorksheet>",h+="<x:Name>",h+="{worksheet}",h+="</x:Name>",h+="<x:WorksheetOptions>",h+="<x:DisplayGridlines/>",h+="</x:WorksheetOptions>",h+="</x:ExcelWorksheet>",h+="</x:ExcelWorksheets>",h+="</x:ExcelWorkbook>",h+="</xml>",h+="<![endif]-->",h+="</head>",h+="<body>",h+=c,h+="</body>",h+="</html>";var s="base64,"+e.base64.encode(h);window.open("data:application/vnd.ms-"+n.type+";filename=exportData.doc;"+s)}else if(n.type=="png")html2canvas(e(r),{onrendered:function(e){var t=e.toDataURL("image/png");window.open(t)}});else if(n.type=="pdf"){var p=new jsPDF("p","pt","a4",!0);p.setFontSize(n.pdfFontSize);var d=n.pdfLeftMargin;e(r).find("thead").find("tr").each(function(){e(this).filter(":visible").find("th").each(function(t,r){if(e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1){var i=d+t*50;p.text(i,20,y(e(this)))}})});var v=20,m=1,g=0;e(r).find("tbody").find("tr").each(function(t,r){rowCalc=t+1,rowCalc%26==0&&(p.addPage(),m++,v+=10),g=v+rowCalc*10-(m-1)*280,e(this).filter(":visible").find("td").each(function(t,r){if(e(this).css("display")!="none"&&n.ignoreColumn.indexOf(t)==-1){var i=d+t*50;p.text(i,g,y(e(this)))}})}),p.output("datauri")}}})}(jQuery),n("tableExport",["jquery"],function(e){return function(){var t,n;return t||e.tableExport}}(this)),jQuery.base64=function(e){function i(e,t){var r=n.indexOf(e.charAt(t));if(r===-1)throw"Cannot decode base64";return r}function s(e){var n=0,r,s,o=e.length,u=[];e=String(e);if(o===0)return e;if(o%4!==0)throw"Cannot decode base64";e.charAt(o-1)===t&&(n=1,e.charAt(o-2)===t&&(n=2),o-=4);for(r=0;r<o;r+=4)s=i(e,r)<<18|i(e,r+1)<<12|i(e,r+2)<<6|i(e,r+3),u.push(String.fromCharCode(s>>16,s>>8&255,s&255));switch(n){case 1:s=i(e,r)<<18|i(e,r+1)<<12|i(e,r+2)<<6,u.push(String.fromCharCode(s>>16,s>>8&255));break;case 2:s=i(e,r)<<18|i(e,r+1)<<12,u.push(String.fromCharCode(s>>16))}return u.join("")}function o(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}function u(e){if(arguments.length!==1)throw"SyntaxError: exactly one argument required";e=String(e);var r,i,s=[],u=e.length-e.length%3;if(e.length===0)return e;for(r=0;r<u;r+=3)i=o(e,r)<<16|o(e,r+1)<<8|o(e,r+2),s.push(n.charAt(i>>18)),s.push(n.charAt(i>>12&63)),s.push(n.charAt(i>>6&63)),s.push(n.charAt(i&63));switch(e.length-u){case 1:i=o(e,r)<<16,s.push(n.charAt(i>>18)+n.charAt(i>>12&63)+t+t);break;case 2:i=o(e,r)<<16|o(e,r+1)<<8,s.push(n.charAt(i>>18)+n.charAt(i>>12&63)+n.charAt(i>>6&63)+t)}return s.join("")}var t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="1.0";return{decode:s,encode:u,VERSION:r}}(jQuery),n("jqueryBase64",["jquery"],function(e){return function(){var t,n;return t||e.jqueryBase64}}(this)),n("views/grid",["jquery","underscore","backbone","foundation","views/abstract","text!templates/grid.html","util/inputUtils","tableExport","jqueryBase64"],function(e,t,n,r,i,s,o){"use strict";var u=i.extend({tagName:"div",className:"grid",template:t.template(e(s).html()),doLog:!0,events:{"mousedown .mutable":"showSlider","input .slider":"onSliderUpdate","input .input":"onTextInput","blur .input":"onTextInput","change .slider":"onSliderUpdate"},$currentSlider:null,initialize:function(){u.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.checkToRender),this.listenTo(n,"section:change",this.checkToRender),this.listenTo(n,"mmp:change",this.checkToRender)},showSlider:function(t){this.$currentSlider!==null&&this.$currentSlider.removeClass("shown"),this.$currentSlider=e(t.target).closest("td").find(".slider").addClass("shown"),e(document).on("click.gridSlider",function(t){e(document).off("click.gridSlider");var n=e(t.target).closest("td").find(".slider").addClass("shown");n.is(this.$currentSlider)||(this.$currentSlider&&this.$currentSlider.removeClass("shown"),this.$currentSlider=null)}.bind(this))},onTextInput:function(t){var n=e(t.currentTarget),r=n.closest("td").attr("data-id"),i=n.closest("tr").attr("data-id"),s={"default":0,min:-1,max:1,canBeEmpty:!0},u=o.filterInput(n,"float",t.type,s),a=Math.round(u*100)/100;t.type!=="input"&&(a!==u&&n.val(a),a===0&&n.val("")),this.updateValue(r,i,a),n.closest("td").find(".slider").val(a)},onSliderUpdate:function(t){console.log("onSliderUpdate, e.type:",t.type);var n=e(t.target),r=n.val(),i=n.closest("td"),s=i.find(".input").val(r),o=i.attr("data-id"),u=n.closest("tr").attr("data-id");r===0?i.removeClass("hasValue"):i.addClass("hasValue"),t.type==="change"&&this.updateValue(o,u,r)},updateValue:function(e,t,n){this.log("updateValue, value:",n,", id:",e,", influencerId:",t);var r=window.mentalmodeler.appModel.curModel;if(r){var i=r.conceptCollection.findWhere({id:t}),s=r.conceptCollection.findWhere({id:e});if(typeof i!="undefiend"){this.log("     influencer:",i);var o=i.relationshipCollection,u=o.findWhere({id:e});typeof u!="undefined"?(n===""?o.remove(u):u.set("influence",n),this.log("     relationships:",o)):(o.add({id:e,name:s.get("name"),influence:n}),this.log("     relationships:",o))}}},render:function(){var e=[],t=window.mentalmodeler.appModel.curModel;return t&&(e=t.getConceptsForGrid()),this.$el.html(this.template({concepts:e})),this},checkToRender:function(){var e=window.mentalmodeler.appModel;e.curSelection!=null&&e.curSection==="grid"&&this.render()}});return u}),n("text!templates/info.html",[],function(){return'<script type="text/template" class="template">\r\n	<label>Author</label>\r\n	<textarea class="single-line" id="authorText" row="1"><%= author %> </textarea>\r\n	\r\n	<label>Model Name</label>\r\n	<textarea class="single-line" id="nameText" row="1"><%= name %></textarea>\r\n	\r\n	<label>Description</label>\r\n	<textarea id="descriptionText" rows="6"><%= description %></textarea>\r\n</script>'}),n("views/info",["jquery","underscore","backbone","foundation","views/abstract","text!templates/info.html"],function(e,t,n,r,i,s){"use strict";var o=i.extend({tagName:"div",className:"info",template:t.template(e(s).html()),doLog:!0,events:{"change #authorText":"onAuthorChange","input #nameText":"onNameChange","change #descriptionText":"onDescrChange"},initialize:function(){o.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.onSelectionChange)},render:function(){var e={name:"",author:"",description:""};return window.mentalmodeler.appModel.curModel!==null&&(e=window.mentalmodeler.appModel.curModel.getInfo()),this.$el.html(this.template(e)),this},onAuthorChange:function(t){this.saveInfo("author",e(t.target).val())},onNameChange:function(t){this.saveInfo("name",e(t.target).val())},onDescrChange:function(t){this.saveInfo("description",e(t.target).val())},onSelectionChange:function(e,t,n){this.render()},saveInfo:function(e,t){var r=window.mentalmodeler.appModel.curModel;r&&(r.infoModel.set(e,t),n.trigger("info:change"))}});return o}),!function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function r(e){for(var t=1;e*t%1;)t*=10;return t}function i(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function s(){}function o(e){return fu+e in this}function u(e){return e=fu+e,e in this&&delete this[e]}function a(){var e=[];return this.forEach(function(t){e.push(t)}),e}function f(){var e=0;for(var t in this)t.charCodeAt(0)===lu&&++e;return e}function l(){for(var e in this)if(e.charCodeAt(0)===lu)return!1;return!0}function c(){}function h(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function p(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=cu.length;r>n;++n){var i=cu[n]+t;if(i in e)return i}}function d(){}function v(){}function m(e){function t(){for(var t,r=n,i=-1,s=r.length;++i<s;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new s;return t.on=function(t,i){var s,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,s=n.indexOf(o)).concat(n.slice(s+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function g(){Jo.event.preventDefault()}function y(){for(var e,t=Jo.event;e=t.sourceEvent;)t=e;return t}function b(e){for(var t=new v,n=0,r=arguments.length;++n<r;)t[arguments[n]]=m(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=Jo.event;i.target=e,Jo.event=i,t[i.type].apply(n,r)}finally{Jo.event=s}}},t}function w(e){return pu(e,yu),e}function E(e){return"function"==typeof e?e:function(){return du(e,this)}}function S(e){return"function"==typeof e?e:function(){return vu(e,this)}}function x(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Jo.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?u:o:e.local?s:i}function T(e){return e.trim().replace(/\s+/g," ")}function N(e){return new RegExp("(?:^|\\s+)"+Jo.requote(e)+"(?:\\s+|$)","g")}function C(e){return e.trim().split(/^|\s+/)}function k(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=C(e).map(L);var i=e.length;return"function"==typeof t?r:n}function L(e){var t=N(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",T(i+" "+e))):n.setAttribute("class",T(i.replace(t," ")))}}function A(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?s:i}function O(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function M(e){return"function"==typeof e?e:(e=Jo.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function _(e){return{__data__:e}}function D(e){return function(){return gu(this,e)}}function P(e){return arguments.length||(e=Jo.ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function H(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,s=e[n],o=0,u=s.length;u>o;o++)(i=s[o])&&t(i,o,n);return e}function B(e){return pu(e,wu),e}function j(e){var t,n;return function(r,i,s){var o,u=e[s].update,a=u.length;for(s!=n&&(n=s,t=0),i>=t&&(t=i+1);!(o=u[t])&&++t<a;);return o}}function F(){var e=this.__transition__;e&&++e.active}function I(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=a(t,Qo(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function s(){var t,n=new RegExp("^__on([^.]+)"+Jo.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,u=e.indexOf("."),a=q;u>0&&(e=e.substring(0,u));var f=Su.get(e);return f&&(e=f,a=R),u?t?i:r:t?d:s}function q(e,t){return function(n){var r=Jo.event;Jo.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Jo.event=r}}}function R(e,t){var n=q(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function U(){var e=".dragsuppress-"+ ++Tu,t="click"+e,n=Jo.select(Zo).on("touchmove"+e,g).on("dragstart"+e,g).on("selectstart"+e,g);if(xu){var r=Yo.style,i=r[xu];r[xu]="none"}return function(s){function o(){n.on(t,null)}n.on(e,null),xu&&(r[xu]=i),s&&(n.on(t,function(){g(),o()},!0),setTimeout(o,0))}}function z(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Nu&&(Zo.scrollX||Zo.scrollY)){n=Jo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Nu=!i.f&&!i.e,n.remove()}return Nu?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function W(e){return e>0?1:0>e?-1:0}function X(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function V(e){return e>1?0:-1>e?Cu:Math.acos(e)}function $(e){return e>1?Lu:-1>e?-Lu:Math.asin(e)}function J(e){return((e=Math.exp(e))-1/e)/2}function K(e){return((e=Math.exp(e))+1/e)/2}function Q(e){return((e=Math.exp(2*e))-1)/(e+1)}function G(e){return(e=Math.sin(e/2))*e}function Y(){}function Z(e,t,n){return new et(e,t,n)}function et(e,t,n){this.h=e,this.s=t,this.l=n}function tt(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?s+(o-s)*e/60:180>e?o:240>e?s+(o-s)*(240-e)/60:s}function i(e){return Math.round(255*r(e))}var s,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,s=2*n-o,dt(i(e+120),i(e),i(e-120))}function nt(e,t,n){return new rt(e,t,n)}function rt(e,t,n){this.h=e,this.c=t,this.l=n}function it(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),st(n,Math.cos(e*=Mu)*t,Math.sin(e)*t)}function st(e,t,n){return new ot(e,t,n)}function ot(e,t,n){this.l=e,this.a=t,this.b=n}function ut(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=ft(i)*Uu,r=ft(r)*zu,s=ft(s)*Wu,dt(ct(3.2404542*i-1.5371385*r-.4985314*s),ct(-0.969266*i+1.8760108*r+.041556*s),ct(.0556434*i-.2040259*r+1.0572252*s))}function at(e,t,n){return e>0?nt(Math.atan2(n,t)*_u,Math.sqrt(t*t+n*n),e):nt(0/0,0/0,e)}function ft(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function lt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ct(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ht(e){return dt(e>>16,255&e>>8,255&e)}function pt(e){return ht(e)+""}function dt(e,t,n){return new vt(e,t,n)}function vt(e,t,n){this.r=e,this.g=t,this.b=n}function mt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function gt(e,t,n){var r,i,s,o=0,u=0,a=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Et(i[0]),Et(i[1]),Et(i[2]))}return(s=$u.get(e))?t(s.r,s.g,s.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(o=e.charAt(1),o+=o,u=e.charAt(2),u+=u,a=e.charAt(3),a+=a):7===e.length&&(o=e.substring(1,3),u=e.substring(3,5),a=e.substring(5,7)),o=parseInt(o,16),u=parseInt(u,16),a=parseInt(a,16)),t(o,u,a))}function yt(e,t,n){var r,i,s=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),u=o-s,a=(o+s)/2;return u?(i=.5>a?u/(o+s):u/(2-o-s),r=e==o?(t-n)/u+(n>t?6:0):t==o?(n-e)/u+2:(e-t)/u+4,r*=60):(r=0/0,i=a>0&&1>a?0:r),Z(r,i,a)}function bt(e,t,n){e=wt(e),t=wt(t),n=wt(n);var r=lt((.4124564*e+.3575761*t+.1804375*n)/Uu),i=lt((.2126729*e+.7151522*t+.072175*n)/zu),s=lt((.0193339*e+.119192*t+.9503041*n)/Wu);return st(116*i-16,500*(r-i),200*(i-s))}function wt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Et(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function St(e){return"function"==typeof e?e:function(){return e}}function xt(e){return e}function Tt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Nt(t,n,e,r)}}function Nt(e,t,n,r){function i(){var e,t=a.status;if(!t&&a.responseText||t>=200&&300>t||304===t){try{e=n.call(s,a)}catch(r){return o.error.call(s,r),void 0}o.load.call(s,e)}else o.error.call(s,a)}var s={},o=Jo.dispatch("beforesend","progress","load","error"),u={},a=new XMLHttpRequest,f=null;return!Zo.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(e)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=i:a.onreadystatechange=function(){a.readyState>3&&i()},a.onprogress=function(e){var t=Jo.event;Jo.event=e;try{o.progress.call(s,a)}finally{Jo.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",s):t},s.responseType=function(e){return arguments.length?(f=e,s):f},s.response=function(e){return n=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(Qo(arguments)))}}),s.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),a.open(n,e,!0),null==t||"accept"in u||(u.accept=t+",*/*"),a.setRequestHeader)for(var l in u)a.setRequestHeader(l,u[l]);return null!=t&&a.overrideMimeType&&a.overrideMimeType(t),null!=f&&(a.responseType=f),null!=i&&s.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(s,a),a.send(null==r?null:r),s},s.abort=function(){return a.abort(),s},Jo.rebind(s,o,"on"),null==r?s:s.get(Ct(r))}function Ct(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function kt(){var e=Lt(),t=At()-e;t>24?(isFinite(t)&&(clearTimeout(Gu),Gu=setTimeout(kt,t)),Qu=0):(Qu=1,Zu(kt))}function Lt(){var e=Date.now();for(Yu=Ju;Yu;)e>=Yu.t&&(Yu.f=Yu.c(e-Yu.t)),Yu=Yu.n;return e}function At(){for(var e,t=Ju,n=1/0;t;)t.f?t=e?e.n=t.n:Ju=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Ku=e,n}function Ot(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Mt(e,t){var n=Math.pow(10,3*au(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function _t(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,s=r?function(e){for(var t=e.length,i=[],s=0,o=r[0];t>0&&o>0;)i.push(e.substring(t-=o,t+o)),o=r[s=(s+1)%r.length];return i.reverse().join(n)}:xt;return function(e){var n=ta.exec(e),r=n[1]||" ",o=n[2]||">",u=n[3]||"",a=n[4]||"",f=n[5],l=+n[6],c=n[7],h=n[8],p=n[9],d=1,v="",m="",g=!1;switch(h&&(h=+h.substring(1)),(f||"0"===r&&"="===o)&&(f=r="0",o="=",c&&(l-=Math.floor((l-1)/4))),p){case"n":c=!0,p="g";break;case"%":d=100,m="%",p="f";break;case"p":d=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===a&&(v="0"+p.toLowerCase());case"c":case"d":g=!0,h=0;break;case"s":d=-1,p="r"}"$"===a&&(v=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=na.get(p)||Dt;var y=f&&c;return function(e){if(g&&e%1)return"";var n=0>e||0===e&&0>1/e?(e=-e,"-"):u;if(0>d){var i=Jo.formatPrefix(e,h);e=i.scale(e),m=i.symbol}else e*=d;e=p(e,h);var a=e.lastIndexOf("."),b=0>a?e:e.substring(0,a),w=0>a?"":t+e.substring(a+1);!f&&c&&(b=s(b));var E=v.length+b.length+w.length+(y?0:n.length),S=l>E?(new Array(E=l-E+1)).join(r):"";return y&&(b=s(S+b)),n+=v,e=b+w,("<"===o?n+e+S:">"===o?S+n+e:"^"===o?S.substring(0,E>>=1)+n+e+S.substring(E):n+(y?e:S+e))+m}}}function Dt(e){return e+""}function Pt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ht(e,t,n){function r(t){var n=e(t),r=s(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ia(n-1)),1),n}function s(e,n){return t(e=new ia(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)for(;r>o;)n(o)%s||u.push(new Date(+o)),t(o,1);else for(;r>o;)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{ia=Pt;var r=new Pt;return r._=e,o(r,t,n)}finally{ia=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Bt(e);return a.floor=a,a.round=Bt(r),a.ceil=Bt(i),a.offset=Bt(s),a.range=u,e}function Bt(e){return function(t,n){try{ia=Pt;var r=new Pt;return r._=t,e(r,n)._}finally{ia=Date}}}function jt(e){function t(e){function t(t){for(var n,i,s,o=[],u=-1,a=0;++u<r;)37===e.charCodeAt(u)&&(o.push(e.substring(a,u)),null!=(i=oa[n=e.charAt(++u)])&&(n=e.charAt(++u)),(s=L[n])&&(n=s(t,null==i?"e"===n?" ":"0":i)),o.push(n),a=u+1);return o.push(e.substring(a,u)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var s=null!=r.Z&&ia!==Pt,o=new(s?Pt:ia);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),s?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,s,o,u=0,a=t.length,f=n.length;a>u;){if(r>=f)return-1;if(i=t.charCodeAt(u++),37===i){if(o=t.charAt(u++),s=A[o in oa?t.charAt(u++):o],!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.substring(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.substring(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,n){C.lastIndex=0;var r=C.exec(t.substring(n));return r?(e.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){T.lastIndex=0;var r=T.exec(t.substring(n));return r?(e.m=N.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,r){return n(e,L.c.toString(),t,r)}function a(e,t,r){return n(e,L.x.toString(),t,r)}function f(e,t,r){return n(e,L.X.toString(),t,r)}function l(e,t,n){var r=b.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var c=e.dateTime,h=e.date,p=e.time,d=e.periods,v=e.days,m=e.shortDays,g=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{ia=Pt;var t=new ia;return t._=e,r(t)}finally{ia=Date}}var r=t(e);return n.parse=function(e){try{ia=Pt;var t=r.parse(e);return t&&t._}finally{ia=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=rn;var b=Jo.map(),w=It(v),E=qt(v),S=It(m),x=qt(m),T=It(g),N=qt(g),C=It(y),k=qt(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var L={a:function(e){return m[e.getDay()]},A:function(e){return v[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(c),d:function(e,t){return Ft(e.getDate(),t,2)},e:function(e,t){return Ft(e.getDate(),t,2)},H:function(e,t){return Ft(e.getHours(),t,2)},I:function(e,t){return Ft(e.getHours()%12||12,t,2)},j:function(e,t){return Ft(1+ra.dayOfYear(e),t,3)},L:function(e,t){return Ft(e.getMilliseconds(),t,3)},m:function(e,t){return Ft(e.getMonth()+1,t,2)},M:function(e,t){return Ft(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ft(e.getSeconds(),t,2)},U:function(e,t){return Ft(ra.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ft(ra.mondayOfYear(e),t,2)},x:t(h),X:t(p),y:function(e,t){return Ft(e.getFullYear()%100,t,2)},Y:function(e,t){return Ft(e.getFullYear()%1e4,t,4)},Z:tn,"%":function(){return"%"}},A={a:r,A:i,b:s,B:o,c:u,d:Kt,e:Kt,H:Gt,I:Gt,j:Qt,L:en,m:Jt,M:Yt,p:l,S:Zt,U:Ut,w:Rt,W:zt,x:a,X:f,y:Xt,Y:Wt,Z:Vt,"%":nn};return t}function Ft(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",s=i.length;return r+(n>s?(new Array(n-s+1)).join(t)+i:i)}function It(e){return new RegExp("^(?:"+e.map(Jo.requote).join("|")+")","i")}function qt(e){for(var t=new s,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Rt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ut(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function zt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function Wt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.y=$t(+r[0]),n+r[0].length):-1}function Vt(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=+t,n+5):-1}function $t(e){return e+(e>68?1900:2e3)}function Jt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Gt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Yt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Zt(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function en(e,t,n){ua.lastIndex=0;var r=ua.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(au(t)/60),i=au(t)%60;return n+Ft(r,"0",2)+Ft(i,"0",2)}function nn(e,t,n){aa.lastIndex=0;var r=aa.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function rn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function sn(){}function on(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function un(e,t){e&&ha.hasOwnProperty(e.type)&&ha[e.type](e,t)}function an(e,t,n){var r,i=-1,s=e.length-n;for(t.lineStart();++i<s;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function fn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)an(e[n],t,1);t.polygonEnd()}function ln(){function e(e,t){e*=Mu,t=t*Mu/2+Cu/4;var n=e-r,o=Math.cos(t),u=Math.sin(t),a=s*u,f=i*o+a*Math.cos(n),l=a*Math.sin(n);da.add(Math.atan2(l,f)),r=e,i=o,s=u}var t,n,r,i,s;va.point=function(o,u){va.point=e,r=(t=o)*Mu,i=Math.cos(u=(n=u)*Mu/2+Cu/4),s=Math.sin(u)},va.lineEnd=function(){e(t,n)}}function cn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function hn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function dn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function vn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function mn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function gn(e){return[Math.atan2(e[1],e[0]),$(e[2])]}function yn(e,t){return au(e[0]-t[0])<Au&&au(e[1]-t[1])<Au}function bn(e,t){e*=Mu;var n=Math.cos(t*=Mu);wn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function wn(e,t,n){++ma,ya+=(e-ya)/ma,ba+=(t-ba)/ma,wa+=(n-wa)/ma}function En(){function e(e,i){e*=Mu;var s=Math.cos(i*=Mu),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=n*a-r*u)*f+(f=r*o-t*a)*f+(f=t*u-n*o)*f),t*o+n*u+r*a);ga+=f,Ea+=f*(t+(t=o)),Sa+=f*(n+(n=u)),xa+=f*(r+(r=a)),wn(t,n,r)}var t,n,r;ka.point=function(i,s){i*=Mu;var o=Math.cos(s*=Mu);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(s),ka.point=e,wn(t,n,r)}}function Sn(){ka.point=bn}function xn(){function e(e,t){e*=Mu;var n=Math.cos(t*=Mu),o=n*Math.cos(e),u=n*Math.sin(e),a=Math.sin(t),f=i*a-s*u,l=s*o-r*a,c=r*u-i*o,h=Math.sqrt(f*f+l*l+c*c),p=r*o+i*u+s*a,d=h&&-V(p)/h,v=Math.atan2(h,p);Ta+=d*f,Na+=d*l,Ca+=d*c,ga+=v,Ea+=v*(r+(r=o)),Sa+=v*(i+(i=u)),xa+=v*(s+(s=a)),wn(r,i,s)}var t,n,r,i,s;ka.point=function(o,u){t=o,n=u,ka.point=e,o*=Mu;var a=Math.cos(u*=Mu);r=a*Math.cos(o),i=a*Math.sin(o),s=Math.sin(u),wn(r,i,s)},ka.lineEnd=function(){e(t,n),ka.lineEnd=Sn,ka.point=bn}}function Tn(){return!0}function Nn(e,t,n,r,i){var s=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(yn(n,r)){i.lineStart();for(var u=0;t>u;++u)i.point((n=e[u])[0],n[1]);return i.lineEnd(),void 0}var a=new kn(n,e,null,!0),f=new kn(n,null,a,!1);a.o=f,s.push(a),o.push(f),a=new kn(r,e,null,!1),f=new kn(r,null,a,!0),a.o=f,s.push(a),o.push(f)}}),o.sort(t),Cn(s),Cn(o),s.length){for(var u=0,a=n,f=o.length;f>u;++u)o[u].e=a=!a;for(var l,c,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var u=0,f=l.length;f>u;++u)i.point((c=l[u])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var u=l.length-1;u>=0;--u)i.point((c=l[u])[0],c[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Cn(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function kn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ln(e,t,n,r){return function(i,s){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&s.point(t,n)}function u(e,t){var n=i(e,t);m.point(n[0],n[1])}function a(){y.point=u,m.lineStart()}function f(){y.point=o,m.lineEnd()}function l(e,t){v.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function c(){w.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),w.lineEnd();var e,t=w.clean(),n=b.buffer(),r=n.length;if(v.pop(),d.push(v),v=null,r){if(1&t){e=n[0];var i,r=e.length-1,o=-1;for(s.lineStart();++o<r;)s.point((i=e[o])[0],i[1]);return s.lineEnd(),void 0}r>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(An))}}var p,d,v,m=t(s),g=i.invert(r[0],r[1]),y={point:o,lineStart:a,lineEnd:f,polygonStart:function(){y.point=l,y.lineStart=c,y.lineEnd=h,p=[],d=[],s.polygonStart()},polygonEnd:function(){y.point=o,y.lineStart=a,y.lineEnd=f,p=Jo.merge(p);var e=_n(g,d);p.length?Nn(p,Mn,e,n,s):e&&(s.lineStart(),n(null,null,1,s),s.lineEnd()),s.polygonEnd(),p=d=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}},b=On(),w=t(b);return y}}function An(e){return e.length>1}function On(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:d,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Mn(e,t){return((e=e.x)[0]<0?e[1]-Lu-Au:Lu-e[1])-((t=t.x)[0]<0?t[1]-Lu-Au:Lu-t[1])}function _n(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;da.reset();for(var u=0,a=t.length;a>u;++u){var f=t[u],l=f.length;if(l)for(var c=f[0],h=c[0],p=c[1]/2+Cu/4,d=Math.sin(p),v=Math.cos(p),m=1;;){m===l&&(m=0),e=f[m];var g=e[0],y=e[1]/2+Cu/4,b=Math.sin(y),w=Math.cos(y),E=g-h,S=au(E)>Cu,x=d*b;if(da.add(Math.atan2(x*Math.sin(E),v*w+x*Math.cos(E))),s+=S?E+(E>=0?ku:-ku):E,S^h>=n^g>=n){var T=pn(cn(c),cn(e));mn(T);var N=pn(i,T);mn(N);var C=(S^E>=0?-1:1)*$(N[2]);(r>C||r===C&&(T[0]||T[1]))&&(o+=S^E>=0?1:-1)}if(!(m++))break;h=g,d=b,v=w,c=e}}return(-Au>s||Au>s&&0>da)^1&o}function Dn(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(s,o){var u=s>0?Cu:-Cu,a=au(s-n);au(a-Cu)<Au?(e.point(n,r=(r+o)/2>0?Lu:-Lu),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(s,r),t=0):i!==u&&a>=Cu&&(au(n-i)<Au&&(n-=i*Au),au(s-u)<Au&&(s-=u*Au),r=Pn(n,r,s,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=s,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Pn(e,t,n,r){var i,s,o=Math.sin(e-n);return au(o)>Au?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function Hn(e,t,n,r){var i;if(null==e)i=n*Lu,r.point(-Cu,i),r.point(0,i),r.point(Cu,i),r.point(Cu,0),r.point(Cu,-i),r.point(0,-i),r.point(-Cu,-i),r.point(-Cu,0),r.point(-Cu,i);else if(au(e[0]-t[0])>Au){var s=e[0]<t[0]?Cu:-Cu;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function Bn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function n(e){var n,s,a,f,l;return{lineStart:function(){f=a=!1,l=1},point:function(c,h){var p,d=[c,h],v=t(c,h),m=o?v?0:i(c,h):v?i(c+(0>c?Cu:-Cu),h):0;if(!n&&(f=a=v)&&e.lineStart(),v!==a&&(p=r(n,d),(yn(n,p)||yn(d,p))&&(d[0]+=Au,d[1]+=Au,v=t(d[0],d[1]))),v!==a)l=0,v?(e.lineStart(),p=r(d,n),e.point(p[0],p[1])):(p=r(n,d),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(u&&n&&o^v){var g;m&s||!(g=r(d,n,!0))||(l=0,o?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!v||n&&yn(n,d)||e.point(d[0],d[1]),n=d,a=v,s=m},lineEnd:function(){a&&e.lineEnd(),n=null},clean:function(){return l|(f&&a)<<1}}}function r(e,t,n){var r=cn(e),i=cn(t),o=[1,0,0],u=pn(r,i),a=hn(u,u),f=u[0],l=a-f*f;if(!l)return!n&&e;var c=s*a/l,h=-s*f/l,p=pn(o,u),d=vn(o,c),v=vn(u,h);dn(d,v);var m=p,g=hn(d,m),y=hn(m,m),b=g*g-y*(hn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),E=vn(m,(-g-w)/y);if(dn(E,d),E=gn(E),!n)return E;var S,x=e[0],T=t[0],N=e[1],C=t[1];x>T&&(S=x,x=T,T=S);var k=T-x,L=au(k-Cu)<Au,A=L||Au>k;if(!L&&N>C&&(S=N,N=C,C=S),A?L?N+C>0^E[1]<(au(E[0]-x)<Au?N:C):N<=E[1]&&E[1]<=C:k>Cu^(x<=E[0]&&E[0]<=T)){var O=vn(m,(-g+w)/y);return dn(O,d),[E,gn(O)]}}}function i(t,n){var r=o?e:Cu-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var s=Math.cos(e),o=s>0,u=au(s)>Au,a=lr(e,6*Mu);return Ln(t,n,a,o?[0,-e]:[-Cu,e-Cu])}function jn(e,t,n,r){return function(i){var s,o=i.a,u=i.b,a=o.x,f=o.y,l=u.x,c=u.y,h=0,p=1,d=l-a,v=c-f;if(s=e-a,d||!(s>0)){if(s/=d,0>d){if(h>s)return;p>s&&(p=s)}else if(d>0){if(s>p)return;s>h&&(h=s)}if(s=n-a,d||!(0>s)){if(s/=d,0>d){if(s>p)return;s>h&&(h=s)}else if(d>0){if(h>s)return;p>s&&(p=s)}if(s=t-f,v||!(s>0)){if(s/=v,0>v){if(h>s)return;p>s&&(p=s)}else if(v>0){if(s>p)return;s>h&&(h=s)}if(s=r-f,v||!(0>s)){if(s/=v,0>v){if(s>p)return;s>h&&(h=s)}else if(v>0){if(h>s)return;p>s&&(p=s)}return h>0&&(i.a={x:a+h*d,y:f+h*v}),1>p&&(i.b={x:a+p*d,y:f+p*v}),i}}}}}}function Fn(e,t,n,r){function i(r,i){return au(r[0]-e)<Au?i>0?0:3:au(r[0]-n)<Au?i>0?2:1:au(r[1]-t)<Au?i>0?1:0:i>0?3:2}function s(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(u){function a(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var s,o=1,u=m[i],a=u.length,f=u[0];a>o;++o)s=u[o],f[1]<=r?s[1]>r&&X(f,s,e)>0&&++t:s[1]<=r&&X(f,s,e)<0&&--t,f=s;return 0!==t}function f(s,u,a,f){var l=0,c=0;if(null==s||(l=i(s,a))!==(c=i(u,a))||o(s,u)<0^a>0){do f.point(0===l||3===l?e:n,l>1?r:t);while((l=(l+a+4)%4)!==c)}else f.point(u[0],u[1])}function l(i,s){return i>=e&&n>=i&&s>=t&&r>=s}function c(e,t){l(e,t)&&u.point(e,t)}function h(){A.point=d,m&&m.push(g=[]),T=!0,x=!1,E=S=0/0}function p(){v&&(d(y,b),w&&x&&k.rejoin(),v.push(k.buffer())),A.point=c,x&&u.lineEnd()}function d(e,t){e=Math.max(-Aa,Math.min(Aa,e)),t=Math.max(-Aa,Math.min(Aa,t));var n=l(e,t);if(m&&g.push([e,t]),T)y=e,b=t,w=n,T=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&x)u.point(e,t);else{var r={a:{x:E,y:S},b:{x:e,y:t}};L(r)?(x||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),N=!1):n&&(u.lineStart(),u.point(e,t),N=!1)}E=e,S=t,x=n}var v,m,g,y,b,w,E,S,x,T,N,C=u,k=On(),L=jn(e,t,n,r),A={point:c,lineStart:h,lineEnd:p,polygonStart:function(){u=k,v=[],m=[],N=!0},polygonEnd:function(){u=C,v=Jo.merge(v);var t=a([e,r]),n=N&&t,i=v.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),f(null,null,1,u),u.lineEnd()),i&&Nn(v,s,t,f,u),u.polygonEnd()),v=m=g=null}};return A}}function In(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function qn(e){var t=0,n=Cu/3,r=nr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Cu/180,n=e[1]*Cu/180):[180*(t/Cu),180*(n/Cu)]},i}function Rn(e,t){function n(e,t){var n=Math.sqrt(s-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,s=1+r*(2*i-r),o=Math.sqrt(s)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,$((s-(e*e+n*n)*i*i)/(2*i))]},n}function Un(){function e(e,t){Ma+=i*e-r*t,r=e,i=t}var t,n,r,i;Ba.point=function(s,o){Ba.point=e,t=r=s,n=i=o},Ba.lineEnd=function(){e(t,n)}}function zn(e,t){_a>e&&(_a=e),e>Pa&&(Pa=e),Da>t&&(Da=t),t>Ha&&(Ha=t)}function Wn(){function e(e,t){o.push("M",e,",",t,s)}function t(e,t){o.push("M",e,",",t),u.point=n}function n(e,t){o.push("L",e,",",t)}function r(){u.point=e}function i(){o.push("Z")}var s=Xn(4.5),o=[],u={point:e,lineStart:function(){u.point=t},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r,u.point=e},pointRadius:function(e){return s=Xn(e),u},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return u}function Xn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Vn(e,t){ya+=e,ba+=t,++wa}function $n(){function e(e,r){var i=e-t,s=r-n,o=Math.sqrt(i*i+s*s);Ea+=o*(t+e)/2,Sa+=o*(n+r)/2,xa+=o,Vn(t=e,n=r)}var t,n;Fa.point=function(r,i){Fa.point=e,Vn(t=r,n=i)}}function Jn(){Fa.point=Vn}function Kn(){function e(e,t){var n=e-r,s=t-i,o=Math.sqrt(n*n+s*s);Ea+=o*(r+e)/2,Sa+=o*(i+t)/2,xa+=o,o=i*e-r*t,Ta+=o*(r+e),Na+=o*(i+t),Ca+=3*o,Vn(r=e,i=t)}var t,n,r,i;Fa.point=function(s,o){Fa.point=e,Vn(t=r=s,n=i=o)},Fa.lineEnd=function(){e(t,n)}}function Qn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,o,0,ku)}function n(t,n){e.moveTo(t,n),u.point=r}function r(t,n){e.lineTo(t,n)}function i(){u.point=t}function s(){e.closePath()}var o=4.5,u={point:t,lineStart:function(){u.point=n},lineEnd:i,polygonStart:function(){u.lineEnd=s},polygonEnd:function(){u.lineEnd=i,u.point=t},pointRadius:function(e){return o=e,u},result:d};return u}function Gn(e){function t(e){return(u?r:n)(e)}function n(t){return er(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,T.point=s,t.lineStart()}function s(n,r){var s=cn([n,r]),o=e(n,r);i(b,w,y,E,S,x,b=o[0],w=o[1],y=n,E=s[0],S=s[1],x=s[2],u,t),t.point(b,w)}function o(){T.point=n,t.lineEnd()}function a(){r(),T.point=f,T.lineEnd=l}function f(e,t){s(c=e,h=t),p=b,d=w,v=E,m=S,g=x,T.point=s}function l(){i(b,w,y,E,S,x,p,d,c,v,m,g,u,t),T.lineEnd=o,o()}var c,h,p,d,v,m,g,y,b,w,E,S,x,T={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),T.lineStart=a},polygonEnd:function(){t.polygonEnd(),T.lineStart=r}};return T}function i(t,n,r,u,a,f,l,c,h,p,d,v,m,g){var y=l-t,b=c-n,w=y*y+b*b;if(w>4*s&&m--){var E=u+p,S=a+d,x=f+v,T=Math.sqrt(E*E+S*S+x*x),N=Math.asin(x/=T),C=au(au(x)-1)<Au||au(r-h)<Au?(r+h)/2:Math.atan2(S,E),k=e(C,N),L=k[0],A=k[1],O=L-t,M=A-n,_=b*O-y*M;(_*_/w>s||au((y*O+b*M)/w-.5)>.3||o>u*p+a*d+f*v)&&(i(t,n,r,u,a,f,L,A,C,E/=T,S/=T,x,m,g),g.point(L,A),i(L,A,C,E,S,x,l,c,h,p,d,v,m,g))}}var s=.5,o=Math.cos(30*Mu),u=16;return t.precision=function(e){return arguments.length?(u=(s=e*e)>0&&16,t):Math.sqrt(s)},t}function Yn(e){var t=Gn(function(t,n){return e([t*_u,n*_u])});return function(e){return rr(t(e))}}function Zn(e){this.stream=e}function er(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function tr(e){return nr(function(){return e})()}function nr(e){function t(e){return e=u(e[0]*Mu,e[1]*Mu),[e[0]*h+a,f-e[1]*h]}function n(e){return e=u.invert((e[0]-a)/h,(f-e[1])/h),e&&[e[0]*_u,e[1]*_u]}function r(){u=In(o=or(g,y,b),s);var e=s(v,m);return a=p-e[0]*h,f=d+e[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),t}var s,o,u,a,f,l,c=Gn(function(e,t){return e=s(e,t),[e[0]*h+a,f-e[1]*h]}),h=150,p=480,d=250,v=0,m=0,g=0,y=0,b=0,w=La,E=xt,S=null,x=null;return t.stream=function(e){return l&&(l.valid=!1),l=rr(w(o,c(E(e)))),l.valid=!0,l},t.clipAngle=function(e){return arguments.length?(w=null==e?(S=e,La):Bn((S=+e)*Mu),i()):S},t.clipExtent=function(e){return arguments.length?(x=e,E=e?Fn(e[0][0],e[0][1],e[1][0],e[1][1]):xt,i()):x},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(p=+e[0],d=+e[1],r()):[p,d]},t.center=function(e){return arguments.length?(v=e[0]%360*Mu,m=e[1]%360*Mu,r()):[v*_u,m*_u]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Mu,y=e[1]%360*Mu,b=e.length>2?e[2]%360*Mu:0,r()):[g*_u,y*_u,b*_u]},Jo.rebind(t,c,"precision"),function(){return s=e.apply(this,arguments),t.invert=s.invert&&n,r()}}function rr(e){return er(e,function(t,n){e.point(t*Mu,n*Mu)})}function ir(e,t){return[e,t]}function sr(e,t){return[e>Cu?e-ku:-Cu>e?e+ku:e,t]}function or(e,t,n){return e?t||n?In(ar(e),fr(t,n)):ar(e):t||n?fr(t,n):sr}function ur(e){return function(t,n){return t+=e,[t>Cu?t-ku:-Cu>t?t+ku:t,n]}}function ar(e){var t=ur(e);return t.invert=ur(-e),t}function fr(e,t){function n(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*r+u*i;return[Math.atan2(a*s-l*o,u*r-f*i),$(l*s+a*o)]}var r=Math.cos(e),i=Math.sin(e),s=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*s-a*o;return[Math.atan2(a*s+f*o,u*r+l*i),$(l*r-u*i)]},n}function lr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;null!=i?(i=cr(n,i),s=cr(n,s),(o>0?s>i:i>s)&&(i+=o*ku)):(i=e+o*ku,s=e-.5*a);for(var f,l=i;o>0?l>s:s>l;l-=a)u.point((f=gn([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}function cr(e,t){var n=cn(t);n[0]-=e,mn(n);var r=V(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Au)%(2*Math.PI)}function hr(e,t,n){var r=Jo.range(e,t-Au,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function pr(e,t,n){var r=Jo.range(e,t-Au,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function dr(e){return e.source}function vr(e){return e.target}function mr(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(G(r-t)+i*o*G(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*_u,Math.atan2(o,Math.sqrt(r*r+i*i))*_u]}:function(){return[e*_u,t*_u]};return d.distance=h,d}function gr(){function e(e,i){var s=Math.sin(i*=Mu),o=Math.cos(i),u=au((e*=Mu)-t),a=Math.cos(u);Ia+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=r*s-n*o*a)*u),n*s+r*o*a),t=e,n=s,r=o}var t,n,r;qa.point=function(i,s){t=i*Mu,n=Math.sin(s*=Mu),r=Math.cos(s),qa.point=e},qa.lineEnd=function(){qa.point=qa.lineEnd=d}}function yr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function br(e,t){function n(e,t){var n=au(au(t)-Lu)<Au?0:o/Math.pow(i(t),s);return[n*Math.sin(s*e),o-n*Math.cos(s*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Cu/4+e/2)},s=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),s)/s;return s?(n.invert=function(e,t){var n=o-t,r=W(s)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/s,2*Math.atan(Math.pow(o/r,1/s))-Lu]},n):Er}function wr(e,t){function n(e,t){var n=s-t;return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),s=r/i+e;return au(i)<Au?ir:(n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,s-W(i)*Math.sqrt(e*e+n*n)]},n)}function Er(e,t){return[e,Math.log(Math.tan(Cu/4+t/2))]}function Sr(e){var t,n=tr(e),r=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=s.apply(n,arguments);if(o===n){if(t=null==e){var u=Cu*r(),a=i();s([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else t&&(o=null);return o},n.clipExtent(null)}function xr(e,t){return[Math.log(Math.tan(Cu/4+t/2)),-e]}function Tr(e){return e[0]}function Nr(e){return e[1]}function Cr(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&X(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function kr(e,t){return e[0]-t[0]||e[1]-t[1]}function Lr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ar(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function Or(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Mr(){Yr(this),this.edge=this.site=this.circle=null}function _r(e){var t=Ya.pop()||new Mr;return t.site=e,t}function Dr(e){zr(e),Ka.remove(e),Ya.push(e),Yr(e)}function Pr(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];Dr(e);for(var a=s;a.circle&&au(n-a.circle.x)<Au&&au(r-a.circle.cy)<Au;)s=a.P,u.unshift(a),Dr(a),a=s;u.unshift(a),zr(a);for(var f=o;f.circle&&au(n-f.circle.x)<Au&&au(r-f.circle.cy)<Au;)o=f.N,u.push(f),Dr(f),f=o;u.push(f),zr(f);var l,c=u.length;for(l=1;c>l;++l)f=u[l],a=u[l-1],Kr(f.edge,a.site,f.site,i);a=u[0],f=u[c-1],f.edge=$r(a.site,f.site,null,i),Ur(a),Ur(f)}function Hr(e){for(var t,n,r,i,s=e.x,o=e.y,u=Ka._;u;)if(r=Br(u,o)-s,r>Au)u=u.L;else{if(i=s-jr(u,o),!(i>Au)){r>-Au?(t=u.P,n=u):i>-Au?(t=u,n=u.N):t=n=u;break}if(!u.R){t=u;break}u=u.R}var a=_r(e);if(Ka.insert(t,a),t||n){if(t===n)return zr(t),n=_r(t.site),Ka.insert(a,n),a.edge=n.edge=$r(t.site,a.site),Ur(t),Ur(n),void 0;if(!n)return a.edge=$r(t.site,a.site),void 0;zr(t),zr(n);var f=t.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=n.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};Kr(n.edge,f,d,w),a.edge=$r(f,e,null,w),n.edge=$r(e,d,null,w),Ur(t),Ur(n)}}function Br(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-1/0;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;return c?(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r:(r+u)/2}function jr(e,t){var n=e.N;if(n)return Br(n,t);var r=e.site;return r.y===t?r.x:1/0}function Fr(e){this.site=e,this.edges=[]}function Ir(e){for(var t,n,r,i,s,o,u,a,f,l,c=e[0][0],h=e[1][0],p=e[0][1],d=e[1][1],v=Ja,m=v.length;m--;)if(s=v[m],s&&s.prepare())for(u=s.edges,a=u.length,o=0;a>o;)l=u[o].end(),r=l.x,i=l.y,f=u[++o%a].start(),t=f.x,n=f.y,(au(r-t)>Au||au(i-n)>Au)&&(u.splice(o,0,new Qr(Jr(s.site,l,au(r-c)<Au&&d-i>Au?{x:c,y:au(t-c)<Au?n:d}:au(i-d)<Au&&h-r>Au?{x:au(n-d)<Au?t:h,y:d}:au(r-h)<Au&&i-p>Au?{x:h,y:au(t-h)<Au?n:p}:au(i-p)<Au&&r-c>Au?{x:au(n-p)<Au?t:c,y:p}:null),s.site,null)),++a)}function qr(e,t){return t.angle-e.angle}function Rr(){Yr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ur(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,s=n.site;if(r!==s){var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u,h=2*(a*c-f*l);if(!(h>=-Ou)){var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u,g=Za.pop()||new Rr;g.arc=e,g.site=i,g.x=v+o,g.y=c+Math.sqrt(v*v+m*m),g.cy=c,e.circle=g;for(var y=null,b=Ga._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ga.insert(y,g),y||(Qa=g)}}}}function zr(e){var t=e.circle;t&&(t.P||(Qa=t.N),Ga.remove(t),Za.push(t),Yr(t),e.circle=null)}function Wr(e){for(var t,n=$a,r=jn(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Xr(t,e)||!r(t)||au(t.a.x-t.b.x)<Au&&au(t.a.y-t.b.y)<Au)&&(t.a=t.b=null,n.splice(i,1))}function Xr(e,t){var n=e.b;if(n)return!0;var r,i,s=e.a,o=t[0][0],u=t[1][0],a=t[0][1],f=t[1][1],l=e.l,c=e.r,h=l.x,p=l.y,d=c.x,v=c.y,m=(h+d)/2,g=(p+v)/2;if(v===p){if(o>m||m>=u)return;if(h>d){if(s){if(s.y>=f)return}else s={x:m,y:a};n={x:m,y:f}}else{if(s){if(s.y<a)return}else s={x:m,y:f};n={x:m,y:a}}}else if(r=(h-d)/(v-p),i=g-r*m,-1>r||r>1)if(h>d){if(s){if(s.y>=f)return}else s={x:(a-i)/r,y:a};n={x:(f-i)/r,y:f}}else{if(s){if(s.y<a)return}else s={x:(f-i)/r,y:f};n={x:(a-i)/r,y:a}}else if(v>p){if(s){if(s.x>=u)return}else s={x:o,y:r*o+i};n={x:u,y:r*u+i}}else{if(s){if(s.x<o)return}else s={x:u,y:r*u+i};n={x:o,y:r*o+i}}return e.a=s,e.b=n,!0}function Vr(e,t){this.l=e,this.r=t,this.a=this.b=null}function $r(e,t,n,r){var i=new Vr(e,t);return $a.push(i),n&&Kr(i,e,t,n),r&&Kr(i,t,e,r),Ja[e.i].edges.push(new Qr(i,e,t)),Ja[t.i].edges.push(new Qr(i,t,e)),i}function Jr(e,t,n){var r=new Vr(e,null);return r.a=t,r.b=n,$a.push(r),r}function Kr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Qr(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Gr(){this._=null}function Yr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Zr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ei(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ti(e){for(;e.L;)e=e.L;return e}function ni(e,t){var n,r,i,s=e.sort(ri).pop();for($a=[],Ja=new Array(e.length),Ka=new Gr,Ga=new Gr;;)if(i=Qa,s&&(!i||s.y<i.y||s.y===i.y&&s.x<i.x))(s.x!==n||s.y!==r)&&(Ja[s.i]=new Fr(s),Hr(s),n=s.x,r=s.y),s=e.pop();else{if(!i)break;Pr(i.arc)}t&&(Wr(t),Ir(t));var o={cells:Ja,edges:$a};return Ka=Ga=$a=Ja=null,o}function ri(e,t){return t.y-e.y||t.x-e.x}function ii(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function si(e){return e.x}function oi(e){return e.y}function ui(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ai(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=.5*(n+i),u=.5*(r+s),a=t.nodes;a[0]&&ai(e,a[0],n,r,o,u),a[1]&&ai(e,a[1],o,r,i,u),a[2]&&ai(e,a[2],n,u,o,s),a[3]&&ai(e,a[3],o,u,i,s)}}function fi(e,t){e=Jo.rgb(e),t=Jo.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+mt(Math.round(n+s*e))+mt(Math.round(r+o*e))+mt(Math.round(i+u*e))}}function li(e,t){var n,r={},i={};for(n in e)n in t?r[n]=pi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function ci(e,t){return t-=e=+e,function(n){return e+t*n}}function hi(e,t){var n,r,i,s,o,u=0,a=0,f=[],l=[];for(e+="",t+="",tf.lastIndex=0,r=0;n=tf.exec(t);++r)n.index&&f.push(t.substring(u,a=n.index)),l.push({i:f.length,x:n[0]}),f.push(null),u=tf.lastIndex;for(u<t.length&&f.push(t.substring(u)),r=0,s=l.length;(n=tf.exec(e))&&s>r;++r)if(o=l[r],o.x==n[0]){if(o.i)if(null==f[o.i+1])for(f[o.i-1]+=o.x,f.splice(o.i,1),i=r+1;s>i;++i)l[i].i--;else for(f[o.i-1]+=o.x+f[o.i+1],f.splice(o.i,2),i=r+1;s>i;++i)l[i].i-=2;else if(null==f[o.i+1])f[o.i]=o.x;else for(f[o.i]=o.x+f[o.i+1],f.splice(o.i+1,1),i=r+1;s>i;++i)l[i].i--;l.splice(r,1),s--,r--}else o.x=ci(parseFloat(n[0]),parseFloat(o.x));for(;s>r;)o=l.pop(),null==f[o.i+1]?f[o.i]=o.x:(f[o.i]=o.x+f[o.i+1],f.splice(o.i+1,1)),s--;return 1===f.length?null==f[0]?(o=l[0].x,function(e){return o(e)+""}):function(){return t}:function(e){for(r=0;s>r;++r)f[(o=l[r]).i]=o.x(e);return f.join("")}}function pi(e,t){for(var n,r=Jo.interpolators.length;--r>=0&&!(n=Jo.interpolators[r](e,t)););return n}function di(e,t){var n,r=[],i=[],s=e.length,o=t.length,u=Math.min(e.length,t.length);for(n=0;u>n;++n)r.push(pi(e[n],t[n]));for(;s>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;u>n;++n)i[n]=r[n](e);return i}}function vi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function mi(e){return function(t){return 1-e(1-t)}}function gi(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function yi(e){return e*e}function bi(e){return e*e*e}function wi(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ei(e){return function(t){return Math.pow(t,e)}}function Si(e){return 1-Math.cos(e*Lu)}function xi(e){return Math.pow(2,10*(e-1))}function Ti(e){return 1-Math.sqrt(1-e*e)}function Ni(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ku*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ku/t)}}function Ci(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function ki(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Li(e,t){e=Jo.hcl(e),t=Jo.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return it(n+s*e,r+o*e,i+u*e)+""}}function Ai(e,t){e=Jo.hsl(e),t=Jo.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return tt(n+s*e,r+o*e,i+u*e)+""}}function Oi(e,t){e=Jo.lab(e),t=Jo.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return ut(n+s*e,r+o*e,i+u*e)+""}}function Mi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function _i(e){var t=[e.a,e.b],n=[e.c,e.d],r=Pi(t),i=Di(t,n),s=Pi(Hi(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*_u,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*_u:0}function Di(e,t){return e[0]*t[0]+e[1]*t[1]}function Pi(e){var t=Math.sqrt(Di(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Bi(e,t){var n,r=[],i=[],s=Jo.transform(e),o=Jo.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:ci(u[0],a[0])},{i:3,x:ci(u[1],a[1])})):a[0]||a[1]?r.push("translate("+a+")"):r.push(""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:ci(f,l)})):l&&r.push(r.pop()+"rotate("+l+")"),c!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:ci(c,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:ci(p[0],d[0])},{i:n-2,x:ci(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(e){for(var t,s=-1;++s<n;)r[(t=i[s]).i]=t.x(e);return r.join("")}}function ji(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Fi(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Ii(e){for(var t=e.source,n=e.target,r=Ri(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var s=i.length;n!==r;)i.splice(s,0,n),n=n.parent;return i}function qi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Ri(e,t){if(e===t)return e;for(var n=qi(e),r=qi(t),i=n.pop(),s=r.pop(),o=null;i===s;)o=i,i=n.pop(),s=r.pop();return o}function Ui(e){e.fixed|=2}function zi(e){e.fixed&=-7}function Wi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Xi(e){e.fixed&=-5}function Vi(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var s,o=e.nodes,u=o.length,a=-1;++a<u;)s=o[a],null!=s&&(Vi(s,t,n),e.charge+=s.charge,r+=s.charge*s.cx,i+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function $i(e,t){return Jo.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Gi,e}function Ji(e){return e.children}function Ki(e){return e.value}function Qi(e,t){return t.value-e.value}function Gi(e){return Jo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Yi(e){return e.x}function Zi(e){return e.y}function es(e,t,n){e.y0=t,e.y=n}function ts(e){return Jo.range(e.length)}function ns(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function rs(e){for(var t,n=1,r=0,i=e[0][1],s=e.length;s>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function is(e){return e.reduce(ss,0)}function ss(e,t){return e+t[1]}function os(e,t){return us(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function us(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];++n<=t;)s[n]=i*n+r;return s}function as(e){return[Jo.min(e),Jo.max(e)]}function fs(e,t){return e.parent==t.parent?1:2}function ls(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function cs(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function hs(e,t){var n=e.children;if(n&&(i=n.length))for(var r,i,s=-1;++s<i;)t(r=hs(n[s],t),e)>0&&(e=r);return e}function ps(e,t){return e.x-t.x}function ds(e,t){return t.x-e.x}function vs(e,t){return e.depth-t.depth}function ms(e,t){function n(e,r){var i=e.children;if(i&&(o=i.length))for(var s,o,u=null,a=-1;++a<o;)s=i[a],n(s,u),u=s;t(e,r)}n(e,null)}function gs(e){for(var t,n=0,r=0,i=e.children,s=i.length;--s>=0;)t=i[s]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(r+=t.change)}function ys(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function bs(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function ws(e,t){return e.value-t.value}function Es(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ss(e,t){e._pack_next=t,t._pack_prev=e}function xs(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ts(e){function t(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(f=n.length)){var n,r,i,s,o,u,a,f,l=1/0,c=-1/0,h=1/0,p=-1/0;if(n.forEach(Ns),r=n[0],r.x=-r.r,r.y=0,t(r),f>1&&(i=n[1],i.x=i.r,i.y=0,t(i),f>2))for(s=n[2],Ls(r,i,s),t(s),Es(r,s),r._pack_prev=s,Es(s,i),i=r._pack_next,o=3;f>o;o++){Ls(r,i,s=n[o]);var d=0,v=1,m=1;for(u=i._pack_next;u!==i;u=u._pack_next,v++)if(xs(u,s)){d=1;break}if(1==d)for(a=r._pack_prev;a!==u._pack_prev&&!xs(a,s);a=a._pack_prev,m++);d?(m>v||v==m&&i.r<r.r?Ss(r,i=u):Ss(r=a,i),o--):(Es(r,s),i=s,t(s))}var g=(l+c)/2,y=(h+p)/2,b=0;for(o=0;f>o;o++)s=n[o],s.x-=g,s.y-=y,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));e.r=b,n.forEach(Cs)}}function Ns(e){e._pack_next=e._pack_prev=e}function Cs(e){delete e._pack_next,delete e._pack_prev}function ks(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var s=-1,o=i.length;++s<o;)ks(i[s],t,n,r)}function Ls(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function As(e){return 1+Jo.max(e,function(e){return e.y})}function Os(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ms(e){var t=e.children;return t&&t.length?Ms(t[0]):e}function _s(e){var t,n=e.children;return n&&(t=n.length)?_s(n[t-1]):e}function Ds(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ps(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>s&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function Hs(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Bs(e){return e.rangeExtent?e.rangeExtent():Hs(e.range())}function js(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Fs(e,t){var n,r=0,i=e.length-1,s=e[r],o=e[i];return s>o&&(n=r,r=i,i=n,n=s,s=o,o=n),e[r]=t.floor(s),e[i]=t.ceil(o),e}function Is(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:pf}function qs(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=u;)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=Jo.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Rs(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?qs:js,a=r?Fi:ji;return o=i(e,t,a,n),u=i(t,e,a,pi),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(Mi)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return Xs(e,t)},s.tickFormat=function(t,n){return Vs(e,t,n)},s.nice=function(t){return zs(e,t),i()},s.copy=function(){return Rs(e,t,n,r)},i()}function Us(e,t){return Jo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function zs(e,t){return Fs(e,Is(Ws(e,t)[2]))}function Ws(e,t){null==t&&(t=10);var n=Hs(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return.15>=s?i*=10:.35>=s?i*=5:.75>=s&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xs(e,t){return Jo.range.apply(Jo,Ws(e,t))}function Vs(e,t,n){var r=Ws(e,t);return Jo.format(n?n.replace(ta,function(e,t,n,i,s,o,u,a,f,l){return[t,n,i,s,o,u,a,f||"."+Js(l,r),l].join("")}):",."+$s(r[2])+"f")}function $s(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Js(e,t){var n=$s(t[2]);return e in df?Math.abs(n-$s(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ks(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function s(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return s(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=Fs(r.map(i),n?Math:mf);return e.domain(t),r=t.map(s),o},o.ticks=function(){var e=Hs(r),o=[],u=e[0],a=e[1],f=Math.floor(i(u)),l=Math.ceil(i(a)),c=t%1?2:t;if(isFinite(l-f)){if(n){for(;l>f;f++)for(var h=1;c>h;h++)o.push(s(f)*h);o.push(s(f))}else for(o.push(s(f));f++<l;)for(var h=c-1;h>0;h--)o.push(s(f)*h);for(f=0;o[f]<u;f++);for(l=o.length;o[l-1]>a;l--);o=o.slice(f,l)}return o},o.tickFormat=function(e,t){if(!arguments.length)return vf;arguments.length<2?t=vf:"function"!=typeof t&&(t=Jo.format(t));var r,u=Math.max(.1,e/o.ticks().length),a=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/s(a(i(e)+r))<=u?t(e):""}},o.copy=function(){return Ks(e.copy(),t,n,r)},Us(o,e)}function Qs(e,t,n){function r(t){return e(i(t))}var i=Gs(t),s=Gs(1/t);return r.invert=function(t){return s(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Xs(n,e)},r.tickFormat=function(e,t){return Vs(n,e,t)},r.nice=function(e){return r.domain(zs(n,e))},r.exponent=function(o){return arguments.length?(i=Gs(t=o),s=Gs(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Qs(e.copy(),t,n)},Us(r,e)}function Gs(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Ys(e,t){function n(n){return o[((i.get(n)||"range"===t.t&&i.set(n,e.push(n)))-1)%o.length]}function r(t,n){return Jo.range(e.length).map(function(e){return t+n*e})}var i,o,u;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new s;for(var o,u=-1,a=r.length;++u<a;)i.has(o=r[u])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,u=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var a=i[0],f=i[1],l=(f-a)/(Math.max(1,e.length-1)+s);return o=r(e.length<2?(a+f)/2:a+l*s/2,l),u=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=(c-l)/(e.length-s+2*a);return o=r(l+h*a,h),f&&o.reverse(),u=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=Math.floor((c-l)/(e.length-s+2*a)),p=c-l-(e.length-s)*h;return o=r(l+Math.round(p/2),h),f&&o.reverse(),u=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return Hs(t.a[0])},n.copy=function(){return Ys(e,t)},n.domain(e)}function Zs(e,t){function n(){var n=0,s=t.length;for(i=[];++n<s;)i[n-1]=Jo.quantile(e,n/s);return r}function r(e){return isNaN(e=+e)?void 0:t[Jo.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(Jo.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return Zs(e,t)},n()}function eo(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/s+e,[t,t+1/s]},r.copy=function(){return eo(e,t,n)},i()}function to(e,t){function n(n){return n>=n?t[Jo.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return to(e,t)},n}function no(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Xs(e,t)},t.tickFormat=function(t,n){return Vs(e,t,n)},t.copy=function(){return no(e)},t}function ro(e){return e.innerRadius}function io(e){return e.outerRadius}function so(e){return e.startAngle}function oo(e){return e.endAngle}function uo(e){function t(t){function o(){f.push("M",s(e(l),u))}for(var a,f=[],l=[],c=-1,h=t.length,p=St(n),d=St(r);++c<h;)i.call(this,a=t[c],c)?l.push([+p.call(this,a,c),+d.call(this,a,c)]):l.length&&(o(),l=[]);return l.length&&o(),f.length?f.join(""):null}var n=Tr,r=Nr,i=Tn,s=ao,o=s.key,u=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?s=e:(s=xf.get(e)||ao).key,t):o},t.tension=function(e){return arguments.length?(u=e,t):u},t}function ao(e){return e.join("L")}function fo(e){return ao(e)+"Z"}function lo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function co(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ho(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function po(e,t){return e.length<4?ao(e):e[1]+go(e.slice(1,e.length-1),yo(e,t))}function vo(e,t){return e.length<3?ao(e):e[0]+go((e.push(e[0]),e),yo([e[e.length-2]].concat(e,[e[1]]),t))}function mo(e,t){return e.length<3?ao(e):e[0]+go(e,yo(e,t))}function go(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ao(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n&&(r+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],i=e[1],a=2),t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+2*u[0]/3)+","+(s[1]+2*u[1]/3)+","+l[0]+","+l[1]}return r}function yo(e,t){for(var n,r=[],i=(1-t)/2,s=e[0],o=e[1],u=1,a=e.length;++u<a;)n=s,s=o,o=e[u],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function bo(e){if(e.length<3)return ao(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",xo(Cf,o),",",xo(Cf,u)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),To(a,o,u);return e.pop(),a.push("L",r),a.join("")}function wo(e){if(e.length<4)return ao(e);for(var t,n=[],r=-1,i=e.length,s=[0],o=[0];++r<3;)t=e[r],s.push(t[0]),o.push(t[1]);for(n.push(xo(Cf,s)+","+xo(Cf,o)),--r;++r<i;)t=e[r],s.shift(),s.push(t[0]),o.shift(),o.push(t[1]),To(n,s,o);return n.join("")}function Eo(e){for(var t,n,r=-1,i=e.length,s=i+4,o=[],u=[];++r<4;)n=e[r%i],o.push(n[0]),u.push(n[1]);for(t=[xo(Cf,o),",",xo(Cf,u)],--r;++r<s;)n=e[r%i],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),To(t,o,u);return t.join("")}function So(e,t){var n=e.length-1;if(n)for(var r,i,s=e[0][0],o=e[0][1],u=e[n][0]-s,a=e[n][1]-o,f=-1;++f<=n;)r=e[f],i=f/n,r[0]=t*r[0]+(1-t)*(s+i*u),r[1]=t*r[1]+(1-t)*(o+i*a);return bo(e)}function xo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function To(e,t,n){e.push("C",xo(Tf,t),",",xo(Tf,n),",",xo(Nf,t),",",xo(Nf,n),",",xo(Cf,t),",",xo(Cf,n))}function No(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Co(e){for(var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=No(i,s);++t<n;)r[t]=(o+(o=No(i=s,s=e[t+1])))/2;return r[t]=o,r}function ko(e){for(var t,n,r,i,s=[],o=Co(e),u=-1,a=e.length-1;++u<a;)t=No(e[u],e[u+1]),au(t)<Au?o[u]=o[u+1]=0:(n=o[u]/t,r=o[u+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[u]=i*n,o[u+1]=i*r));for(u=-1;++u<=a;)i=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),s.push([i||0,o[u]*i||0]);return s}function Lo(e){return e.length<3?ao(e):e[0]+go(e,ko(e))}function Ao(e){for(var t,n,r,i=-1,s=e.length;++i<s;)t=e[i],n=t[0],r=t[1]+Ef,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Oo(e){function t(t){function a(){v.push("M",u(e(g),c),l,f(e(m.reverse()),c),"Z")}for(var h,p,d,v=[],m=[],g=[],y=-1,b=t.length,w=St(n),E=St(i),S=n===r?function(){return p}:St(r),x=i===s?function(){return d}:St(s);++y<b;)o.call(this,h=t[y],y)?(m.push([p=+w.call(this,h,y),d=+E.call(this,h,y)]),g.push([+S.call(this,h,y),+x.call(this,h,y)])):m.length&&(a(),m=[],g=[]);return m.length&&a(),v.length?v.join(""):null}var n=Tr,r=Tr,i=0,s=Nr,o=Tn,u=ao,a=u.key,f=u,l="L",c=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?u=e:(u=xf.get(e)||ao).key,f=u.reverse||u,l=u.closed?"M":"L",t):a},t.tension=function(e){return arguments.length?(c=e,t):c},t}function Mo(e){return e.radius}function _o(e){return[e.x,e.y]}function Do(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Ef;return[n*Math.cos(r),n*Math.sin(r)]}}function Po(){return 64}function Ho(){return"circle"}function Bo(e){var t=Math.sqrt(e/Cu);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function jo(e,t){return pu(e,_f),e.id=t,e}function Fo(e,t,n,r){var i=e.id;return H(e,"function"==typeof n?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Io(e){return null==e&&(e=""),function(){this.textContent=e}}function qo(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),o=i[n];if(!o){var u=r.time;o=i[n]={tween:new s,time:u,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Jo.timer(function(r){function s(r){return i.active>n?f():(i.active=n,o.event&&o.event.start.call(e,l,t),o.tween.forEach(function(n,r){(r=r.call(e,l,t))&&v.push(r)}),Jo.timer(function(){return d.c=a(r||1)?Tn:a,1},0,u),void 0)}function a(r){if(i.active!==n)return f();for(var s=r/p,u=c(s),a=v.length;a>0;)v[--a].call(e,u);return s>=1?(o.event&&o.event.end.call(e,l,t),f()):void 0}function f(){return--i.count?delete i[n]:delete e.__transition__,1}var l=e.__data__,c=o.ease,h=o.delay,p=o.duration,d=Yu,v=[];return d.t=h+u,r>=h?s(r-h):(d.c=s,void 0)},0,u)}}function Ro(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Uo(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function zo(e){return e.toISOString()}function Wo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,s=Jo.bisect(Rf,i);return s==Rf.length?[t.year,Ws(e.map(function(e){return e/31536e6}),n)[2]]:s?t[i/Rf[s-1]<Rf[s]/i?s-1:s]:[Wf,Ws(e,n)[2]]}return r.invert=function(t){return Xo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Xo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Xo(+n+1),t).length}var s=r.domain(),o=Hs(s),u=null==e?i(o,10):"number"==typeof e&&i(o,e);return u&&(e=u[0],t=u[1]),r.domain(Fs(s,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Xo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Xo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Hs(r.domain()),s=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return s&&(e=s[0],t=s[1]),e.range(n[0],Xo(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Wo(e.copy(),t,n)},Us(r,e)}function Xo(e){return new Date(e)}function Vo(e){return JSON.parse(e.responseText)}function $o(e){var t=Go.createRange();return t.selectNode(Go.body),t.createContextualFragment(e.responseText)}var Jo={version:"3.4.1"};Date.now||(Date.now=function(){return+(new Date)});var Ko=[].slice,Qo=function(e){return Ko.call(e)},Go=document,Yo=Go.documentElement,Zo=window;try{Qo(Yo.childNodes)[0].nodeType}catch(eu){Qo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Go.createElement("div").style.setProperty("opacity",0,"")}catch(tu){var nu=Zo.Element.prototype,ru=nu.setAttribute,iu=nu.setAttributeNS,su=Zo.CSSStyleDeclaration.prototype,ou=su.setProperty;nu.setAttribute=function(e,t){ru.call(this,e,t+"")},nu.setAttributeNS=function(e,t,n){iu.call(this,e,t,n+"")},su.setProperty=function(e,t,n){ou.call(this,e,t+"",n)}}Jo.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},Jo.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Jo.min=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Jo.max=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<s;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<s&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<s;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Jo.extent=function(e,t){var n,r,i,s=-1,o=e.length;if(1===arguments.length){for(;++s<o&&!(null!=(n=i=e[s])&&n>=n);)n=i=void 0;for(;++s<o;)null!=(r=e[s])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++s<o&&!(null!=(n=i=t.call(e,e[s],s))&&n>=n);)n=void 0;for(;++s<o;)null!=(r=t.call(e,e[s],s))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Jo.sum=function(e,t){var n,r=0,i=e.length,s=-1;if(1===arguments.length)for(;++s<i;)isNaN(n=+e[s])||(r+=n);else for(;++s<i;)isNaN(n=+t.call(e,e[s],s))||(r+=n);return r},Jo.mean=function(t,n){var r,i=t.length,s=0,o=-1,u=0;if(1===arguments.length)for(;++o<i;)e(r=t[o])&&(s+=(r-s)/++u);else for(;++o<i;)e(r=n.call(t,t[o],o))&&(s+=(r-s)/++u);return u?s:void 0},Jo.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},Jo.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(e),t.length?Jo.quantile(t.sort(Jo.ascending),.5):void 0},Jo.bisector=function(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var uu=Jo.bisector(function(e){return e});Jo.bisectLeft=uu.left,Jo.bisect=Jo.bisectRight=uu.right,Jo.shuffle=function(e){for(var t,n,r=e.length;r;)n=0|Math.random()*r--,t=e[r],e[r]=e[n],e[n]=t;return e},Jo.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},Jo.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],s=new Array(0>r?0:r);r>n;)s[n]=[t=i,i=e[++n]];return s},Jo.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,n=Jo.min(arguments,t),r=new Array(n);++e<n;)for(var i,s=-1,o=r[e]=new Array(i);++s<i;)o[s]=arguments[s][e];return r},Jo.transpose=function(e){return Jo.zip.apply(Jo,e)},Jo.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Jo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Jo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Jo.merge=function(e){for(var t,n,r,i=e.length,s=-1,o=0;++s<i;)o+=e[s].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var au=Math.abs;Jo.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var i,s=[],o=r(au(n)),u=-1;if(e*=o,t*=o,n*=o,0>n)for(;(i=e+n*++u)>t;)s.push(i/o);else for(;(i=e+n*++u)<t;)s.push(i/o);return s},Jo.map=function(e){var t=new s;if(e instanceof s)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},i(s,{has:o,get:function(e){return this[fu+e]},set:function(e,t){return this[fu+e]=t},remove:u,keys:a,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:f,empty:l,forEach:function(e){for(var t in this)t.charCodeAt(0)===lu&&e.call(this,t.substring(1),this[t])}});var fu="\0",lu=fu.charCodeAt(0);Jo.nest=function(){function e(t,u,a){if(a>=o.length)return r?r.call(i,u):n?u.sort(n):u;for(var f,l,c,h,p=-1,d=u.length,v=o[a++],m=new s;++p<d;)(h=m.get(f=v(l=u[p])))?h.push(l):m.set(f,[l]);return t?(l=t(),c=function(n,r){l.set(n,e(t,r,a))}):(l={},c=function(n,r){l[n]=e(t,r,a)}),m.forEach(c),l}function t(e,n){if(n>=o.length)return e;var r=[],i=u[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],u=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(Jo.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return u[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},Jo.set=function(e){var t=new c;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},i(c,{has:o,add:function(e){return this[fu+e]=!0,e},remove:function(e){return e=fu+e,e in this&&delete this[e]},values:a,size:f,empty:l,forEach:function(e){for(var t in this)t.charCodeAt(0)===lu&&e.call(this,t.substring(1))}}),Jo.behavior={},Jo.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=h(e,t,t[n]);return e};var cu=["webkit","ms","moz","Moz","o","O"];Jo.dispatch=function(){for(var e=new v,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=m(e);return e},v.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},Jo.event=null,Jo.requote=function(e){return e.replace(hu,"\\$&")};var hu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,pu={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},du=function(e,t){return t.querySelector(e)},vu=function(e,t){return t.querySelectorAll(e)},mu=Yo[p(Yo,"matchesSelector")],gu=function(e,t){return mu.call(e,t)};"function"==typeof Sizzle&&(du=function(e,t){return Sizzle(e,t)[0]||null},vu=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},gu=Sizzle.matchesSelector),Jo.selection=function(){return Eu};var yu=Jo.selection.prototype=[];yu.select=function(e){var t,n,r,i,s=[];e=E(e);for(var o=-1,u=this.length;++o<u;){s.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var a=-1,f=r.length;++a<f;)(i=r[a])?(t.push(n=e.call(i,i.__data__,a,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return w(s)},yu.selectAll=function(e){var t,n,r=[];e=S(e);for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)(n=o[u])&&(r.push(t=Qo(e.call(n,n.__data__,u,i))),t.parentNode=n);return w(r)};var bu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Jo.ns={prefix:bu,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),bu.hasOwnProperty(n)?{space:bu[n],local:e}:e}},yu.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Jo.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(x(t,e[t]));return this}return this.each(x(e,t))},yu.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=C(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!N(e[i]).test(t))return!1;return!0}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},yu.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(A(n,e[n],t));return this}if(2>r)return Zo.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(A(e,t,n))},yu.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},yu.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},yu.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},yu.append=function(e){return e=M(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},yu.insert=function(e,t){return e=M(e),t=E(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},yu.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},yu.data=function(e,t){function n(e,n){var r,i,o,u=e.length,c=n.length,h=Math.min(u,c),p=new Array(c),d=new Array(c),v=new Array(u);if(t){var m,g=new s,y=new s,b=[];for(r=-1;++r<u;)m=t.call(i=e[r],i.__data__,r),g.has(m)?v[r]=i:g.set(m,i),b.push(m);for(r=-1;++r<c;)m=t.call(n,o=n[r],r),(i=g.get(m))?(p[r]=i,i.__data__=o):y.has(m)||(d[r]=_(o)),y.set(m,o),g.remove(m);for(r=-1;++r<u;)g.has(b[r])&&(v[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],o=n[r],i?(i.__data__=o,p[r]=i):d[r]=_(o);for(;c>r;++r)d[r]=_(n[r]);for(;u>r;++r)v[r]=e[r]}d.update=p,d.parentNode=p.parentNode=v.parentNode=e.parentNode,a.push(d),f.push(p),l.push(v)}var r,i,o=-1,u=this.length;if(!arguments.length){for(e=new Array(u=(r=this[0]).length);++o<u;)(i=r[o])&&(e[o]=i.__data__);return e}var a=B([]),f=w([]),l=w([]);if("function"==typeof e)for(;++o<u;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<u;)n(r=this[o],e);return f.enter=function(){return a},f.exit=function(){return l},f},yu.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},yu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=D(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]),t.parentNode=(n=this[s]).parentNode;for(var u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return w(i)},yu.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,s=r[i];--i>=0;)(n=r[i])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},yu.sort=function(e){e=P.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},yu.each=function(e){return H(this,function(t,n,r){e.call(t,t.__data__,n,r)})},yu.call=function(e){var t=Qo(arguments);return e.apply(t[0]=this,t),this},yu.empty=function(){return!this.node()},yu.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var s=n[r];if(s)return s}return null},yu.size=function(){var e=0;return this.each(function(){++e}),e};var wu=[];Jo.selection.enter=B,Jo.selection.enter.prototype=wu,wu.append=yu.append,wu.empty=yu.empty,wu.node=yu.node,wu.call=yu.call,wu.size=yu.size,wu.select=function(e){for(var t,n,r,i,s,o=[],u=-1,a=this.length;++u<a;){r=(i=this[u]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var f=-1,l=i.length;++f<l;)(s=i[f])?(t.push(r[f]=n=e.call(i.parentNode,s.__data__,f,u)),n.__data__=s.__data__):t.push(null)}return w(o)},wu.insert=function(e,t){return arguments.length<2&&(t=j(this)),yu.insert.call(this,e,t)},yu.transition=function(){for(var e,t,n=Lf||++Df,r=[],i=Af||{time:Date.now(),ease:wi,delay:0,duration:250},s=-1,o=this.length;++s<o;){r.push(e=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(t=u[a])&&qo(t,a,n,i),e.push(t)}return jo(r,n)},yu.interrupt=function(){return this.each(F)},Jo.select=function(e){var t=["string"==typeof e?du(e,Go):e];return t.parentNode=Yo,w([t])},Jo.selectAll=function(e){var t=Qo("string"==typeof e?vu(e,Go):e);return t.parentNode=Yo,w([t])};var Eu=Jo.select(Yo);yu.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(I(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(I(e,t,n))};var Su=Jo.map({mouseenter:"mouseover",mouseleave:"mouseout"});Su.forEach(function(e){"on"+e in Go&&Su.remove(e)});var xu="onselectstart"in Go?null:p(Yo.style,"userSelect"),Tu=0;Jo.mouse=function(e){return z(e,y())};var Nu=/WebKit/.test(Zo.navigator.userAgent)?-1:0;Jo.touches=function(e,t){return arguments.length<2&&(t=y().touches),t?Qo(t).map(function(t){var n=z(e,t);return n.identifier=t.identifier,n}):[]},Jo.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",u)}function t(){return Jo.event.changedTouches[0].identifier}function n(e,t){return Jo.touches(e).filter(function(e){return e.identifier===t})[0]}function r(e,t,n,r){return function(){function o(){var e=t(l,p),n=e[0]-v[0],r=e[1]-v[1];m|=n|r,v=e,c({type:"drag",x:e[0]+a[0],y:e[1]+a[1],dx:n,dy:r})}function u(){g.on(n+"."+d,null).on(r+"."+d,null),y(m&&Jo.event.target===h),c({type:"dragend"})}var a,f=this,l=f.parentNode,c=i.of(f,arguments),h=Jo.event.target,p=e(),d=null==p?"drag":"drag-"+p,v=t(l,p),m=0,g=Jo.select(Zo).on(n+"."+d,o).on(r+"."+d,u),y=U();s?(a=s.apply(f,arguments),a=[a.x-v[0],a.y-v[1]]):a=[0,0],c({type:"dragstart"})}}var i=b(e,"drag","dragstart","dragend"),s=null,o=r(d,Jo.mouse,"mousemove","mouseup"),u=r(t,n,"touchmove","touchend");return e.origin=function(t){return arguments.length?(s=t,e):s},Jo.rebind(e,i,"on")};var Cu=Math.PI,ku=2*Cu,Lu=Cu/2,Au=1e-6,Ou=Au*Au,Mu=Cu/180,_u=180/Cu,Du=Math.SQRT2,Pu=2,Hu=4;Jo.interpolateZoom=function(e,t){function n(e){var t=e*y;if(g){var n=K(v),o=s/(Pu*h)*(n*Q(Du*t+v)-J(v));return[r+o*f,i+o*l,s*n/K(Du*t+v)]}return[r+e*f,i+e*l,s*Math.exp(Du*t)]}var r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],a=t[2],f=o-r,l=u-i,c=f*f+l*l,h=Math.sqrt(c),p=(a*a-s*s+Hu*c)/(2*s*Pu*h),d=(a*a-s*s-Hu*c)/(2*a*Pu*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d),g=m-v,y=(g||Math.log(a/s))/Du;return n.duration=1e3*y,n},Jo.behavior.zoom=function(){function e(e){e.on(k,f).on(Fu+".zoom",c).on(L,h).on("dblclick.zoom",p).on(O,l)}function t(e){return[(e[0]-T.x)/T.k,(e[1]-T.y)/T.k]}function n(e){return[e[0]*T.k+T.x,e[1]*T.k+T.y]}function r(e){T.k=Math.max(C[0],Math.min(C[1],e))}function i(e,t){t=n(t),T.x+=e[0]-t[0],T.y+=e[1]-t[1]}function s(){E&&E.domain(w.range().map(function(e){return(e-T.x)/T.k}).map(w.invert)),x&&x.domain(S.range().map(function(e){return(e-T.y)/T.k}).map(S.invert))}function o(e){e({type:"zoomstart"})}function u(e){s(),e({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function a(e){e({type:"zoomend"})}function f(){function e(){l=1,i(Jo.mouse(r),p),u(s)}function n(){c.on(L,Zo===r?h:null).on(A,null),d(l&&Jo.event.target===f),a(s)}var r=this,s=M.of(r,arguments),f=Jo.event.target,l=0,c=Jo.select(Zo).on(L,e).on(A,n),p=t(Jo.mouse(r)),d=U();F.call(r),o(s)}function l(){function e(){var e=Jo.touches(p);return h=T.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){for(var t=Jo.event.changedTouches,n=0,s=t.length;s>n;++n)v[t[n].identifier]=null;var o=e(),a=Date.now();if(1===o.length){if(500>a-y){var f=o[0],l=v[f.identifier];r(2*T.k),i(f,l),g(),u(d)}y=a}else if(o.length>1){var f=o[0],c=o[1],h=f[0]-c[0],p=f[1]-c[1];m=h*h+p*p}}function s(){for(var e,t,n,s,o=Jo.touches(p),a=0,f=o.length;f>a;++a,s=null)if(n=o[a],s=v[n.identifier]){if(t)break;e=n,t=s}if(s){var l=(l=n[0]-e[0])*l+(l=n[1]-e[1])*l,c=m&&Math.sqrt(l/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+s[0])/2,(t[1]+s[1])/2],r(c*h)}y=null,i(e,t),u(d)}function c(){if(Jo.event.touches.length){for(var t=Jo.event.changedTouches,n=0,r=t.length;r>n;++n)delete v[t[n].identifier];for(var i in v)return void e()}S.on(w,null).on(E,null),x.on(k,f).on(O,l),N(),a(d)}var h,p=this,d=M.of(p,arguments),v={},m=0,b=Jo.event.changedTouches[0].identifier,w="touchmove.zoom-"+b,E="touchend.zoom-"+b,S=Jo.select(Zo).on(w,s).on(E,c),x=Jo.select(p).on(k,null).on(O,n),N=U();F.call(p),n(),o(d)}function c(){var e=M.of(this,arguments);m?clearTimeout(m):(F.call(this),o(e)),m=setTimeout(function(){m=null,a(e)},50),g();var n=v||Jo.mouse(this);d||(d=t(n)),r(Math.pow(2,.002*Bu())*T.k),i(n,d),u(e)}function h(){d=null}function p(){var e=M.of(this,arguments),n=Jo.mouse(this),s=t(n),f=Math.log(T.k)/Math.LN2;o(e),r(Math.pow(2,Jo.event.shiftKey?Math.ceil(f)-1:Math.floor(f)+1)),i(n,s),u(e),a(e)}var d,v,m,y,w,E,S,x,T={x:0,y:0,k:1},N=[960,500],C=ju,k="mousedown.zoom",L="mousemove.zoom",A="mouseup.zoom",O="touchstart.zoom",M=b(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=M.of(this,arguments),t=T;Lf?Jo.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var n=N[0],r=N[1],i=n/2,s=r/2,o=Jo.interpolateZoom([(i-T.x)/T.k,(s-T.y)/T.k,n/T.k],[(i-t.x)/t.k,(s-t.y)/t.k,n/t.k]);return function(t){var r=o(t),a=n/r[2];this.__chart__=T={x:i-r[0]*a,y:s-r[1]*a,k:a},u(e)}}).each("end.zoom",function(){a(e)}):(this.__chart__=T,o(e),u(e),a(e))})},e.translate=function(t){return arguments.length?(T={x:+t[0],y:+t[1],k:T.k},s(),e):[T.x,T.y]},e.scale=function(t){return arguments.length?(T={x:T.x,y:T.y,k:+t},s(),e):T.k},e.scaleExtent=function(t){return arguments.length?(C=null==t?ju:[+t[0],+t[1]],e):C},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(N=t&&[+t[0],+t[1]],e):N},e.x=function(t){return arguments.length?(E=t,w=t.copy(),T={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(x=t,S=t.copy(),T={x:0,y:0,k:1},e):x},Jo.rebind(e,M,"on")};var Bu,ju=[0,1/0],Fu="onwheel"in Go?(Bu=function(){return-Jo.event.deltaY*(Jo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Go?(Bu=function(){return Jo.event.wheelDelta},"mousewheel"):(Bu=function(){return-Jo.event.detail},"MozMousePixelScroll");Y.prototype.toString=function(){return this.rgb()+""},Jo.hsl=function(e,t,n){return 1===arguments.length?e instanceof et?Z(e.h,e.s,e.l):gt(""+e,yt,Z):Z(+e,+t,+n)};var Iu=et.prototype=new Y;Iu.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),Z(this.h,this.s,this.l/e)},Iu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),Z(this.h,this.s,e*this.l)},Iu.rgb=function(){return tt(this.h,this.s,this.l)},Jo.hcl=function(e,t,n){return 1===arguments.length?e instanceof rt?nt(e.h,e.c,e.l):e instanceof ot?at(e.l,e.a,e.b):at((e=bt((e=Jo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):nt(+e,+t,+n)};var qu=rt.prototype=new Y;qu.brighter=function(e){return nt(this.h,this.c,Math.min(100,this.l+Ru*(arguments.length?e:1)))},qu.darker=function(e){return nt(this.h,this.c,Math.max(0,this.l-Ru*(arguments.length?e:1)))},qu.rgb=function(){return it(this.h,this.c,this.l).rgb()},Jo.lab=function(e,t,n){return 1===arguments.length?e instanceof ot?st(e.l,e.a,e.b):e instanceof rt?it(e.l,e.c,e.h):bt((e=Jo.rgb(e)).r,e.g,e.b):st(+e,+t,+n)};var Ru=18,Uu=.95047,zu=1,Wu=1.08883,Xu=ot.prototype=new Y;Xu.brighter=function(e){return st(Math.min(100,this.l+Ru*(arguments.length?e:1)),this.a,this.b)},Xu.darker=function(e){return st(Math.max(0,this.l-Ru*(arguments.length?e:1)),this.a,this.b)},Xu.rgb=function(){return ut(this.l,this.a,this.b)},Jo.rgb=function(e,t,n){return 1===arguments.length?e instanceof vt?dt(e.r,e.g,e.b):gt(""+e,dt,tt):dt(~~e,~~t,~~n)};var Vu=vt.prototype=new Y;Vu.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),dt(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(r/e)))):dt(i,i,i)},Vu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),dt(~~(e*this.r),~~(e*this.g),~~(e*this.b))},Vu.hsl=function(){return yt(this.r,this.g,this.b)},Vu.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var $u=Jo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$u.forEach(function(e,t){$u.set(e,ht(t))}),Jo.functor=St,Jo.xhr=Tt(xt),Jo.dsv=function(e,t){function n(e,n,s){arguments.length<3&&(s=n,n=null);var o=Nt(e,t,null==n?r:i(n),s);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function s(t){return t.map(o).join(e)}function o(e){return u.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var u=new RegExp('["'+e+"\n]"),a=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(l>=f)return o;if(i)return i=!1,s;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<f;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}l=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++l):10===r&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;f>l;){var r=e.charCodeAt(l++),u=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(l)&&(++l,++u);else if(r!==a)continue;return e.substring(t,l-u)}return e.substring(t)}for(var r,i,s={},o={},u=[],f=e.length,l=0,c=0;(r=n())!==o;){for(var h=[];r!==s&&r!==o;)h.push(r),r=n();(!t||(h=t(h,c++)))&&u.push(h)}return u},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new c,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(s).join("\n")},n},Jo.csv=Jo.dsv(",","text/csv"),Jo.tsv=Jo.dsv("	","text/tab-separated-values");var Ju,Ku,Qu,Gu,Yu,Zu=Zo[p(Zo,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Jo.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,s={c:e,t:i,f:!1,n:null};Ku?Ku.n=s:Ju=s,Ku=s,Qu||(Gu=clearTimeout(Gu),Qu=1,Zu(kt))},Jo.timer.flush=function(){Lt(),At()},Jo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ea=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Mt);Jo.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Jo.round(e,Ot(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ea[8+n/3]};var ta=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,na=Jo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Jo.round(e,Ot(e,t))).toFixed(Math.max(0,Math.min(20,Ot(e*(1+1e-15),t))))}}),ra=Jo.time={},ia=Date;Pt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){sa.setUTCDate.apply(this._,arguments)},setDay:function(){sa.setUTCDay.apply(this._,arguments)},setFullYear:function(){sa.setUTCFullYear.apply(this._,arguments)},setHours:function(){sa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){sa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){sa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){sa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){sa.setUTCSeconds.apply(this._,arguments)},setTime:function(){sa.setTime.apply(this._,arguments)}};var sa=Date.prototype;ra.year=Ht(function(e){return e=ra.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ra.years=ra.year.range,ra.years.utc=ra.year.utc.range,ra.day=Ht(function(e){var t=new ia(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ra.days=ra.day.range,ra.days.utc=ra.day.utc.range,ra.dayOfYear=function(e){var t=ra.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ra[e]=Ht(function(e){return(e=ra.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ra.year(e).getDay();return Math.floor((ra.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ra[e+"s"]=n.range,ra[e+"s"].utc=n.utc.range,ra[e+"OfYear"]=function(e){var n=ra.year(e).getDay();return Math.floor((ra.dayOfYear(e)+(n+t)%7)/7)}}),ra.week=ra.sunday,ra.weeks=ra.sunday.range,ra.weeks.utc=ra.sunday.utc.range,ra.weekOfYear=ra.sundayOfYear;var oa={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,aa=/^%/;Jo.locale=function(e){return{numberFormat:_t(e),timeFormat:jt(e)}};var fa=Jo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Jo.format=fa.numberFormat,Jo.geo={},sn.prototype={s:0,t:0,add:function(e){on(e,this.t,la),on(la.s,this.s,this),this.s?this.t+=la.t:this.s=la.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var la=new sn;Jo.geo.stream=function(e,t){e&&ca.hasOwnProperty(e.type)?ca[e.type](e,t):un(e,t)};var ca={Feature:function(e,t){un(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)un(n[r].geometry,t)}},ha={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){an(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)an(n[r],t,0)},Polygon:function(e,t){fn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)fn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)un(n[r],t)}};Jo.geo.area=function(e){return pa=0,Jo.geo.stream(e,va),pa};var pa,da=new sn,va={sphere:function(){pa+=4*Cu},point:d,lineStart:d,lineEnd:d,polygonStart:function(){da.reset(),va.lineStart=ln},polygonEnd:function(){var e=2*da;pa+=0>e?4*Cu+e:e,va.lineStart=va.lineEnd=va.point=d}};Jo.geo.bounds=function(){function e(e,t){b.push(w=[l=e,h=e]),c>t&&(c=t),t>p&&(p=t)}function t(t,n){var r=cn([t*Mu,n*Mu]);if(g){var i=pn(g,r),s=[i[1],-i[0],0],o=pn(s,i);mn(o),o=gn(o);var a=t-d,f=a>0?1:-1,v=o[0]*_u*f,m=au(a)>180;if(m^(v>f*d&&f*t>v)){var y=o[1]*_u;y>p&&(p=y)}else if(v=(v+360)%360-180,m^(v>f*d&&f*t>v)){var y=-o[1]*_u;c>y&&(c=y)}else c>n&&(c=n),n>p&&(p=n);m?d>t?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>d?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t)}else e(t,n);g=r,d=t}function n(){E.point=t}function r(){w[0]=l,w[1]=h,E.point=e,g=null}function i(e,n){if(g){var r=e-d;y+=au(r)>180?r+(r>0?360:-360):r}else v=e,m=n;va.point(e,n),t(e,n)}function s(){va.lineStart()}function o(){i(v,m),va.lineEnd(),au(y)>Au&&(l=-(h=180)),w[0]=l,w[1]=h,g=null}function u(e,t){return(t-=e)<0?t+360:t}function a(e,t){return e[0]-t[0]}function f(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var l,c,h,p,d,v,m,g,y,b,w,E={point:e,lineStart:n,lineEnd:r,polygonStart:function(){E.point=i,E.lineStart=s,E.lineEnd=o,y=0,va.polygonStart()},polygonEnd:function(){va.polygonEnd(),E.point=e,E.lineStart=n,E.lineEnd=r,0>da?(l=-(h=180),c=-(p=90)):y>Au?p=90:-Au>y&&(c=-90),w[0]=l,w[1]=h}};return function(e){p=h=-(l=c=1/0),b=[],Jo.geo.stream(e,E);var t=b.length;if(t){b.sort(a);for(var n,r=1,i=b[0],s=[i];t>r;++r)n=b[r],f(n[0],i)||f(n[1],i)?(u(i[0],n[1])>u(i[0],i[1])&&(i[1]=n[1]),u(n[0],i[1])>u(i[0],i[1])&&(i[0]=n[0])):s.push(i=n);for(var o,n,d=-1/0,t=s.length-1,r=0,i=s[t];t>=r;i=n,++r)n=s[r],(o=u(i[1],n[0]))>d&&(d=o,l=n[0],h=i[1])}return b=w=null,1/0===l||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[l,c],[h,p]]}}(),Jo.geo.centroid=function(e){ma=ga=ya=ba=wa=Ea=Sa=xa=Ta=Na=Ca=0,Jo.geo.stream(e,ka);var t=Ta,n=Na,r=Ca,i=t*t+n*n+r*r;return Ou>i&&(t=Ea,n=Sa,r=xa,Au>ga&&(t=ya,n=ba,r=wa),i=t*t+n*n+r*r,Ou>i)?[0/0,0/0]:[Math.atan2(n,t)*_u,$(r/Math.sqrt(i))*_u]};var ma,ga,ya,ba,wa,Ea,Sa,xa,Ta,Na,Ca,ka={sphere:d,point:bn,lineStart:En,lineEnd:Sn,polygonStart:function(){ka.lineStart=xn},polygonEnd:function(){ka.lineStart=En}},La=Ln(Tn,Dn,Hn,[-Cu,-Cu/2]),Aa=1e9;Jo.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(u){return arguments.length?(s=Fn(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(Jo.geo.conicEqualArea=function(){return qn(Rn)}).raw=Rn,Jo.geo.albers=function(){return Jo.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},Jo.geo.albersUsa=function(){function e(e){var s=e[0],o=e[1];return t=null,n(s,o),t||(r(s,o),t)||i(s,o),t}var t,n,r,i,s=Jo.geo.albers(),o=Jo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Jo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-0.425&&-0.214>r?o:i>=.166&&.234>i&&r>=-0.214&&-0.115>r?u:s).invert(e)},e.stream=function(e){var t=s.stream(e),n=o.stream(e),r=u.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(s.precision(t),o.precision(t),u.precision(t),e):s.precision()},e.scale=function(t){return arguments.length?(s.scale(t),o.scale(.35*t),u.scale(t),e.translate(s.translate())):s.scale()},e.translate=function(t){if(!arguments.length)return s.translate();var f=s.scale(),l=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[l-.455*f,c-.238*f],[l+.455*f,c+.238*f]]).stream(a).point,r=o.translate([l-.307*f,c+.201*f]).clipExtent([[l-.425*f+Au,c+.12*f+Au],[l-.214*f-Au,c+.234*f-Au]]).stream(a).point,i=u.translate([l-.205*f,c+.212*f]).clipExtent([[l-.214*f+Au,c+.166*f+Au],[l-.115*f-Au,c+.234*f-Au]]).stream(a).point,e},e.scale(1070)};var Oa,Ma,_a,Da,Pa,Ha,Ba={point:d,lineStart:d,lineEnd:d,polygonStart:function(){Ma=0,Ba.lineStart=Un},polygonEnd:function(){Ba.lineStart=Ba.lineEnd=Ba.point=d,Oa+=au(Ma/2)}},ja={point:zn,lineStart:d,lineEnd:d,polygonStart:d,polygonEnd:d},Fa={point:Vn,lineStart:$n,lineEnd:Jn,polygonStart:function(){Fa.lineStart=Kn},polygonEnd:function(){Fa.point=Vn,Fa.lineStart=$n,Fa.lineEnd=Jn}};Jo.geo.path=function(){function e(e){return e&&("function"==typeof u&&s.pointRadius(+u.apply(this,arguments)),o&&o.valid||(o=i(s)),Jo.geo.stream(e,o)),s.result()}function t(){return o=null,e}var n,r,i,s,o,u=4.5;return e.area=function(e){return Oa=0,Jo.geo.stream(e,i(Ba)),Oa},e.centroid=function(e){return ya=ba=wa=Ea=Sa=xa=Ta=Na=Ca=0,Jo.geo.stream(e,i(Fa)),Ca?[Ta/Ca,Na/Ca]:xa?[Ea/xa,Sa/xa]:wa?[ya/wa,ba/wa]:[0/0,0/0]},e.bounds=function(e){return Pa=Ha=-(_a=Da=1/0),Jo.geo.stream(e,i(ja)),[[_a,Da],[Pa,Ha]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Yn(e):xt,t()):n},e.context=function(e){return arguments.length?(s=null==(r=e)?new Wn:new Qn(e),"function"!=typeof u&&s.pointRadius(u),t()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(s.pointRadius(+t),+t),e):u},e.projection(Jo.geo.albersUsa()).context(null)},Jo.geo.transform=function(e){return{stream:function(t){var n=new Zn(t);for(var r in e)n[r]=e[r];return n}}},Zn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Jo.geo.projection=tr,Jo.geo.projectionMutator=nr,(Jo.geo.equirectangular=function(){return tr(ir)}).raw=ir.invert=ir,Jo.geo.rotation=function(e){function t(t){return t=e(t[0]*Mu,t[1]*Mu),t[0]*=_u,t[1]*=_u,t}return e=or(e[0]%360*Mu,e[1]*Mu,e.length>2?e[2]*Mu:0),t.invert=function(t){return t=e.invert(t[0]*Mu,t[1]*Mu),t[0]*=_u,t[1]*=_u,t},t},sr.invert=ir,Jo.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=or(-e[0]*Mu,-e[1]*Mu,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=_u,e[1]*=_u}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=lr((t=+r)*Mu,i*Mu),e):t},e.precision=function(r){return arguments.length?(n=lr(t*Mu,(i=+r)*Mu),e):i},e.angle(90)},Jo.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Mu,i=e[1]*Mu,s=t[1]*Mu,o=Math.sin(r),u=Math.cos(r),a=Math.sin(i),f=Math.cos(i),l=Math.sin(s),c=Math.cos(s);return Math.atan2(Math.sqrt((n=c*o)*n+(n=f*l-a*c*u)*n),a*l+f*c*u)},Jo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Jo.range(Math.ceil(s/m)*m,i,m).map(h).concat(Jo.range(Math.ceil(f/g)*g,a,g).map(p)).concat(Jo.range(Math.ceil(r/d)*d,n,d).filter(function(e){return au(e%m)>Au}).map(l)).concat(Jo.range(Math.ceil(u/v)*v,o,v).filter(function(e){return au(e%g)>Au}).map(c))}var n,r,i,s,o,u,a,f,l,c,h,p,d=10,v=d,m=90,g=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(p(a).slice(1),h(i).reverse().slice(1),p(f).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(s=+t[0][0],i=+t[1][0],f=+t[0][1],a=+t[1][1],s>i&&(t=s,s=i,i=t),f>a&&(t=f,f=a,a=t),e.precision(y)):[[s,f],[i,a]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),e.precision(y)):[[r,u],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],g=+t[1],e):[m,g]},e.minorStep=function(t){return arguments.length?(d=+t[0],v=+t[1],e):[d,v]},e.precision=function(t){return arguments.length?(y=+t,l=hr(u,o,90),c=pr(r,n,y),h=hr(f,a,90),p=pr(s,i,y),e):y},e.majorExtent([[-180,-90+Au],[180,90-Au]]).minorExtent([[-180,-80-Au],[180,80+Au]])},Jo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=dr,i=vr;return e.distance=function(){return Jo.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Jo.geo.interpolate=function(e,t){return mr(e[0]*Mu,e[1]*Mu,t[0]*Mu,t[1]*Mu)},Jo.geo.length=function(e){return Ia=0,Jo.geo.stream(e,qa),Ia};var Ia,qa={sphere:d,point:d,lineStart:gr,lineEnd:d,polygonStart:d,polygonEnd:d},Ra=yr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Jo.geo.azimuthalEqualArea=function(){return tr(Ra)}).raw=Ra;var Ua=yr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},xt);(Jo.geo.azimuthalEquidistant=function(){return tr(Ua)}).raw=Ua,(Jo.geo.conicConformal=function(){return qn(br)}).raw=br,(Jo.geo.conicEquidistant=function(){return qn(wr)}).raw=wr;var za=yr(function(e){return 1/e},Math.atan);(Jo.geo.gnomonic=function(){return tr(za)}).raw=za,Er.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Lu]},(Jo.geo.mercator=function(){return Sr(Er)}).raw=Er;var Wa=yr(function(){return 1},Math.asin);(Jo.geo.orthographic=function(){return tr(Wa)}).raw=Wa;var Xa=yr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Jo.geo.stereographic=function(){return tr(Xa)}).raw=Xa,xr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Lu]},(Jo.geo.transverseMercator=function(){var e=Sr(xr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[-e[1],e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},e.rotate([0,0])}).raw=xr,Jo.geom={},Jo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=St(n),s=St(r),o=e.length,u=[],a=[];for(t=0;o>t;t++)u.push([+i.call(this,e[t],t),+s.call(this,e[t],t),t]);for(u.sort(kr),t=0;o>t;t++)a.push([u[t][0],-u[t][1]]);var f=Cr(u),l=Cr(a),c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(t=f.length-1;t>=0;--t)p.push(e[u[f[t]][2]]);for(t=+c;t<l.length-h;++t)p.push(e[u[l[t]][2]]);return p}var n=Tr,r=Nr;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},Jo.geom.polygon=function(e){return pu(e,Va),e};var Va=Jo.geom.polygon.prototype=[];Va.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Va.centroid=function(e){var t,n,r=-1,i=this.length,s=0,o=0,u=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=u,u=this[r],n=t[0]*u[1]-u[0]*t[1],s+=(t[0]+u[0])*n,o+=(t[1]+u[1])*n;return[s*e,o*e]},Va.clip=function(e){for(var t,n,r,i,s,o,u=Or(e),a=-1,f=this.length-Or(this),l=this[f-1];++a<f;){for(t=e.slice(),e.length=0,i=this[a],s=t[(r=t.length-u)-1],n=-1;++n<r;)o=t[n],Lr(o,l,i)?(Lr(s,l,i)||e.push(Ar(s,o,l,i)),e.push(o)):Lr(s,l,i)&&e.push(Ar(s,o,l,i)),s=o;u&&e.push(e[0]),l=i}return e};var $a,Ja,Ka,Qa,Ga,Ya=[],Za=[];Fr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(qr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Gr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ti(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Zr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ei(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ei(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Zr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,s=e.L,o=e.R;if(n=s?o?ti(o):s:o,i?i.L===e?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=e.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Zr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ei(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Zr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ei(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Zr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ei(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Jo.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=u[0][0],i=u[0][1],s=u[1][0],o=u[1][1];return ni(n(e),u).cells.forEach(function(n,u){var a=n.edges,f=n.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=r&&f.x<=s&&f.y>=i&&f.y<=o?[[r,o],[s,o],[s,i],[r,i]]:[];l.point=e[u]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(s(e,t)/Au)*Au,y:Math.round(o(e,t)/Au)*Au,i:t}})}var r=Tr,i=Nr,s=r,o=i,u=ef;return e?t(e):(t.links=function(e){return ni(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ni(n(e)).cells.forEach(function(n,r){for(var i,s,o=n.site,u=n.edges.sort(qr),a=-1,f=u.length,l=u[f-1].edge,c=l.l===o?l.r:l.l;++a<f;)i=l,s=c,l=u[a].edge,c=l.l===o?l.r:l.l,r<s.i&&r<c.i&&ii(o,s,c)<0&&t.push([e[r],e[s.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(s=St(r=e),t):r},t.y=function(e){return arguments.length?(o=St(i=e),t):i},t.clipExtent=function(e){return arguments.length?(u=null==e?ef:e,t):u===ef?null:u},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):u===ef?null:u&&u[1]},t)};var ef=[[-1e6,-1e6],[1e6,1e6]];Jo.geom.delaunay=function(e){return Jo.geom.voronoi().triangles(e)},Jo.geom.quadtree=function(e,t,n,r,i){function s(e){function s(e,t,n,r,i,s,o,u){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var a=e.x,l=e.y;if(null!=a)if(au(a-n)+au(l-r)<.01)f(e,t,n,r,i,s,o,u);else{var c=e.point;e.x=e.y=e.point=null,f(e,c,a,l,i,s,o,u),f(e,t,n,r,i,s,o,u)}else e.x=n,e.y=r,e.point=t}else f(e,t,n,r,i,s,o,u)}function f(e,t,n,r,i,o,u,a){var f=.5*(i+u),l=.5*(o+a),c=n>=f,h=r>=l,p=(h<<1)+c;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=ui()),c?i=f:u=f,h?o=l:a=l,s(e,t,n,r,i,o,u,a)}var l,c,h,p,d,v,m,g,y,b=St(u),w=St(a);if(null!=t)v=t,m=n,g=r,y=i;else if(g=y=-(v=m=1/0),c=[],h=[],d=e.length,o)for(p=0;d>p;++p)l=e[p],l.x<v&&(v=l.x),l.y<m&&(m=l.y),l.x>g&&(g=l.x),l.y>y&&(y=l.y),c.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var E=+b(l=e[p],p),S=+w(l,p);v>E&&(v=E),m>S&&(m=S),E>g&&(g=E),S>y&&(y=S),c.push(E),h.push(S)}var x=g-v,T=y-m;x>T?y=m+x:g=v+T;var N=ui();if(N.add=function(e){s(N,e,+b(e,++p),+w(e,p),v,m,g,y)},N.visit=function(e){ai(e,N,v,m,g,y)},p=-1,null==t){for(;++p<d;)s(N,e[p],c[p],h[p],v,m,g,y);--p}else e.forEach(N.add);return c=h=e=l=null,N}var o,u=Tr,a=Nr;return(o=arguments.length)?(u=si,a=oi,3===o&&(i=n,r=t,n=t=0),s(e)):(s.x=function(e){return arguments.length?(u=e,s):u},s.y=function(e){return arguments.length?(a=e,s):a},s.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),s):null==t?null:[[t,n],[r,i]]},s.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),s):null==t?null:[r-t,i-n]},s)},Jo.interpolateRgb=fi,Jo.interpolateObject=li,Jo.interpolateNumber=ci,Jo.interpolateString=hi;var tf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Jo.interpolate=pi,Jo.interpolators=[function(e,t){var n=typeof t;return("string"===n?$u.has(t)||/^(#|rgb\(|hsl\()/.test(t)?fi:hi:t instanceof Y?fi:"object"===n?Array.isArray(t)?di:li:ci)(e,t)}],Jo.interpolateArray=di;var nf=function(){return xt},rf=Jo.map({linear:nf,poly:Ei,quad:function(){return yi},cubic:function(){return bi},sin:function(){return Si},exp:function(){return xi},circle:function(){return Ti},elastic:Ni,back:Ci,bounce:function(){return ki}}),sf=Jo.map({"in":xt,out:mi,"in-out":gi,"out-in":function(e){return gi(mi(e))}});Jo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=rf.get(n)||nf,r=sf.get(r)||xt,vi(r(n.apply(null,Ko.call(arguments,1))))},Jo.interpolateHcl=Li,Jo.interpolateHsl=Ai,Jo.interpolateLab=Oi,Jo.interpolateRound=Mi,Jo.transform=function(e){var t=Go.createElementNS(Jo.ns.prefix.svg,"g");return(Jo.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new _i(n?n.matrix:of)})(e)},_i.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var of={a:1,b:0,c:0,d:1,e:0,f:0};Jo.interpolateTransform=Bi,Jo.layout={},Jo.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Ii(e[n]));return t}},Jo.layout.chord=function(){function e(){var e,f,c,h,p,d={},v=[],m=Jo.range(s),g=[];for(n=[],r=[],e=0,h=-1;++h<s;){for(f=0,p=-1;++p<s;)f+=i[h][p];v.push(f),g.push(Jo.range(s)),e+=f}for(o&&m.sort(function(e,t){return o(v[e],v[t])}),u&&g.forEach(function(e,t){e.sort(function(e,n){return u(i[t][e],i[t][n])})}),e=(ku-l*s)/e,f=0,h=-1;++h<s;){for(c=f,p=-1;++p<s;){var y=m[h],b=g[y][p],w=i[y][b],E=f,S=f+=w*e;d[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}r[y]={index:y,startAngle:c,endAngle:f,value:(f-c)/e},f+=l}for(h=-1;++h<s;)for(p=h-1;++p<s;){var x=d[h+"-"+p],T=d[p+"-"+h];(x.value||T.value)&&n.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}a&&t()}function t(){n.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,s,o,u,a,f={},l=0;return f.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=r=null,f):i},f.padding=function(e){return arguments.length?(l=e,n=r=null,f):l},f.sortGroups=function(e){return arguments.length?(o=e,n=r=null,f):o},f.sortSubgroups=function(e){return arguments.length?(u=e,n=null,f):u},f.sortChords=function(e){return arguments.length?(a=e,n&&t(),f):a},f.chords=function(){return n||e(),n},f.groups=function(){return r||e(),r},f},Jo.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=i-n,a=s*s+o*o;if(a>u*u/m){if(d>a){var f=t.charge/a;e.px-=s*f,e.py-=o*f}return!0}if(t.point&&a&&d>a){var f=t.pointCharge/a;e.px-=s*f,e.py-=o*f}}return!t.charge}}function t(e){e.px=Jo.event.x,e.py=Jo.event.y,u.resume()}var n,r,i,s,o,u={},a=Jo.dispatch("start","tick","end"),f=[1,1],l=.9,c=uf,h=af,p=-30,d=ff,v=.1,m=.64,g=[],y=[];return u.tick=function(){if((r*=.99)<.005)return a.end({type:"end",alpha:r=0}),!0;var t,n,u,c,h,d,m,b,w,E=g.length,S=y.length;for(n=0;S>n;++n)u=y[n],c=u.source,h=u.target,b=h.x-c.x,w=h.y-c.y,(d=b*b+w*w)&&(d=r*s[n]*((d=Math.sqrt(d))-i[n])/d,b*=d,w*=d,h.x-=b*(m=c.weight/(h.weight+c.weight)),h.y-=w*m,c.x+=b*(m=1-m),c.y+=w*m);if((m=r*v)&&(b=f[0]/2,w=f[1]/2,n=-1,m))for(;++n<E;)u=g[n],u.x+=(b-u.x)*m,u.y+=(w-u.y)*m;if(p)for(Vi(t=Jo.geom.quadtree(g),r,o),n=-1;++n<E;)(u=g[n]).fixed||t.visit(e(u));for(n=-1;++n<E;)u=g[n],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*l,u.y-=(u.py-(u.py=u.y))*l);a.tick({type:"tick",alpha:r})},u.nodes=function(e){return arguments.length?(g=e,u):g},u.links=function(e){return arguments.length?(y=e,u):y},u.size=function(e){return arguments.length?(f=e,u):f},u.linkDistance=function(e){return arguments.length?(c="function"==typeof e?e:+e,u):c},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(l=+e,u):l},u.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,u):p},u.chargeDistance=function(e){return arguments.length?(d=e*e,u):Math.sqrt(d)},u.gravity=function(e){return arguments.length?(v=+e,u):v},u.theta=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(a.start({type:"start",alpha:r=e}),Jo.timer(u.tick)),u):r},u.start=function(){function e(e,r){if(!n){for(n=new Array(a),u=0;a>u;++u)n[u]=[];for(u=0;f>u;++u){var i=y[u];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var s,o=n[t],u=-1,f=o.length;++u<f;)if(!isNaN(s=o[u][e]))return s;return Math.random()*r}var t,n,r,a=g.length,l=y.length,d=f[0],v=f[1];for(t=0;a>t;++t)(r=g[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=y[t],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(t=0;a>t;++t)r=g[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof c)for(t=0;l>t;++t)i[t]=+c.call(this,y[t],t);else for(t=0;l>t;++t)i[t]=c;if(s=[],"function"==typeof h)for(t=0;l>t;++t)s[t]=+h.call(this,y[t],t);else for(t=0;l>t;++t)s[t]=h;if(o=[],"function"==typeof p)for(t=0;a>t;++t)o[t]=+p.call(this,g[t],t);else for(t=0;a>t;++t)o[t]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return n||(n=Jo.behavior.drag().origin(xt).on("dragstart.force",Ui).on("drag.force",t).on("dragend.force",zi)),arguments.length?(this.on("mouseover.force",Wi).on("mouseout.force",Xi).call(n),void 0):n},Jo.rebind(u,a,"on")};var uf=20,af=1,ff=1/0;Jo.layout.hierarchy=function(){function e(t,o,u){var a=i.call(n,t,o);if(t.depth=o,u.push(t),a&&(f=a.length)){for(var f,l,c=-1,h=t.children=new Array(f),p=0,d=o+1;++c<f;)l=h[c]=e(a[c],d,u),l.parent=t,p+=l.value;r&&h.sort(r),s&&(t.value=p)}else delete t.children,s&&(t.value=+s.call(n,t,o)||0);return t}function t(e,r){var i=e.children,o=0;if(i&&(u=i.length))for(var u,a=-1,f=r+1;++a<u;)o+=t(i[a],f);else s&&(o=+s.call(n,e,r)||0);return s&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var r=Qi,i=Ji,s=Ki;return n.sort=function(e){return arguments.length?(r=e,n):r},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(s=e,n):s},n.revalue=function(e){return t(e,0),e},n},Jo.layout.partition=function(){function e(t,n,r,i){var s=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,s&&(o=s.length)){var o,u,a,f=-1;for(r=t.value?r/t.value:0;++f<o;)e(u=s[f],n,a=u.value*r,i),n+=a}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,s=-1;++s<i;)r=Math.max(r,t(n[s]));return 1+r}function n(n,s){var o=r.call(this,n,s);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=Jo.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},$i(n,r)},Jo.layout.pie=function(){function e(s){var o=s.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),a=(("function"==typeof i?i.apply(this,arguments):i)-u)/Jo.sum(o),f=Jo.range(s.length);null!=n&&f.sort(n===lf?function(e,t){return o[t]-o[e]}:function(e,t){return n(s[e],s[t])});var l=[];return f.forEach(function(e){var t;l[e]={data:s[e],value:t=o[e],startAngle:u,endAngle:u+=t*a}}),l}var t=Number,n=lf,r=0,i=ku;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var lf={};Jo.layout.stack=function(){function e(u,a){var f=u.map(function(n,r){return t.call(e,n,r)}),l=f.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),o.call(e,t,n)]})}),c=n.call(e,l,a);f=Jo.permute(f,c),l=Jo.permute(l,c);var h,p,d,v=r.call(e,l,a),m=f.length,g=f[0].length;for(p=0;g>p;++p)for(i.call(e,f[0][p],d=v[p],l[0][p][1]),h=1;m>h;++h)i.call(e,f[h][p],d+=l[h-1][p][1],l[h][p][1]);return u}var t=xt,n=ts,r=ns,i=es,s=Yi,o=Zi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:cf.get(t)||ts,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:hf.get(t)||ns,e):r},e.x=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var cf=Jo.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(rs),s=e.map(is),o=Jo.range(r).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(t=0;r>t;++t)n=o[t],a>u?(u+=s[n],f.push(n)):(a+=s[n],l.push(n));return l.reverse().concat(f)},reverse:function(e){return Jo.range(e.length).reverse()},"default":ts}),hf=Jo.map({silhouette:function(e){var t,n,r,i=e.length,s=e[0].length,o=[],u=0,a=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>u&&(u=r),o.push(r)}for(n=0;s>n;++n)a[n]=(u-o[n])/2;return a},wiggle:function(e){var t,n,r,i,s,o,u,a,f,l=e.length,c=e[0],h=c.length,p=[];for(p[0]=a=f=0,n=1;h>n;++n){for(t=0,i=0;l>t;++t)i+=e[t][n][1];for(t=0,s=0,u=c[n][0]-c[n-1][0];l>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*u);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/u;s+=o*e[t][n][1]}p[n]=a-=i?s/i*u:0,f>a&&(f=a)}for(n=0;h>n;++n)p[n]-=f;return p},expand:function(e){var t,n,r,i=e.length,s=e[0].length,o=1/i,u=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;s>n;++n)u[n]=0;return u},zero:ns});Jo.layout.histogram=function(){function e(e,s){for(var o,u,a=[],f=e.map(n,this),l=r.call(this,f,s),c=i.call(this,l,f,s),s=-1,h=f.length,p=c.length-1,d=t?1:1/h;++s<p;)o=a[s]=[],o.dx=c[s+1]-(o.x=c[s]),o.y=0;if(p>0)for(s=-1;++s<h;)u=f[s],u>=l[0]&&u<=l[1]&&(o=a[Jo.bisect(c,u,1,p)-1],o.y+=d,o.push(e[s]));return a}var t=!0,n=Number,r=as,i=os;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=St(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return us(e,t)}:St(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Jo.layout.tree=function(){function e(e,s){function o(e,t){var r=e.children,i=e._tree;if(r&&(s=r.length)){for(var s,u,f,l=r[0],c=l,h=-1;++h<s;)f=r[h],o(f,u),c=a(f,u,c),u=f;gs(e);var p=.5*(l._tree.prelim+f._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-p):i.prelim=p}else t&&(i.prelim=t._tree.prelim+n(e,t))}function u(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(r=n.length)){var r,i=-1;for(t+=e._tree.mod;++i<r;)u(n[i],t)}}function a(e,t,r){if(t){for(var i,s=e,o=e,u=t,a=e.parent.children[0],f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h=a._tree.mod;u=cs(u),s=ls(s),u&&s;)a=ls(a),o=cs(o),o._tree.ancestor=e,i=u._tree.prelim+c-s._tree.prelim-f+n(u,s),i>0&&(ys(bs(u,e,r),e,i),f+=i,l+=i),c+=u._tree.mod,f+=s._tree.mod,h+=a._tree.mod,l+=o._tree.mod;u&&!cs(o)&&(o._tree.thread=u,o._tree.mod+=c-l),s&&!ls(a)&&(a._tree.thread=s,a._tree.mod+=f-h,r=e)}return r}var f=t.call(this,e,s),l=f[0];ms(l,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),o(l),u(l,-l._tree.prelim);var c=hs(l,ds),h=hs(l,ps),p=hs(l,vs),d=c.x-n(c,h)/2,v=h.x+n(h,c)/2,m=p.depth||1;return ms(l,i?function(e){e.x*=r[0],e.y=e.depth*r[1],delete e._tree}:function(e){e.x=(e.x-d)/(v-d)*r[0],e.y=e.depth/m*r[1],delete e._tree}),f}var t=Jo.layout.hierarchy().sort(null).value(null),n=fs,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},$i(e,t)},Jo.layout.pack=function(){function e(e,s){var o=n.call(this,e,s),u=o[0],a=i[0],f=i[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,ms(u,function(e){e.r=+l(e.value)}),ms(u,Ts),r){var c=r*(t?1:Math.max(2*u.r/a,2*u.r/f))/2;ms(u,function(e){e.r+=c}),ms(u,Ts),ms(u,function(e){e.r-=c})}return ks(u,a/2,f/2,t?1:1/Math.max(2*u.r/a,2*u.r/f)),o}var t,n=Jo.layout.hierarchy().sort(ws),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},$i(e,n)},Jo.layout.cluster=function(){function e(e,s){var o,u=t.call(this,e,s),a=u[0],f=0;ms(a,function(e){var t=e.children;t&&t.length?(e.x=Os(t),e.y=As(t)):(e.x=o?f+=n(e,o):0,e.y=0,o=e)});var l=Ms(a),c=_s(a),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;return ms(a,i?function(e){e.x=(e.x-a.x)*r[0],e.y=(a.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(a.y?e.y/a.y:1))*r[1]}),u}var t=Jo.layout.hierarchy().sort(null).value(null),n=fs,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},$i(e,t)},Jo.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,s=e.length;++i<s;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var s=n.children;if(s&&s.length){var o,u,a,f=c(n),l=[],h=s.slice(),d=1/0,v="slice"===p?f.dx:"dice"===p?f.dy:"slice-dice"===p?1&n.depth?f.dy:f.dx:Math.min(f.dx,f.dy);for(e(h,f.dx*f.dy/n.value),l.area=0;(a=h.length)>0;)l.push(o=h[a-1]),l.area+=o.area,"squarify"!==p||(u=r(l,v))<=d?(h.pop(),d=u):(l.area-=l.pop().area,i(l,v,f,!1),v=Math.min(f.dx,f.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,v,f,!0),l.length=l.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s,o=c(t),u=r.slice(),a=[];for(e(u,o.dx*o.dy/t.value),a.area=0;s=u.pop();)a.push(s),a.area+=s.area,null!=s.z&&(i(a,s.z?o.dx:o.dy,o,!u.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,s=1/0,o=-1,u=e.length;++o<u;)(n=e[o].area)&&(s>n&&(s=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*s*d)):1/0}function i(e,t,n,r){var i,s=-1,o=e.length,u=n.x,f=n.y,l=t?a(e.area/t):0;if(t==n.dx){for((r||l>n.dy)&&(l=n.dy);++s<o;)i=e[s],i.x=u,i.y=f,i.dy=l,u+=i.dx=Math.min(n.x+n.dx-u,l?a(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-u,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++s<o;)i=e[s],i.x=u,i.y=f,i.dx=l,f+=i.dy=Math.min(n.y+n.dy-f,l?a(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-f,n.x+=l,n.dx-=l}}function s(r){var i=o||u(r),s=i[0];return s.x=0,s.y=0,s.dx=f[0],s.dy=f[1],o&&u.revalue(s),e([s],s.dx*s.dy/s.value),(o?n:t)(s),h&&(o=i),i}var o,u=Jo.layout.hierarchy(),a=Math.round,f=[1,1],l=null,c=Ds,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(f=e,s):f},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return null==n?Ds(t):Ps(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ps(t,e)}if(!arguments.length)return l;var r;return c=null==(l=e)?Ds:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(a=e?Math.round:Number,s):a!=Number},s.sticky=function(e){return arguments.length?(h=e,o=null,s):h},s.ratio=function(e){return arguments.length?(d=e,s):d},s.mode=function(e){return arguments.length?(p=e+"",s):p},$i(s,u)},Jo.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Jo.random.normal.apply(Jo,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Jo.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},Jo.scale={};var pf={floor:xt,ceil:xt};Jo.scale.linear=function(){return Rs([0,1],[0,1],pi,!1)};var df={s:1,g:1,p:1,r:1,e:1};Jo.scale.log=function(){return Ks(Jo.scale.linear().domain([0,1]),10,!0,[1,10])};var vf=Jo.format(".0e"),mf={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Jo.scale.pow=function(){return Qs(Jo.scale.linear(),1,[0,1])},Jo.scale.sqrt=function(){return Jo.scale.pow().exponent(.5)},Jo.scale.ordinal=function(){return Ys([],{t:"range",a:[[]]})},Jo.scale.category10=function(){return Jo.scale.ordinal().range(gf)},Jo.scale.category20=function(){return Jo.scale.ordinal().range(yf)},Jo.scale.category20b=function(){return Jo.scale.ordinal().range(bf)},Jo.scale.category20c=function(){return Jo.scale.ordinal().range(wf)};var gf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pt),yf=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pt),bf=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pt),wf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pt);Jo.scale.quantile=function(){return Zs([],[])},Jo.scale.quantize=function(){return eo(0,1,[0,1])},Jo.scale.threshold=function(){return to([.5],[0,1])},Jo.scale.identity=function(){return no([0,1])},Jo.svg={},Jo.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),o=r.apply(this,arguments)+Ef,u=i.apply(this,arguments)+Ef,a=(o>u&&(a=o,o=u,u=a),u-o),f=Cu>a?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=Sf?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+f+",0 "+e*l+","+e*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var t=ro,n=io,r=so,i=oo;return e.innerRadius=function(n){return arguments.length?(t=St(n),e):t},e.outerRadius=function(t){return arguments.length?(n=St(t),e):n},e.startAngle=function(t){return arguments.length?(r=St(t),e):r},e.endAngle=function(t){return arguments.length?(i=St(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+Ef;return[Math.cos(s)*e,Math.sin(s)*e]},e};var Ef=-Lu,Sf=ku-Au;Jo.svg.line=function(){return uo(xt)};var xf=Jo.map({linear:ao,"linear-closed":fo,step:lo,"step-before":co,"step-after":ho,basis:bo,"basis-open":wo,"basis-closed":Eo,bundle:So,cardinal:mo,"cardinal-open":po,"cardinal-closed":vo,monotone:Lo});xf.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Tf=[0,2/3,1/3,0],Nf=[0,1/3,2/3,0],Cf=[0,1/6,2/3,1/6];Jo.svg.line.radial=function(){var e=uo(Ao);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},co.reverse=ho,ho.reverse=co,Jo.svg.area=function(){return Oo(xt)},Jo.svg.area.radial=function(){var e=Oo(Ao);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Jo.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(n(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=u.call(e,i,r),o=a.call(e,i,r)+Ef,l=f.call(e,i,r)+Ef;return{r:s,a0:o,a1:l,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(l),s*Math.sin(l)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Cu)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=dr,o=vr,u=Mo,a=so,f=oo;return e.radius=function(t){return arguments.length?(u=St(t),e):u},e.source=function(t){return arguments.length?(s=St(t),e):s},e.target=function(t){return arguments.length?(o=St(t),e):o},e.startAngle=function(t){return arguments.length?(a=St(t),e):a},e.endAngle=function(t){return arguments.length?(f=St(t),e):f},e},Jo.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(r),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=dr,n=vr,r=_o;return e.source=function(n){return arguments.length?(t=St(n),e):t},e.target=function(t){return arguments.length?(n=St(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},Jo.svg.diagonal.radial=function(){var e=Jo.svg.diagonal(),t=_o,n=e.projection;return e.projection=function(e){return arguments.length?n(Do(t=e)):t},e},Jo.svg.symbol=function(){function e(e,r){return(kf.get(t.call(this,e,r))||Bo)(n.call(this,e,r))}var t=Ho,n=Po;return e.type=function(n){return arguments.length?(t=St(n),e):t},e.size=function(t){return arguments.length?(n=St(t),e):n},e};var kf=Jo.map({circle:Bo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Mf)),n=t*Mf;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Of),n=t*Of/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Of),n=t*Of/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});Jo.svg.symbolTypes=kf.keys();var Lf,Af,Of=Math.sqrt(3),Mf=Math.tan(30*Mu),_f=[],Df=0;_f.call=yu.call,_f.empty=yu.empty,_f.node=yu.node,_f.size=yu.size,Jo.transition=function(e){return arguments.length?Lf?e.transition():e:Eu.transition()},Jo.transition.prototype=_f,_f.select=function(e){var t,n,r,i=this.id,s=[];e=E(e);for(var o=-1,u=this.length;++o<u;){s.push(t=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)(r=a[f])&&(n=e.call(r,r.__data__,f,o))?("__data__"in r&&(n.__data__=r.__data__),qo(n,f,i,r.__transition__[i]),t.push(n)):t.push(null)}return jo(s,i)},_f.selectAll=function(e){var t,n,r,i,s,o=this.id,u=[];e=S(e);for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(r=l[c]){s=r.__transition__[o],n=e.call(r,r.__data__,c,a),u.push(t=[]);for(var p=-1,d=n.length;++p<d;)(i=n[p])&&qo(i,p,o,s),t.push(i)}return jo(u,o)},_f.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=D(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]);for(var n=this[s],u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return jo(i,this.id)},_f.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):H(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},_f.attr=function(e,t){function n(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(u);return n!==e&&(t=o(n,e),function(e){this.setAttribute(u,t(e))})})}function s(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(u.space,u.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(u.space,u.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Bi:pi,u=Jo.ns.qualify(e);return Fo(this,"attr."+e,t,u.local?s:i)},_f.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=Jo.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},_f.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=Zo.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=pi(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof e){2>s&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Fo(this,"style."+e,t,i)},_f.styleTween=function(e,t,n){function r(r,i){var s=t.call(this,r,i,Zo.getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},_f.text=function(e){return Fo(this,"text",e,Io)},_f.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},_f.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Jo.ease.apply(Jo,arguments)),H(this,function(n){n.__transition__[t].ease=e}))},_f.delay=function(e){var t=this.id;return H(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},_f.duration=function(e){var t=this.id;return H(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},_f.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Af,i=Lf;Lf=n,H(this,function(t,r,i){Af=t.__transition__[n],e.call(t,t.__data__,r,i)}),Af=r,Lf=i}else H(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Jo.dispatch("start","end"))).on(e,t)});return this},_f.transition=function(){for(var e,t,n,r,i=this.id,s=++Df,o=[],u=0,a=this.length;a>u;u++){o.push(e=[]);for(var t=this[u],f=0,l=t.length;l>f;f++)(n=t[f])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,qo(n,f,s,r)),e.push(n)}return jo(o,s)},Jo.svg.axis=function(){function e(e){e.each(function(){var e,f=Jo.select(this),l=this.__chart__||n,c=this.__chart__=n.copy(),h=null==a?c.ticks?c.ticks.apply(c,u):c.domain():a,p=null==t?c.tickFormat?c.tickFormat.apply(c,u):xt:t,d=f.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Au),m=Jo.transition(d.exit()).style("opacity",Au).remove(),g=Jo.transition(d).style("opacity",1),y=Bs(c),b=f.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Jo.transition(b));v.append("line"),v.append("text");var E=v.select("line"),S=g.select("line"),x=d.select("text").text(p),T=v.select("text"),N=g.select("text");switch(r){case"bottom":e=Ro,E.attr("y2",i),T.attr("y",Math.max(i,0)+o),S.attr("x2",0).attr("y2",i),N.attr("x",0).attr("y",Math.max(i,0)+o),x.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+s+"V0H"+y[1]+"V"+s);break;case"top":e=Ro,E.attr("y2",-i),T.attr("y",-(Math.max(i,0)+o)),S.attr("x2",0).attr("y2",-i),N.attr("x",0).attr("y",-(Math.max(i,0)+o)),x.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+ -s+"V0H"+y[1]+"V"+ -s);break;case"left":e=Uo,E.attr("x2",-i),T.attr("x",-(Math.max(i,0)+o)),S.attr("x2",-i).attr("y2",0),N.attr("x",-(Math.max(i,0)+o)).attr("y",0),x.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+ -s+","+y[0]+"H0V"+y[1]+"H"+ -s);break;case"right":e=Uo,E.attr("x2",i),T.attr("x",Math.max(i,0)+o),S.attr("x2",i).attr("y2",0),N.attr("x",Math.max(i,0)+o).attr("y",0),x.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+s+","+y[0]+"H0V"+y[1]+"H"+s)}if(c.rangeBand){var C=c,k=C.rangeBand()/2;l=c=function(e){return C(e)+k}}else l.rangeBand?l=c:m.call(e,c);v.call(e,l),g.call(e,c)})}var t,n=Jo.scale.linear(),r=Pf,i=6,s=6,o=3,u=[10],a=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Hf?t+"":Pf,e):r},e.ticks=function(){return arguments.length?(u=arguments,e):u},e.tickValues=function(t){return arguments.length?(a=t,e):a},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,s=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(s=+t,e):s},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Pf="bottom",Hf={top:1,right:1,bottom:1,left:1};Jo.svg.brush=function(){function e(s){s.each(function(){var s=Jo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=s.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=s.selectAll(".resize").data(d,xt);u.exit().remove(),u.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Bf[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",e.empty()?"none":null);var l,c=Jo.transition(s),h=Jo.transition(o);a&&(l=Bs(a),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(c)),f&&(l=Bs(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(c)),t(c)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+l[+/e$/.test(e)]+","+c[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",l[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(e){e.select(".extent").attr("y",c[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function i(){function i(){32==Jo.event.keyCode&&(L||(b=null,O[0]-=l[1],O[1]-=c[1],L=2),g())}function d(){32==Jo.event.keyCode&&2==L&&(O[0]+=l[1],O[1]+=c[1],L=0,g())}function v(){var e=Jo.mouse(E),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),L||(Jo.event.altKey?(b||(b=[(l[0]+l[1])/2,(c[0]+c[1])/2]),O[0]=l[+(e[0]<b[0])],O[1]=c[+(e[1]<b[1])]):b=null),C&&m(e,a,0)&&(n(T),i=!0),k&&m(e,f,1)&&(r(T),i=!0),i&&(t(T),x({type:"brush",mode:L?"move":"resize"}))}function m(e,t,n){var r,i,u=Bs(t),a=u[0],f=u[1],d=O[n],v=n?c:l,m=v[1]-v[0];return L&&(a-=d,f-=m+d),r=(n?p:h)?Math.max(a,Math.min(f,e[n])):e[n],L?i=(r+=d)+m:(b&&(d=Math.max(a,Math.min(f,2*b[n]-r))),r>d?(i=r,r=d):i=d),v[0]!=r||v[1]!=i?(n?o=null:s=null,v[0]=r,v[1]=i,!0):void 0}function y(){v(),T.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Jo.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}var b,w,E=this,S=Jo.select(Jo.event.target),x=u.of(E,arguments),T=Jo.select(E),N=S.datum(),C=!/^(n|s)$/.test(N)&&a,k=!/^(e|w)$/.test(N)&&f,L=S.classed("extent"),A=U(),O=Jo.mouse(E),M=Jo.select(Zo).on("keydown.brush",i).on("keyup.brush",d);if(Jo.event.changedTouches?M.on("touchmove.brush",v).on("touchend.brush",y):M.on("mousemove.brush",v).on("mouseup.brush",y),T.interrupt().selectAll("*").interrupt(),L)O[0]=l[0]-O[0],O[1]=c[0]-O[1];else if(N){var _=+/w$/.test(N),D=+/^n/.test(N);w=[l[1-_]-O[0],c[1-D]-O[1]],O[0]=l[_],O[1]=c[D]}else Jo.event.altKey&&(b=O.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),Jo.select("body").style("cursor",S.style("cursor")),x({type:"brushstart"}),v()}var s,o,u=b(e,"brushstart","brush","brushend"),a=null,f=null,l=[0,0],c=[0,0],h=!0,p=!0,d=jf[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:l,y:c,i:s,j:o},n=this.__chart__||t;this.__chart__=t,Lf?Jo.select(this).transition().each("start.brush",function(){s=n.i,o=n.j,l=n.x,c=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=di(l,t.x),r=di(c,t.y);return s=o=null,function(i){l=t.x=n(i),c=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=t.i,o=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(a=t,d=jf[!a<<1|!f],e):a},e.y=function(t){return arguments.length?(f=t,d=jf[!a<<1|!f],e):f},e.clamp=function(t){return arguments.length?(a&&f?(h=!!t[0],p=!!t[1]):a?h=!!t:f&&(p=!!t),e):a&&f?[h,p]:a?h:f?p:null},e.extent=function(t){var n,r,i,u,h;return arguments.length?(a&&(n=t[0],r=t[1],f&&(n=n[0],r=r[0]),s=[n,r],a.invert&&(n=a(n),r=a(r)),n>r&&(h=n,n=r,r=h),(n!=l[0]||r!=l[1])&&(l=[n,r])),f&&(i=t[0],u=t[1],a&&(i=i[1],u=u[1]),o=[i,u],f.invert&&(i=f(i),u=f(u)),i>u&&(h=i,i=u,u=h),(i!=c[0]||u!=c[1])&&(c=[i,u])),e):(a&&(s?(n=s[0],r=s[1]):(n=l[0],r=l[1],a.invert&&(n=a.invert(n),r=a.invert(r)),n>r&&(h=n,n=r,r=h))),f&&(o?(i=o[0],u=o[1]):(i=c[0],u=c[1],f.invert&&(i=f.invert(i),u=f.invert(u)),i>u&&(h=i,i=u,u=h))),a&&f?[[n,i],[r,u]]:a?[n,r]:f&&[i,u])},e.clear=function(){return e.empty()||(l=[0,0],c=[0,0],s=o=null),e},e.empty=function(){return!!a&&l[0]==l[1]||!!f&&c[0]==c[1]},Jo.rebind(e,u,"on")};var Bf={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},jf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ff=ra.format=fa.timeFormat,If=Ff.utc,qf=If("%Y-%m-%dT%H:%M:%S.%LZ");Ff.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?zo:qf,zo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},zo.toString=qf.toString,ra.second=Ht(function(e){return new ia(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ra.seconds=ra.second.range,ra.seconds.utc=ra.second.utc.range,ra.minute=Ht(function(e){return new ia(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ra.minutes=ra.minute.range,ra.minutes.utc=ra.minute.utc.range,ra.hour=Ht(function(e){var t=e.getTimezoneOffset()/60;return new ia(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ra.hours=ra.hour.range,ra.hours.utc=ra.hour.utc.range,ra.month=Ht(function(e){return e=ra.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ra.months=ra.month.range,ra.months.utc=ra.month.utc.range;var Rf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Uf=[[ra.second,1],[ra.second,5],[ra.second,15],[ra.second,30],[ra.minute,1],[ra.minute,5],[ra.minute,15],[ra.minute,30],[ra.hour,1],[ra.hour,3],[ra.hour,6],[ra.hour,12],[ra.day,1],[ra.day,2],[ra.week,1],[ra.month,1],[ra.month,3],[ra.year,1]],zf=Ff.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Tn]]),Wf={range:function(e,t,n){return Jo.range(+e,+t,n).map(Xo)},floor:xt,ceil:xt};Uf.year=ra.year,ra.scale=function(){return Wo(Jo.scale.linear(),Uf,zf)};var Xf=Uf.map(function(e){return[e[0].utc,e[1]]}),Vf=If.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Tn]]);Xf.year=ra.year.utc,ra.scale.utc=function(){return Wo(Jo.scale.linear(),Xf,Vf)},Jo.text=Tt(function(e){return e.responseText}),Jo.json=function(e,t){return Nt(e,"application/json",Vo,t)},Jo.html=function(e,t){return Nt(e,"text/html",$o,t)},Jo.xml=Tt(function(e){return e.responseXML}),"function"==typeof n&&n.amd?n("d3",Jo):"object"==typeof module&&module.exports?module.exports=Jo:this.d3=Jo}(),n("views/scenarioGraph",["jquery","underscore","backbone","d3","foundation","views/abstract"],function(e,t,n,r,i,s){"use strict";var o=s.extend({minHeight:300,minWidth:400,doLog:!1,logPrefix:"--+-- ScenarioGraphView > ",initialize:function(){o.__super__.initialize.apply(this,arguments),t.bindAll(this,"render"),this.listenTo(n,"window:resize",this.render)},render:function(){this.log("render");if(this.model){this.$el.find("svg").remove();var e=this.model.getData(),t=this.$el.closest("#panel-scenario").height();this.$el.height(t),r.select(this.el).datum(e).call(this.renderBarGraph().width(this.getGraphSize().width).height(this.getGraphSize().height).x(function(e,t){return e[0]}).y(function(e,t){return e[1]}))}},setModel:function(e){this.model=e,this.render()},getGraphSize:function(){var e=15,t=!1,n=!1,r=this.$el.width()-e,i=this.$el.height()-e;return r<this.minWidth&&(r=this.minWidth,t=!0),i<this.minHeight&&(i=this.minHeight,n=!0),t&&!n?i-=e:!t&&n&&(r-=e),this.log("getGraphSize, w:",r,", h:",i,", this.$el.width():",this.$el.width(),", this.$el.height():",this.$el.height()),{width:r,height:i}},renderBarGraph:function(){function p(p){p.each(function(p){p=p.map(function(e,t){return h.push(e[0]),c.push(e[1]),[s.call(p,e,t),o.call(p,e,t)]});var g=r.select(this).selectAll("svg").data([p]),y=g.enter().append("svg").attr("class","bargraph").append("g"),b=g[0][0],w=r.min(c),E=r.max(c),S=r.max(h.map(function(e){var t=document.createTextNode(e),n=document.createElementNS("http://www.w3.org/2000/svg","text"),r;return n.appendChild(t),b.appendChild(n),r=n.getComputedTextLength(),b.removeChild(n),r}));S>e.bottom&&(e.bottom=S+5),w>0&&(w=0),E<0&&(E=0),u.domain(p.map(function(e){return e[0]})).rangeRoundBands([0,t-e.left-e.right],i),a.domain([w,E]).range([n-e.top-e.bottom,0]).nice(),y.append("g").attr("class","background"),y.append("g").attr("class","grid"),y.append("g").attr("class","bars"),y.append("g").attr("class","barlabels"),y.append("g").attr("class","y axis"),y.append("g").attr("class","x axis"),y.append("g").attr("class","x axis zero"),g.attr("width",t).attr("height",n);var x=g.select("g").attr("transform","translate("+e.left+","+e.top+")"),T=x.select(".background").append("rect");T.attr({width:t-e.left-e.right,height:n-e.top-e.bottom});var N=x.select(".grid").selectAll(".gridLine").data(p);N.enter().append("line"),N.attr({"class":"gridLine",x1:function(e){return d(e)+u.rangeBand()/2},x2:function(e){return d(e)+u.rangeBand()/2},y1:0,y2:n-e.top-e.bottom});var C=g.select(".bars").selectAll(".bar").data(p);C.enter().append("rect"),C.exit().remove(),C.attr("class",function(e,t){return e[1]<0?"bar negative":"bar positive"}).attr("x",function(e){return d(e)}).attr("y",function(e){return e[1]<0?v():m(e)}).attr("width",u.rangeBand()).attr("height",function(e){return Math.abs(m(e)-v())});var k=g.select(".barlabels").selectAll(".barlabel").data(p);k.enter().append("text").attr("class","barlabel").attr("fill",function(e){return e[1]<0?"white":"black"}).attr("x",function(e){return d(e)+u.rangeBand()/2}).attr("y",function(e){return e[1]>=0?m(e)-3:m(e)-5}).text(function(e){return e[1]}),C.filter(function(e){return e[1]==0}).remove(),k.filter(function(e){return e[1]==0}).remove(),x.select(".x.axis").attr("transform","translate(0,"+(n-e.top-e.bottom)+")").call(l.orient("bottom")).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",function(e){return"rotate(-65)"}),x.select(".x.axis.zero").attr("transform","translate(0,"+v()+")").call(l.tickFormat("").tickSize(0)),x.select(".y.axis").call(f)})}function d(e){return u(e[0])}function v(){return a(0)}function m(e){return a(e[1])}var e={top:30,right:10,bottom:30,left:50},t=420,n=420,i=.2,s=function(e){return e[0]},o=function(e){return e[1]},u=r.scale.ordinal(),a=r.scale.linear(),f=r.svg.axis().scale(a).orient("left"),l=r.svg.axis().scale(u),c=[],h=[];return p.margin=function(t){return e=t,p},p.width=function(e){return t=e,p},p.height=function(e){return n=e,p},p.x=function(e){return s=e,p},p.y=function(e){return o=e,p},p}});return o}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof n&&n.amd?n("math",[],t):"object"==typeof exports?exports.math=t():e.math=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){var t=i.create(e);return t.create=r,t["import"](n(13)),t}var i=n(1);e.exports=r()},function(e,t,n){e.exports=n(2)},function(e,t,n){var r=n(3).isFactory,i=(n(3).deepExtend,n(4)),s=n(8),o=n(10),u=n(12);t.create=function(e){function t(e){if(!r(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,s=n.indexOf(e);return-1===s?(i=e.math===!0?e.factory(l.type,c,t,l.typed,l):e.factory(l.type,c,t,l.typed),n.push(e),f.push(i)):i=f[s],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],f=[],l=s.mixin({});l.type={},l.expression={transform:Object.create(l)},l.typed=i.create(l.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return l["import"]=t(o),l.config=t(u),e&&l.config(e),l}},function(e,t){"use strict";t.clone=function n(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return n(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&e.isBigNumber===!0)return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=n(e[i]));return r},t.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.deepExtend=function r(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(t.hasOwnProperty(n))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?r(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e},t.deepEqual=function(e,n){var r,i,s;if(Array.isArray(e)){if(!Array.isArray(n))return!1;if(e.length!=n.length)return!1;for(i=0,s=e.length;s>i;i++)if(!t.deepEqual(e[i],n[i]))return!1;return!0}if(e instanceof Object){if(!Array.isArray(n)&&n instanceof Object){for(r in e)if(!t.deepEqual(e[r],n[r]))return!1;for(r in n)if(!t.deepEqual(e[r],n[r]))return!1;return!0}return!1}return typeof e==typeof n&&e==n},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,n,r){if(t.canDefineProperty()){var i,s=!0;Object.defineProperty(e,n,{get:function(){return s&&(i=r(),s=!1),i},set:function(e){i=e,s=!1},configurable:!0,enumerable:!0})}else e[n]=r()},t.traverse=function(e,t){var n=e;if(t)for(var r=t.split("."),i=0;i<r.length;i++){var s=r[i];s in n||(n[s]={}),n=n[s]}return n},t.isFactory=function(e){return e&&"function"==typeof e.factory}},function(e,t,n){var r=n(5),i=n(6).digits,s=function(){return s=r.create,r};t.create=function(e){var t=s();return t.types=[{name:"number",test:function(e){return"number"==typeof e}},{name:"Complex",test:function(e){return e&&e.isComplex}},{name:"BigNumber",test:function(e){return e&&e.isBigNumber}},{name:"Fraction",test:function(e){return e&&e.isFraction}},{name:"Unit",test:function(e){return e&&e.isUnit}},{name:"string",test:function(e){return"string"==typeof e}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(e){return e&&e.isMatrix}},{name:"DenseMatrix",test:function(e){return e&&e.isDenseMatrix}},{name:"SparseMatrix",test:function(e){return e&&e.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(e){return e&&e.isImmutableDenseMatrix}},{name:"Range",test:function(e){return e&&e.isRange}},{name:"Index",test:function(e){return e&&e.isIndex}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"ResultSet",test:function(e){return e&&e.isResultSet}},{name:"Help",test:function(e){return e&&e.isHelp}},{name:"function",test:function(e){return"function"==typeof e}},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new e.Complex(t,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new e.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new e.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new e.Fraction(t)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(t){return new e.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new e.Fraction(+t)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new e.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new e.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(t){return new e.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],t}},function(e,t,n){var r,i,s;!function(n,o){i=[],r=o,s="function"==typeof r?r.apply(t,i):r,void 0===s||!(e.exports=s)}(this,function(){function e(){function t(e){for(var t,n=0;n<T.types.length;n++){var r=T.types[n];if(r.name===e){t=r.test;break}}if(!t){var i;for(n=0;n<T.types.length;n++)if(r=T.types[n],r.name.toLowerCase()==e.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+e+'"'+(i?'. Did you mean "'+i+'"?':""))}return t}function n(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(r.signatures&&""!=r.name)if(""==t)t=r.name;else if(t!=r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function r(e,t,n,r,i){var s,o=v(r),u=i?i.split(","):null,a=e||"unnamed",f=u&&m(u,"any"),l={fn:e,index:n,actual:r,expected:u};s=u?t>n&&!f?"Unexpected type of argument in function "+a+" (expected: "+u.join(" or ")+", actual: "+o+", index: "+n+")":"Too few arguments in function "+a+" (expected: "+u.join(" or ")+", index: "+n+")":"Too many arguments in function "+a+" (expected: "+n+", actual: "+t+")";var c=new TypeError(s);return c.data=l,c}function i(e){this.name=e||"refs",this.categories={}}function s(e,t){if("string"==typeof e){var n=e.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(e)){if(e instanceof s)return e.clone();throw new Error("String or Array expected")}this.types=e}this.conversions=[],this.varArgs=r||t||!1,this.anyType=-1!==this.types.indexOf("any")}function o(e,t){var n;if("string"==typeof e)n=""!==e?e.split(","):[];else{if(!Array.isArray(e))throw new Error("string or Array expected");n=e}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var r=0;r<n.length;r++){var i=new s(n[r]);if(this.params[r]=i,i.anyType&&(this.anyType=!0),r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=t}function u(e,t,n,r){this.path=e||[],this.param=e[e.length-1]||null,this.signature=t||null,this.childs=n||[],this.fallThrough=r||!1}function a(e){var t,n,r={},i=[];for(var s in e)if(e.hasOwnProperty(s)){var u=e[s];if(t=new o(s,u),t.ignore())continue;var a=t.expand();for(n=0;n<a.length;n++){var f=a[n],l=f.toString(),c=r[l];if(c){var h=o.compare(f,c);if(0>h)r[l]=f;else if(0===h)throw new Error('Signature "'+l+'" is defined twice')}else r[l]=f}}for(l in r)r.hasOwnProperty(l)&&i.push(r[l]);for(i.sort(function(e,t){return o.compare(e,t)}),n=0;n<i.length;n++)if(t=i[n],t.varArgs)for(var p=t.params.length-1,d=t.params[p],v=0;v<d.types.length;){if(d.conversions[v])for(var g=d.types[v],y=0;y<i.length;y++){var b=i[y],w=b.params[p];if(b!==t&&w&&m(w.types,g)&&!w.conversions[p]){d.types.splice(v,1),d.conversions.splice(v,1),v--;break}}v++}return i}function f(e){for(var t=[],n=0;n<e.length;n++)e[n].anyType&&t.push(e[n]);return t}function l(e){for(var t={},n=0;n<e.length;n++){var r=e[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");t[i]=r.fn}}return t}function c(e,t,n){var r,i,o,a=t.length,f=[];for(r=0;r<e.length;r++)i=e[r],i.params.length!==a||o||(o=i),void 0!=i.params[a]&&f.push(i);f.sort(function(e,t){return s.compare(e.params[a],t.params[a])});var l=[];for(r=0;r<f.length;r++){i=f[r];var h=i.params[a],p=l.filter(function(e){return e.param.overlapping(h)})[0];if(p){if(p.param.varArgs)throw new Error('Conflicting types "'+p.param+'" and "'+h+'"');p.signatures.push(i)}else l.push({param:h,signatures:[i]})}var d=[];for(r=0;r<n.length;r++)n[r].paramsStartWith(t)&&d.push(n[r]);var v=!1;for(r=0;r<d.length;r++)if(!m(e,d[r])){v=!0;break}var g=new Array(l.length);for(r=0;r<l.length;r++){var y=l[r];g[r]=c(y.signatures,t.concat(y.param),d)}return new u(t,o,g,v)}function h(e){for(var t=[],n=0;e>n;n++)t[n]="arg"+n;return t}function p(e,t){var n=new i,s=a(t);if(0==s.length)throw new Error("No signatures provided");var o=f(s),u=c(s,[],o),p=[],v=e||"",m=h(d(s));p.push("function "+v+"("+m.join(", ")+") {"),p.push('  "use strict";'),p.push("  var name = '"+v+"';"),p.push(u.toCode(n,"  ",!1)),p.push("}");var g=[n.toCode(),"return "+p.join("\n")].join("\n"),y=new Function(n.name,"createError",g),b=y(n,r);return b.signatures=l(s),b}function d(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].params.length;r>t&&(t=r)}return t}function v(e){for(var t,n=0;n<T.types.length;n++){var r=T.types[n];if("Object"===r.name)t=r;else if(r.test(e))return r.name}return t&&t.test(e)?t.name:"unknown"}function m(e,t){return-1!==e.indexOf(t)}function g(e){return e[e.length-1]}function y(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),s=e.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")}function b(e,t){var n=v(e);if(t===n)return e;for(var r=0;r<T.conversions.length;r++){var i=T.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)}i.prototype.add=function(e,t){var n=t||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(e);return-1==r&&(r=this.categories[n].length,this.categories[n].push(e)),n+r},i.prototype.toCode=function(){var e=[],t=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],s=0;s<i.length;s++)e.push("var "+r+s+" = "+t+"['"+r+"']["+s+"];");return e.join("\n")},s.compare=function(e,t){if(e.anyType)return 1;if(t.anyType)return-1;if(m(e.types,"Object"))return 1;if(m(t.types,"Object"))return-1;if(e.hasConversions()){if(t.hasConversions()){var n,r,i;for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){r=e.conversions[n];break}for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){i=t.conversions[n];break}return T.conversions.indexOf(r)-T.conversions.indexOf(i)}return 1}if(t.hasConversions())return-1;var s,o;for(n=0;n<T.types.length;n++)if(T.types[n].name===e.types[0]){s=n;break}for(n=0;n<T.types.length;n++)if(T.types[n].name===t.types[0]){o=n;break}return s-o},s.prototype.overlapping=function(e){for(var t=0;t<this.types.length;t++)if(m(e.types,this.types[t]))return!0;return!1},s.prototype.matches=function(e){return this.anyType||e.anyType||this.overlapping(e)},s.prototype.clone=function(){var e=new s(this.types.slice(),this.varArgs);return e.conversions=this.conversions.slice(),e},s.prototype.hasConversions=function(){return this.conversions.length>0},s.prototype.contains=function(e){for(var t=0;t<this.types.length;t++)if(e[this.types[t]])return!0;return!1},s.prototype.toString=function(e){for(var t=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],s=e&&i?i.to:this.types[r];s in n||(n[s]=!0,t.push(s))}return(this.varArgs?"...":"")+t.join("|")},o.prototype.clone=function(){return new o(this.params.slice(),this.fn)},o.prototype.expand=function(){function e(n,r){if(r.length<n.params.length){var i,u,a,f=n.params[r.length];if(f.varArgs){for(u=f.clone(),i=0;i<T.conversions.length;i++)if(a=T.conversions[i],!m(f.types,a.from)&&m(f.types,a.to)){var l=u.types.length;u.types[l]=a.from,u.conversions[l]=a}e(n,r.concat(u))}else{for(i=0;i<f.types.length;i++)e(n,r.concat(new s(f.types[i])));for(i=0;i<T.conversions.length;i++)a=T.conversions[i],!m(f.types,a.from)&&m(f.types,a.to)&&(u=new s(a.from),u.conversions[0]=a,e(n,r.concat(u)))}}else t.push(new o(r,n.fn))}var t=[];return e(this,[]),t},o.compare=function(e,t){if(e.params.length>t.params.length)return 1;if(e.params.length<t.params.length)return-1;var n,r=e.params.length,i=0,o=0;for(n=0;r>n;n++)e.params[n].hasConversions()&&i++,t.params[n].hasConversions()&&o++;if(i>o)return 1;if(o>i)return-1;for(n=0;n<e.params.length;n++){var u=s.compare(e.params[n],t.params[n]);if(0!==u)return u}return 0},o.prototype.hasConversions=function(){for(var e=0;e<this.params.length;e++)if(this.params[e].hasConversions())return!0;return!1},o.prototype.ignore=function(){for(var e={},t=0;t<T.ignore.length;t++)e[T.ignore[t]]=!0;for(t=0;t<this.params.length;t++)if(this.params[t].contains(e))return!0;return!1},o.prototype.paramsStartWith=function(e){if(0===e.length)return!0;for(var t=g(this.params),n=g(e),r=0;r<e.length;r++){var i=this.params[r]||(t.varArgs?t:null),s=e[r]||(n.varArgs?n:null);if(!i||!s||!i.matches(s))return!1}return!0},o.prototype.toCode=function(e,t){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var s=this.params[i],o=s.conversions[0];s.varArgs?r[i]="varArgs":o?r[i]=e.add(o.convert,"convert")+"(arg"+i+")":r[i]="arg"+i}var u=this.fn?e.add(this.fn,"signature"):void 0;return u?t+"return "+u+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},o.prototype.toString=function(){return this.params.join(", ")},u.prototype.toCode=function(e,n){var r=[];if(this.param){var i=this.path.length-1,s=this.param.conversions[0],o="// type: "+(s?s.from+" (convert to "+s.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)r.push(n+"if (arguments.length > "+i+") {"),r.push(n+"  var varArgs = [];"),r.push(n+"  for (var i = "+i+"; i < arguments.length; i++) {"),r.push(n+"    varArgs.push(arguments[i]);"),r.push(n+"  }"),r.push(this.signature.toCode(e,n+"  ")),r.push(n+"}");else{for(var u=function(n,r){for(var i=[],s=0;s<n.length;s++)i[s]=e.add(t(n[s]),"test")+"("+r+")";return i.join(" || ")}.bind(this),a=this.param.types,f=[],l=0;l<a.length;l++)void 0===this.param.conversions[l]&&f.push(a[l]);r.push(n+"if ("+u(a,"arg"+i)+") { "+o),r.push(n+"  var varArgs = [arg"+i+"];"),r.push(n+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),r.push(n+"    if ("+u(f,"arguments[i]")+") {"),r.push(n+"      varArgs.push(arguments[i]);");for(var l=0;l<a.length;l++){var c=this.param.conversions[l];if(c){var h=e.add(t(a[l]),"test"),p=e.add(c.convert,"convert");r.push(n+"    }"),r.push(n+"    else if ("+h+"(arguments[i])) {"),r.push(n+"      varArgs.push("+p+"(arguments[i]));")}}r.push(n+"    } else {"),r.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+f.join(",")+"');"),r.push(n+"    }"),r.push(n+"  }"),r.push(this.signature.toCode(e,n+"  ")),r.push(n+"}")}else if(this.param.anyType)r.push(n+"// type: any"),r.push(this._innerCode(e,n));else{var d=this.param.types[0],h="any"!==d?e.add(t(d),"test"):null;r.push(n+"if ("+h+"(arg"+i+")) { "+o),r.push(this._innerCode(e,n+"  ")),r.push(n+"}")}}else r.push(this._innerCode(e,n));return r.join("\n")},u.prototype._innerCode=function(e,t){var n,r=[];for(this.signature&&(r.push(t+"if (arguments.length === "+this.path.length+") {"),r.push(this.signature.toCode(e,t+"  ")),r.push(t+"}")),n=0;n<this.childs.length;n++)r.push(this.childs[n].toCode(e,t));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(e,t);i&&r.push(i)}return r.join("\n")},u.prototype._exceptions=function(e,t){var n=this.path.length;if(0===this.childs.length)return[t+"if (arguments.length > "+n+") {",t+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",t+"}"].join("\n");for(var r={},i=[],s=0;s<this.childs.length;s++){var o=this.childs[s];if(o.param)for(var u=0;u<o.param.types.length;u++){var a=o.param.types[u];a in r||o.param.conversions[u]||(r[a]=!0,i.push(a))}}return t+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var w=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],E={},S=[],x=[],T={config:E,types:w,conversions:S,ignore:x};return T=p("typed",{Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);var i=n(t);return p(i,e)},"string, Object":p,"...Function":function(e){for(var t,r=n(e),i={},s=0;s<e.length;s++){var o=e[s];if("object"!=typeof o.signatures)throw t=new TypeError("Function is no typed-function (index: "+s+")"),t.data={index:s},t;for(var u in o.signatures)if(o.signatures.hasOwnProperty(u))if(i.hasOwnProperty(u)){if(o.signatures[u]!==i[u])throw t=new Error('Signature "'+u+'" is defined twice'),t.data={signature:u},t}else i[u]=o.signatures[u]}return p(r,i)}}),T.config=E,T.types=w,T.conversions=S,T.ignore=x,T.create=e,T.find=y,T.convert=b,T.addType=function(e){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");T.types.push(e)},T.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");T.conversions.push(e)},T}return e()})},function(e,t,n){"use strict";var r=n(7);t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return isFinite(e)?e==Math.round(e):!1},t.sign=Math.sign||function(e){return e>0?1:0>e?-1:0},t.format=function(e,n){if("function"==typeof n)return n(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",i=void 0;switch(n&&(n.notation&&(r=n.notation),t.isNumber(n)?i=n:n.precision&&(i=n.precision)),r){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"engineering":return t.toEngineering(e,i);case"auto":return t.toPrecision(e,i,n&&n.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return(new r(e)).toExponential(t)},t.toEngineering=function(e,t){return(new r(e)).toEngineering(t)},t.toFixed=function(e,t){return(new r(e)).toFixed(t)},t.toPrecision=function(e,t,n){return(new r(e)).toPrecision(t,n)},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,t.nearlyEqual=function(e,n,r){if(null==r)return e==n;if(e==n)return!0;if(isNaN(e)||isNaN(n))return!1;if(isFinite(e)&&isFinite(n)){var i=Math.abs(e-n);return i<t.DBL_EPSILON?!0:i<=Math.max(Math.abs(e),Math.abs(n))*r}return!1}},function(e,t){"use strict";function n(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number");var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function r(e){for(var t=[],n=0;e>n;n++)t.push(0);return t}n.prototype.toEngineering=function(e){var t=this.roundDigits(e),n=t.exponent,i=t.coefficients,s=n%3===0?n:0>n?n-3-n%3:n-n%3,o=n>=0?n:Math.abs(s);i.length-1<o&&(i=i.concat(r(o-(i.length-1))));for(var u=Math.abs(n-s),a=1,f="";--u>=0;)a++;var l=i.slice(a).join(""),c=l.match(/[1-9]/)?"."+l:"";return f=i.slice(0,a).join("")+c,f+="e"+(n>=0?"+":"")+s.toString(),t.sign+f},n.prototype.toFixed=function(e){var t=this.roundDigits(this.exponent+1+(e||0)),n=t.coefficients,i=t.exponent+1,s=i+(e||0);return n.length<s&&(n=n.concat(r(s-n.length))),0>i&&(n=r(-i+1).concat(n),i=1),e&&n.splice(i,0,0===i?"0.":"."),this.sign+n.join("")},n.prototype.toExponential=function(e){var t=e?this.roundDigits(e):this.clone(),n=t.coefficients,i=t.exponent;n.length<e&&(n=n.concat(r(e-n.length)));var s=n.shift();return this.sign+s+(n.length>0?"."+n.join(""):"")+"e"+(i>=0?"+":"")+i},n.prototype.toPrecision=function(e,t){var n=t&&void 0!==t.lower?t.lower:.001,i=t&&void 0!==t.upper?t.upper:1e5,s=Math.abs(Math.pow(10,this.exponent));if(n>s||s>=i)return this.toExponential(e);var o=e?this.roundDigits(e):this.clone(),u=o.coefficients,a=o.exponent;u.length<e&&(u=u.concat(r(e-u.length))),u=u.concat(r(a-u.length+1+(u.length<e?e-u.length:0))),u=r(-a).concat(u);var f=a>0?a:0;return f<u.length-1&&u.splice(f+1,0,"."),this.sign+u.join("")},n.prototype.clone=function(){var e=new n("0");return e.sign=this.sign,e.coefficients=this.coefficients.slice(0),e.exponent=this.exponent,e},n.prototype.roundDigits=function(e){for(var t=this.clone(),n=t.coefficients;0>=e;)n.unshift(0),t.exponent++,e++;if(n.length>e){var r=n.splice(e,n.length-e);if(r[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),t.exponent++,i++),i--,n[i]++}}return t},e.exports=n},function(e,t,n){var r=n(9);t.mixin=function(e){var t=new r;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;o>s;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,f){function l(e,t){var n=arguments.length;if(1!=n&&2!=n)throw new u("import",n,1,2);if(t||(t={}),s(e))d(e,t);else if(Array.isArray(e))e.forEach(function(e){l(e,t)});else if("object"==typeof e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];v(i)?c(r,i,t):s(e)?d(e,t):l(i,t)}}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}function c(e,t,n){if(n.wrap&&"function"==typeof t&&(t=p(t)),m(f[e])&&m(t))return t=n.override?r(e,t.signatures):r(f[e],t),f[e]=t,h(e,t),void f.emit("import",e,function(){return t});if(void 0===f[e]||n.override)return f[e]=t,h(e,t),void f.emit("import",e,function(){return t});if(!n.silent)throw new Error('Cannot import "'+e+'": already exists')}function h(e,t){t&&"function"==typeof t.transform&&(f.expression.transform[e]=t.transform)}function p(e){var t=function(){for(var t=[],n=0,r=arguments.length;r>n;n++){var i=arguments[n];t[n]=i&&i.valueOf()}return e.apply(f,t)};return e.transform&&(t.transform=e.transform),t}function d(e,t){if("string"==typeof e.name){var s=e.name,u=e.path?o(f,e.path):f,a=u.hasOwnProperty(s)?u[s]:void 0,l=function(){var i=n(e);if(m(a)&&m(i))return t.override||(i=r(a,i)),i;if(void 0===a||t.override)return i;if(!t.silent)throw new Error('Cannot import "'+s+'": already exists')};e.lazy!==!1?i(u,s,l):u[s]=l(),f.emit("import",s,l,e.path)}else n(e)}function v(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&e.isUnit===!0||e&&e.isComplex===!0||e&&e.isBigNumber===!0||e&&e.isFraction===!0||e&&e.isMatrix===!0||e&&Array.isArray(e)===!0}function m(e){return"function"==typeof e&&"object"==typeof e.signatures}return l}var i=n(3).lazy,s=n(3).isFactory,o=n(3).traverse,u=(n(3).extend,n(11));t.math=!0,t.name="import",t.factory=r,t.lazy=!0},function(e,t){"use strict";function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,i){function s(e){if(e){var n=u.clone(t);o(e,"matrix",a),o(e,"number",f),u.deepExtend(t,e);var r=u.clone(t);return i.emit("config",r,n),r}return u.clone(t)}var a=["Matrix","Array"],f=["number","BigNumber","Fraction"];return s.MATRIX=a,s.NUMBER=f,s}function i(e,t){return-1!==e.indexOf(t)}function s(e,t){return e.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())}function o(e,t,n){if(void 0!==e[t]&&!i(n,e[t])){var r=s(n,e[t]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+n[r]+'" instead of "'+e[t]+'".'),e[t]=n[r]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}var u=n(3);t.name="config",t.math=!0,t.factory=r},function(e,t,n){e.exports=[n(14),n(100),n(102),n(339),n(506),n(508)]},function(e,t,n){e.exports=[n(15),n(20),n(21),n(26),n(33),n(37),n(70),n(71),n(73),n(74)]},function(e,t,n){e.exports=[n(16),n(18)]},function(e,t,n){function r(e,t,n,r,s){var o=i.clone({precision:t.precision});return o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(e){return new o(e.value)},s.on("config",function(e,t){e.precision!==t.precision&&o.config({precision:e.precision})}),o}var i=n(17);t.name="BigNumber",t.path="type",t.factory=r,t.math=!0},function(e,t,n){var r;!function(i){"use strict";function s(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;i>t;t++)r=e[t]+"",n=Ht-r.length,n&&(s+=m(n)),s+=r;o=e[t],r=o+"",n=Ht-r.length,n&&(s+=m(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return s+o}function o(e,t,n){if(e!==~~e||t>e||e>n)throw Error(Ct+e)}function u(e,t,n,r){var i,s,o,u;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=Ht,i=0):(i=Math.ceil((t+1)/Ht),t%=Ht),s=At(10,Ht-t),u=e[i]%s|0,null==r?3>t?(0==t?u=u/100|0:1==t&&(u=u/10|0),o=4>n&&99999==u||n>3&&49999==u||5e4==u||0==u):o=(4>n&&u+1==s||n>3&&u+1==s/2)&&(e[i+1]/s/100|0)==At(10,t-2)-1||(u==s/2||0==u)&&0==(e[i+1]/s/100|0):4>t?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),o=(r||4>n)&&9999==u||!r&&n>3&&4999==u):o=((r||4>n)&&u+1==s||!r&&n>3&&u+1==s/2)&&(e[i+1]/s/1e3|0)==At(10,t-3)-1,o}function a(e,t,n){for(var r,i,s=[0],o=0,u=e.length;u>o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=bt.indexOf(e.charAt(o++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}function f(e,t){var n,r,i=t.d.length;32>i?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=C(e,1,t.times(r),new e(1));for(var s=n;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}function l(e,t,n,r){var i,s,o,u,a,f,l,c,h,p=e.constructor;e:if(null!=t){if(c=e.d,!c)return e;for(i=1,u=c[0];u>=10;u/=10)i++;if(s=t-i,0>s)s+=Ht,o=t,l=c[h=0],a=l/At(10,i-o-1)%10|0;else if(h=Math.ceil((s+1)/Ht),u=c.length,h>=u){if(!r)break e;for(;u++<=h;)c.push(0);l=a=0,i=1,s%=Ht,o=s-Ht+1}else{for(l=u=c[h],i=1;u>=10;u/=10)i++;s%=Ht,o=s-Ht+i,a=0>o?0:l/At(10,i-o-1)%10|0}if(r=r||0>t||void 0!==c[h+1]||(0>o?l:l%At(10,i-o-1)),f=4>n?(a||r)&&(0==n||n==(e.s<0?3:2)):a>5||5==a&&(4==n||r||6==n&&(s>0?o>0?l/At(10,i-o):0:c[h-1])%10&1||n==(e.s<0?8:7)),1>t||!c[0])return c.length=0,f?(t-=e.e+1,c[0]=At(10,(Ht-t%Ht)%Ht),e.e=-t||0):c[0]=e.e=0,e;if(0==s?(c.length=h,u=1,h--):(c.length=h+1,u=At(10,Ht-s),c[h]=o>0?(l/At(10,i-o)%At(10,o)|0)*u:0),f)for(;;){if(0==h){for(s=1,o=c[0];o>=10;o/=10)s++;for(o=c[0]+=u,u=1;o>=10;o/=10)u++;s!=u&&(e.e++,c[0]==Pt&&(c[0]=1));break}if(c[h]+=u,c[h]!=Pt)break;c[h--]=0,u=1}for(s=c.length;0===c[--s];)c.pop()}return Tt&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function c(e,t,n){if(!e.isFinite())return S(e);var r,i=e.e,o=s(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+m(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):0>i?(o="0."+m(-i-1)+o,n&&(r=n-u)>0&&(o+=m(r))):i>=u?(o+=m(i+1-u),n&&(r=n-i-1)>0&&(o=o+"."+m(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(o+="."),o+=m(r))),o}function h(e,t){for(var n=1,r=e[0];r>=10;r/=10)n++;return n+t*Ht-1}function p(e,t,n){if(t>jt)throw Tt=!0,n&&(e.precision=n),Error(kt);return l(new e(wt),t,1,!0)}function d(e,t,n){if(t>Ft)throw Error(kt);return l(new e(Et),t,n,!0)}function v(e){var t=e.length-1,n=t*Ht+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function m(e){for(var t="";e--;)t+="0";return t}function g(e,t,n,r){var i,s=new e(1),o=Math.ceil(r/Ht+4);for(Tt=!1;;){if(n%2&&(s=s.times(t),A(s.d,o)&&(i=!0)),n=Lt(n/2),0===n){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}t=t.times(t),A(t.d,o)}return Tt=!0,s}function y(e){return 1&e.d[e.d.length-1]}function b(e,t,n){for(var r,i=new e(t[0]),s=0;++s<t.length;){if(r=new e(t[s]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function w(e,t){var n,r,i,o,a,f,c,h=0,p=0,d=0,v=e.constructor,m=v.rounding,g=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(Tt=!1,c=g):c=t,f=new v(.03125);e.e>-2;)e=e.times(f),d+=5;for(r=Math.log(At(2,d))/Math.LN10*2+5|0,c+=r,n=o=a=new v(1),v.precision=c;;){if(o=l(o.times(e),c,1),n=n.times(++p),f=a.plus(qt(o,n,c,1)),s(f.d).slice(0,c)===s(a.d).slice(0,c)){for(i=d;i--;)a=l(a.times(a),c,1);if(null!=t)return v.precision=g,a;if(!(3>h&&u(a.d,c-r,m,h)))return l(a,v.precision=g,m,Tt=!0);v.precision=c+=10,n=o=f=new v(1),p=0,h++}a=f}}function E(e,t){var n,r,i,o,a,f,c,h,d,v,m,g=1,y=10,b=e,w=b.d,S=b.constructor,x=S.rounding,T=S.precision;if(b.s<0||!w||!w[0]||!b.e&&1==w[0]&&1==w.length)return new S(w&&!w[0]?-1/0:1!=b.s?NaN:w?0:b);if(null==t?(Tt=!1,d=T):d=t,S.precision=d+=y,n=s(w),r=n.charAt(0),!(Math.abs(o=b.e)<15e14))return h=p(S,d+2,T).times(o+""),b=E(new S(r+"."+n.slice(1)),d-y).plus(h),S.precision=T,null==t?l(b,T,x,Tt=!0):b;for(;7>r&&1!=r||1==r&&n.charAt(1)>3;)b=b.times(e),n=s(b.d),r=n.charAt(0),g++;for(o=b.e,r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1)),v=b,c=a=b=qt(b.minus(1),b.plus(1),d,1),m=l(b.times(b),d,1),i=3;;){if(a=l(a.times(m),d,1),h=c.plus(qt(a,new S(i),d,1)),s(h.d).slice(0,d)===s(c.d).slice(0,d)){if(c=c.times(2),0!==o&&(c=c.plus(p(S,d+2,T).times(o+""))),c=qt(c,new S(g),d,1),null!=t)return S.precision=T,c;if(!u(c.d,d-y,x,f))return l(c,S.precision=T,x,Tt=!0);S.precision=d+=y,h=a=b=qt(v.minus(1),v.plus(1),d,1),m=l(b.times(b),d,1),i=f=1}c=h,i+=2}}function S(e){return String(e.s*e.s/0)}function x(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Ht,0>n&&(r+=Ht),i>r){for(r&&e.d.push(+t.slice(0,r)),i-=Ht;i>r;)e.d.push(+t.slice(r,r+=Ht));t=t.slice(r),r=Ht-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),Tt&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function T(e,t){var n,r,i,s,o,u,f,l,c;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Mt.test(t))n=16,t=t.toLowerCase();else if(Ot.test(t))n=2;else{if(!_t.test(t))throw Error(Ct+t);n=8}for(s=t.search(/p/i),s>0?(f=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),o=s>=0,r=e.constructor,o&&(t=t.replace(".",""),u=t.length,s=u-s,i=g(r,new r(n),s,2*s)),l=a(t,n,Pt),c=l.length-1,s=c;0===l[s];--s)l.pop();return 0>s?new r(0*e.s):(e.e=h(l,c),e.d=l,Tt=!1,o&&(e=qt(e,i,4*u)),f&&(e=e.times(Math.abs(f)<54?Math.pow(2,f):St.pow(2,f))),Tt=!0,e)}function N(e,t){var n,r=t.d.length;if(3>r)return C(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:0|n,t=t.times(Math.pow(5,-n)),t=C(e,2,t,t);for(var i,s=new e(5),o=new e(16),u=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(o.times(i).minus(u))));return t}function C(e,t,n,r,i){var s,o,u,a,f=1,l=e.precision,c=Math.ceil(l/Ht);for(Tt=!1,a=n.times(n),u=new e(r);;){if(o=qt(u.times(a),new e(t++*t++),l,1),u=i?r.plus(o):r.minus(o),r=qt(o.times(a),new e(t++*t++),l,1),o=u.plus(r),void 0!==o.d[c]){for(s=c;o.d[s]===u.d[s]&&s--;);if(-1==s)break}s=u,u=r,r=o,o=s,f++}return Tt=!0,o.d.length=c+1,o}function k(e,t){var n,r=t.s<0,i=d(e,e.precision,1),s=i.times(.5);if(t=t.abs(),t.lte(s))return mt=r?4:1,t;if(n=t.divToInt(i),n.isZero())mt=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(s))return mt=y(n)?r?2:3:r?4:1,t;mt=y(n)?r?1:4:r?3:2}return t.minus(i).abs()}function L(e,t,n,r){var i,s,u,f,l,h,p,d,v,m=e.constructor,g=void 0!==n;if(g?(o(n,1,yt),void 0===r?r=m.rounding:o(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(p=c(e),u=p.indexOf("."),g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,u>=0&&(p=p.replace(".",""),v=new m(1),v.e=p.length-u,v.d=a(c(v),10,i),v.e=v.d.length),d=a(p,10,i),s=l=d.length;0==d[--l];)d.pop();if(d[0]){if(0>u?s--:(e=new m(e),e.d=d,e.e=s,e=qt(e,v,n,r,0,i),d=e.d,s=e.e,h=vt),u=d[n],f=i/2,h=h||void 0!==d[n+1],h=4>r?(void 0!==u||h)&&(0===r||r===(e.s<0?3:2)):u>f||u===f&&(4===r||h||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,h)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(u=0,p="";l>u;u++)p+=bt.charAt(d[u]);if(g){if(l>1)if(16==t||8==t){for(u=16==t?4:3,--l;l%u;l++)p+="0";for(d=a(p,i,t),l=d.length;!d[l-1];--l);for(u=1,p="1.";l>u;u++)p+=bt.charAt(d[u])}else p=p.charAt(0)+"."+p.slice(1);p=p+(0>s?"p":"p+")+s}else if(0>s){for(;++s;)p="0"+p;p="0."+p}else if(++s>l)for(s-=l;s--;)p+="0";else l>s&&(p=p.slice(0,s)+"."+p.slice(s))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=S(e);return e.s<0?"-"+p:p}function A(e,t){return e.length>t?(e.length=t,!0):void 0}function O(e){return(new this(e)).abs()}function M(e){return(new this(e)).acos()}function _(e){return(new this(e)).acosh()}function D(e,t){return(new this(e)).plus(t)}function P(e){return(new this(e)).asin()}function H(e){return(new this(e)).asinh()}function B(e){return(new this(e)).atan()}function j(e){return(new this(e)).atanh()}function F(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?d(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=d(this,s,1).times(.5),n.s=e.s):t.s<0?(this.precision=s,this.rounding=1,n=this.atan(qt(e,t,s,1)),t=d(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(qt(e,t,s,1)):(n=d(this,s,1).times(t.s>0?.25:.75),n.s=e.s):n=new this(NaN),n}function I(e){return(new this(e)).cbrt()}function q(e){return l(e=new this(e),e.e+1,2)}function R(e){if(!e||"object"!=typeof e)throw Error(Nt+"Object expected");var t,n,r,i=["precision",1,yt,"rounding",0,8,"toExpNeg",-gt,0,"toExpPos",0,gt,"maxE",0,gt,"minE",-gt,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(Lt(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Ct+n+": "+r);this[n]=r}if(e.hasOwnProperty(n="crypto"))if(void 0===(r=e[n]))this[n]=r;else{if(r!==!0&&r!==!1&&0!==r&&1!==r)throw Error(Ct+n+": "+r);this[n]=!(!r||!xt||!xt.getRandomValues&&!xt.randomBytes)}return this}function U(e){return(new this(e)).cos()}function z(e){return(new this(e)).cosh()}function W(e){function t(e){var n,r,i,s=this;if(s instanceof t){if(s.constructor=t,e instanceof t)return s.s=e.s,s.e=e.e,void (s.d=(e=e.d)?e.slice():e);if(i=typeof e,"number"===i){if(0===e)return s.s=0>1/e?-1:1,s.e=0,void (s.d=[0]);if(0>e?(e=-e,s.s=-1):s.s=1,e===~~e&&1e7>e){for(n=0,r=e;r>=10;r/=10)n++;return s.e=n,void (s.d=[e])}return 0*e!==0?(e||(s.s=NaN),s.e=NaN,void (s.d=null)):x(s,e.toString())}if("string"!==i)throw Error(Ct+e);return 45===e.charCodeAt(0)?(e=e.slice(1),s.s=-1):s.s=1,Dt.test(e)?x(s,e):T(s,e)}return new t(e)}var n,r,i;if(t.prototype=It,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=R,t.clone=W,t.abs=O,t.acos=M,t.acosh=_,t.add=D,t.asin=P,t.asinh=H,t.atan=B,t.atanh=j,t.atan2=F,t.cbrt=I,t.ceil=q,t.cos=U,t.cosh=z,t.div=X,t.exp=V,t.floor=$,t.fromJSON=J,t.hypot=K,t.ln=Q,t.log=G,t.log10=Z,t.log2=Y,t.max=et,t.min=tt,t.mod=nt,t.mul=rt,t.pow=it,t.random=st,t.round=ot,t.sign=ut,t.sin=at,t.sinh=ft,t.sqrt=lt,t.sub=ct,t.tan=ht,t.tanh=pt,t.trunc=dt,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return t.config(e),t}function X(e,t){return(new this(e)).div(t)}function V(e){return(new this(e)).exp()}function $(e){return l(e=new this(e),e.e+1,3)}function J(e){var t,n,r,i;if("string"!=typeof e||!e)throw Error(Ct+e);if(r=e.length,i=bt.indexOf(e.charAt(0)),1===r)return new this(i>81?[-1/0,1/0,NaN][i-82]:i>40?-(i-41):i);if(64&i)n=16&i,t=n?(7&i)-3:(15&i)-7,r=1;else{if(2===r)return i=88*i+bt.indexOf(e.charAt(1)),new this(i>=2816?-(i-2816)-41:i+41);if(n=32&i,!(31&i))return e=a(e.slice(1),88,10).join(""),new this(n?"-"+e:e);t=15&i,r=t+1,t=1===t?bt.indexOf(e.charAt(1)):2===t?88*bt.indexOf(e.charAt(1))+bt.indexOf(e.charAt(2)):+a(e.slice(1,r),88,10).join(""),16&i&&(t=-t)}return e=a(e.slice(r),88,10).join(""),t=t-e.length+1,e=e+"e"+t,new this(n?"-"+e:e)}function K(){var e,t,n=new this(0);for(Tt=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Tt=!0,new this(1/0);n=t}return Tt=!0,n.sqrt()}function Q(e){return(new this(e)).ln()}function G(e,t){return(new this(e)).log(t)}function Y(e){return(new this(e)).log(2)}function Z(e){return(new this(e)).log(10)}function et(){return b(this,arguments,"lt")}function tt(){return b(this,arguments,"gt")}function nt(e,t){return(new this(e)).mod(t)}function rt(e,t){return(new this(e)).mul(t)}function it(e,t){return(new this(e)).pow(t)}function st(e){var t,n,r,i,s=0,u=new this(1),a=[];if(void 0===e?e=this.precision:o(e,1,yt),r=Math.ceil(e/Ht),this.crypto===!1)for(;r>s;)a[s++]=1e7*Math.random()|0;else if(xt&&xt.getRandomValues)for(t=xt.getRandomValues(new Uint32Array(r));r>s;)i=t[s],i>=429e7?t[s]=xt.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(xt&&xt.randomBytes){for(t=xt.randomBytes(r*=4);r>s;)i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24),i>=214e7?xt.randomBytes(4).copy(t,s):(a.push(i%1e7),s+=4);s=r/4}else{if(this.crypto)throw Error(Nt+"crypto unavailable");for(;r>s;)a[s++]=1e7*Math.random()|0}for(r=a[--s],e%=Ht,r&&e&&(i=At(10,Ht-e),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(0>s)n=0,a=[0];else{for(n=-1;0===a[0];n-=Ht)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;Ht>r&&(n-=Ht-r)}return u.e=n,u.d=a,u}function ot(e){return l(e=new this(e),e.e+1,this.rounding)}function ut(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function at(e){return(new this(e)).sin()}function ft(e){return(new this(e)).sinh()}function lt(e){return(new this(e)).sqrt()}function ct(e,t){return(new this(e)).sub(t)}function ht(e){return(new this(e)).tan()}function pt(e){return(new this(e)).tanh()}function dt(e){return l(e=new this(e),e.e+1,1)}var vt,mt,gt=9e15,yt=1e9,bt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-./:;=?@[]^_`{|}~",wt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Et="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",St={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-gt,maxE:gt,crypto:void 0},xt="undefined"!=typeof crypto?crypto:null,Tt=!0,Nt="[DecimalError] ",Ct=Nt+"Invalid argument: ",kt=Nt+"Precision limit exceeded",Lt=Math.floor,At=Math.pow,Ot=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Mt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_t=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Dt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pt=1e7,Ht=7,Bt=9007199254740991,jt=wt.length-1,Ft=Et.length-1,It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),l(e)},It.ceil=function(){return l(new this.constructor(this),this.e+1,2)},It.comparedTo=It.cmp=function(e){var t,n,r,i,s=this,o=s.d,u=(e=new s.constructor(e)).d,a=s.s,f=e.s;if(!o||!u)return a&&f?a!==f?a:o===u?0:!o^0>a?1:-1:NaN;if(!o[0]||!u[0])return o[0]?a:u[0]?-f:0;if(a!==f)return a;if(s.e!==e.e)return s.e>e.e^0>a?1:-1;for(r=o.length,i=u.length,t=0,n=i>r?r:i;n>t;++t)if(o[t]!==u[t])return o[t]>u[t]^0>a?1:-1;return r===i?0:r>i^0>a?1:-1},It.cosine=It.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ht,r.rounding=1,n=f(r,k(r,n)),r.precision=e,r.rounding=t,l(2==mt||3==mt?n.neg():n,e,t,!0)):new r(1):new r(NaN)},It.cubeRoot=It.cbrt=function(){var e,t,n,r,i,o,u,a,f,c,h=this,p=h.constructor;if(!h.isFinite()||h.isZero())return new p(h);for(Tt=!1,o=h.s*Math.pow(h.s*h,1/3),o&&Math.abs(o)!=1/0?r=new p(o.toString()):(n=s(h.d),e=h.e,(o=(e-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Math.pow(n,1/3),e=Lt((e+1)/3)-(e%3==(0>e?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new p(n),r.s=h.s),u=(e=p.precision)+3;;)if(a=r,f=a.times(a).times(a),c=f.plus(h),r=qt(c.plus(h).times(a),c.plus(f),u+2,1),s(a.d).slice(0,u)===(n=s(r.d)).slice(0,u)){if(n=n.slice(u-3,u+1),!("9999"==n||!i&&"4999"==n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(l(r,e+1,1),t=!r.times(r).times(r).eq(h));break}if(!i&&(l(a,e+1,0),a.times(a).times(a).eq(h))){r=a;break}u+=4,i=1}return Tt=!0,l(r,e,p.rounding,t)},It.decimalPlaces=It.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Lt(this.e/Ht))*Ht,e=t[e])for(;e%10==0;e/=10)n--;0>n&&(n=0)}return n},It.dividedBy=It.div=function(e){return qt(this,new this.constructor(e))},It.dividedToIntegerBy=It.divToInt=function(e){var t=this,n=t.constructor;return l(qt(t,new n(e),0,1,1),n.precision,n.rounding)},It.equals=It.eq=function(e){return 0===this.cmp(e)},It.floor=function(){return l(new this.constructor(this),this.e+1,3)},It.greaterThan=It.gt=function(e){return this.cmp(e)>0},It.greaterThanOrEqualTo=It.gte=function(e){var t=this.cmp(e);return 1==t||0===t},It.hyperbolicCosine=It.cosh=function(){var e,t,n,r,i,s=this,o=s.constructor,u=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return u;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,32>i?(e=Math.ceil(i/3),t=Math.pow(4,-e).toString()):(e=16,t="2.3283064365386962890625e-10"),s=C(o,1,s.times(t),new o(1),!0);for(var a,f=e,c=new o(8);f--;)a=s.times(s),s=u.minus(a.times(c.minus(a.times(c))));return l(s,o.precision=n,o.rounding=r,!0)},It.hyperbolicSine=It.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,r=i.d.length,3>r)i=C(s,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:0|e,i=i.times(Math.pow(5,-e)),i=C(s,2,i,i,!0);for(var o,u=new s(5),a=new s(16),f=new s(20);e--;)o=i.times(i),i=i.times(u.plus(o.times(a.times(o).plus(f))))}return s.precision=t,s.rounding=n,l(i,t,n,!0)},It.hyperbolicTangent=It.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,qt(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},It.inverseCosine=It.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,s=n.rounding;return-1!==r?0===r?t.isNeg()?d(n,i,s):new n(0):new n(NaN):t.isZero()?d(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=d(n,i+4,s).times(.5),n.precision=i,n.rounding=s,e.minus(t))},It.inverseHyperbolicCosine=It.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Tt=!1,n=n.times(n).minus(1).sqrt().plus(n),Tt=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},It.inverseHyperbolicSine=It.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Tt=!1,n=n.times(n).plus(1).sqrt().plus(n),Tt=!0,r.precision=e,r.rounding=t,n.ln())},It.inverseHyperbolicTangent=It.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?l(new s(i),e,t,!0):(s.precision=n=r-i.e,i=qt(i.plus(1),(new s(1)).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},It.inverseSine=It.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?(e=d(s,n+4,r).times(.5),e.s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div((new s(1)).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},It.inverseTangent=It.atan=function(){var e,t,n,r,i,s,o,u,a,f=this,c=f.constructor,h=c.precision,p=c.rounding;if(f.isFinite()){if(f.isZero())return new c(f);if(f.abs().eq(1)&&Ft>=h+4)return o=d(c,h+4,p).times(.25),o.s=f.s,o}else{if(!f.s)return new c(NaN);if(Ft>=h+4)return o=d(c,h+4,p).times(.5),o.s=f.s,o}for(c.precision=u=h+10,c.rounding=1,n=Math.min(28,u/Ht+2|0),e=n;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Tt=!1,t=Math.ceil(u/Ht),r=1,a=f.times(f),o=new c(f),i=f;-1!==e;)if(i=i.times(a),s=o.minus(i.div(r+=2)),i=i.times(a),o=s.plus(i.div(r+=2)),void 0!==o.d[t])for(e=t;o.d[e]===s.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Tt=!0,l(o,c.precision=h,c.rounding=p,!0)},It.isFinite=function(){return!!this.d},It.isInteger=It.isInt=function(){return!!this.d&&Lt(this.e/Ht)>this.d.length-2},It.isNaN=function(){return!this.s},It.isNegative=It.isNeg=function(){return this.s<0},It.isPositive=It.isPos=function(){return this.s>0},It.isZero=function(){return!!this.d&&0===this.d[0]},It.lessThan=It.lt=function(e){return this.cmp(e)<0},It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1},It.logarithm=It.log=function(e){var t,n,r,i,o,a,f,c,h=this,d=h.constructor,v=d.precision,m=d.rounding,g=5;if(null==e)e=new d(10),t=!0;else{if(e=new d(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new d(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new d(n&&!n[0]?-1/0:1!=h.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(Tt=!1,f=v+g,a=E(h,f),r=t?p(d,f+10):E(e,f),c=qt(a,r,f,1),u(c.d,i=v,m))do if(f+=10,a=E(h,f),r=t?p(d,f+10):E(e,f),c=qt(a,r,f,1),!o){+s(c.d).slice(i+1,i+15)+1==1e14&&(c=l(c,v+1,0));break}while(u(c.d,i+=10,m));return Tt=!0,l(c,v,m)},It.minus=It.sub=function(e){var t,n,r,i,s,o,u,a,f,c,p,d,v=this,m=v.constructor;if(e=new m(e),!v.d||!e.d)return v.s&&e.s?v.d?e.s=-e.s:e=new m(e.d||v.s!==e.s?v:NaN):e=new m(NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(f=v.d,d=e.d,u=m.precision,a=m.rounding,!f[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!f[0])return new m(3===a?0:0);e=new m(v)}return Tt?l(e,u,a):e}if(n=Lt(e.e/Ht),c=Lt(v.e/Ht),f=f.slice(),s=c-n){for(p=0>s,p?(t=f,s=-s,o=d.length):(t=d,n=c,o=f.length),r=Math.max(Math.ceil(u/Ht),o)+2,s>r&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for(r=f.length,o=d.length,p=o>r,p&&(o=r),r=0;o>r;r++)if(f[r]!=d[r]){p=f[r]<d[r];break}s=0}for(p&&(t=f,f=d,d=t,e.s=-e.s),o=f.length,r=d.length-o;r>0;--r)f[o++]=0;for(r=d.length;r>s;){if(f[--r]<d[r]){for(i=r;i&&0===f[--i];)f[i]=Pt-1;--f[i],f[r]+=Pt}f[r]-=d[r]}for(;0===f[--o];)f.pop();for(;0===f[0];f.shift())--n;return f[0]?(e.d=f,e.e=h(f,n),Tt?l(e,u,a):e):new m(3===a?0:0)},It.modulo=It.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?l(new r(n),r.precision,r.rounding):(Tt=!1,9==r.modulo?(t=qt(n,e.abs(),0,3,1),t.s*=e.s):t=qt(n,e,0,r.modulo,1),t=t.times(e),Tt=!0,n.minus(t))},It.naturalExponential=It.exp=function(){return w(this)},It.naturalLogarithm=It.ln=function(){return E(this)},It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s,l(e)},It.plus=It.add=function(e){var t,n,r,i,s,o,u,a,f,c,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new d(e.d||p.s===e.s?p:NaN)):e=new d(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(f=p.d,c=e.d,u=d.precision,a=d.rounding,!f[0]||!c[0])return c[0]||(e=new d(p)),Tt?l(e,u,a):e;if(s=Lt(p.e/Ht),r=Lt(e.e/Ht),f=f.slice(),i=s-r){for(0>i?(n=f,i=-i,o=c.length):(n=c,r=s,o=f.length),s=Math.ceil(u/Ht),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=f.length,i=c.length,0>o-i&&(i=o,n=c,c=f,f=n),t=0;i;)t=(f[--i]=f[i]+c[i]+t)/Pt|0,f[i]%=Pt;for(t&&(f.unshift(t),++r),o=f.length;0==f[--o];)f.pop();return e.d=f,e.e=h(f,r),Tt?l(e,u,a):e},It.precision=It.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Ct+e);return n.d?(t=v(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},It.round=function(){var e=this,t=e.constructor;return l(new t(e),e.e+1,t.rounding)},It.sine=It.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ht,r.rounding=1,n=N(r,k(r,n)),r.precision=e,r.rounding=t,l(mt>2?n.neg():n,e,t,!0)):new r(NaN)},It.squareRoot=It.sqrt=function(){var e,t,n,r,i,o,u=this,a=u.d,f=u.e,c=u.s,h=u.constructor;if(1!==c||!a||!a[0])return new h(!c||0>c&&(!a||a[0])?NaN:a?u:1/0);for(Tt=!1,c=Math.sqrt(+u),0==c||c==1/0?(t=s(a),(t.length+f)%2==0&&(t+="0"),c=Math.sqrt(t),f=Lt((f+1)/2)-(0>f||f%2),c==1/0?t="1e"+f:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),r=new h(t)):r=new h(c.toString()),n=(f=h.precision)+3;;)if(o=r,r=o.plus(qt(u,o,n+2,1)).times(.5),s(o.d).slice(0,n)===(t=s(r.d)).slice(0,n)){if(t=t.slice(n-3,n+1),!("9999"==t||!i&&"4999"==t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(l(r,f+1,1),e=!r.times(r).eq(u));break}if(!i&&(l(o,f+1,0),o.times(o).eq(u))){r=o;break}n+=4,i=1}return Tt=!0,l(r,f,h.rounding,e)},It.tangent=It.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=qt(n,(new r(1)).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,l(2==mt||4==mt?n.neg():n,e,t,!0)):new r(NaN)},It.times=It.mul=function(e){var t,n,r,i,s,o,u,a,f,c=this,p=c.constructor,d=c.d,v=(e=new p(e)).d;if(e.s*=c.s,!(d&&d[0]&&v&&v[0]))return new p(!e.s||d&&!d[0]&&!v||v&&!v[0]&&!d?NaN:d&&v?0*e.s:e.s/0);for(n=Lt(c.e/Ht)+Lt(e.e/Ht),a=d.length,f=v.length,f>a&&(s=d,d=v,v=s,o=a,a=f,f=o),s=[],o=a+f,r=o;r--;)s.push(0);for(r=f;--r>=0;){for(t=0,i=a+r;i>r;)u=s[i]+v[r]*d[i-r-1]+t,s[i--]=u%Pt|0,t=u/Pt|0;s[i]=(s[i]+t)%Pt|0}for(;!s[--o];)s.pop();for(t?++n:s.shift(),r=s.length;!s[--r];)s.pop();return e.d=s,e.e=h(s,n),Tt?l(e,p.precision,p.rounding):e},It.toBinary=function(e,t){return L(this,2,e,t)},It.toDecimalPlaces=It.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(o(e,0,yt),void 0===t?t=r.rounding:o(t,0,8),l(n,e+n.e+1,t))},It.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=c(r,!0):(o(e,0,yt),void 0===t?t=i.rounding:o(t,0,8),r=l(new i(r),e+1,t),n=c(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},It.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?n=c(i):(o(e,0,yt),void 0===t?t=s.rounding:o(t,0,8),r=l(new s(i),e+i.e+1,t),n=c(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},It.toFraction=function(e){var t,n,r,i,o,u,a,f,l,c,h,p,d=this,m=d.d,g=d.constructor;if(!m)return new g(d);if(l=n=new g(1),r=f=new g(0),t=new g(r),o=t.e=v(m)-d.e-1,u=o%Ht,t.d[0]=At(10,0>u?Ht+u:u),null==e)e=o>0?t:l;else{if(a=new g(e),!a.isInt()||a.lt(l))throw Error(Ct+a);e=a.gt(t)?o>0?t:l:a}for(Tt=!1,a=new g(s(m)),c=g.precision,g.precision=o=m.length*Ht*2;h=qt(a,t,0,1,1),i=n.plus(h.times(r)),1!=i.cmp(e);)n=r,r=i,i=l,l=f.plus(h.times(i)),f=i,i=t,t=a.minus(h.times(i)),a=i;return i=qt(e.minus(n),r,0,1,1),f=f.plus(i.times(l)),n=n.plus(i.times(r)),f.s=l.s=d.s,p=qt(l,r,o,1).minus(d).abs().cmp(qt(f,n,o,1).minus(d).abs())<1?[l,r]:[f,n],g.precision=c,Tt=!0,p},It.toHexadecimal=It.toHex=function(e,t){return L(this,16,e,t)},It.toJSON=function(){var e,t,n,r,i,o,u,f,l=this,c=l.s<0;if(!l.d)return bt.charAt(l.s?c?82:83:84);if(t=l.e,1===l.d.length&&4>t&&t>=0&&(o=l.d[0],2857>o))return 41>o?bt.charAt(c?o+41:o):(o-=41,c&&(o+=2816),r=o/88|0,bt.charAt(r)+bt.charAt(o-88*r));if(f=s(l.d),u="",!c&&8>=t&&t>=-7)r=64+t+7;else if(c&&4>=t&&t>=-3)r=80+t+3;else if(f.length===t+1)r=32*c;else if(r=32*c+16*(0>t),t=Math.abs(t),88>t)r+=1,u=bt.charAt(t);else if(7744>t)r+=2,o=t/88|0,u=bt.charAt(o)+bt.charAt(t-88*o);else for(e=a(String(t),10,88),i=e.length,r+=i,n=0;i>n;n++)u+=bt.charAt(e[n]);for(u=bt.charAt(r)+u,e=a(f,10,88),i=e.length,n=0;i>n;n++)u+=bt.charAt(e[n]);return u},It.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0!==t&&o(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Tt=!1,4>t&&(t=[4,5,7,8][t]),n=qt(n,e,0,t,1).times(e),Tt=!0,l(n)):(e.s=n.s,n=e),n},It.toNumber=function(){return+this},It.toOctal=function(e,t){return L(this,8,e,t)},It.toPower=It.pow=function(e){var t,n,r,i,o,a,f,c=this,h=c.constructor,p=+(e=new h(e));if(!(c.d&&e.d&&c.d[0]&&e.d[0]))return new h(At(+c,p));if(c=new h(c),c.eq(1))return c;if(r=h.precision,o=h.rounding,e.eq(1))return l(c,r,o);if(t=Lt(e.e/Ht),n=e.d.length-1,f=t>=n,a=c.s,f){if((n=0>p?-p:p)<=Bt)return i=g(h,c,n,r),e.s<0?(new h(1)).div(i):l(i,r,o)}else if(0>a)return new h(NaN);return a=0>a&&1&e.d[Math.max(t,n)]?-1:1,n=At(+c,p),t=0!=n&&isFinite(n)?(new h(n+"")).e:Lt(p*(Math.log("0."+s(c.d))/Math.LN10+c.e+1)),t>h.maxE+1||t<h.minE-1?new h(t>0?a/0:0):(Tt=!1,h.rounding=c.s=1,n=Math.min(12,(t+"").length),i=w(e.times(E(c,r+n)),r),i=l(i,r+5,1),u(i.d,r,o)&&(t=r+10,i=l(w(e.times(E(c,t+n)),t),t+5,1),+s(i.d).slice(r+1,r+15)+1==1e14&&(i=l(i,r+1,0))),i.s=a,Tt=!0,h.rounding=o,l(i,r,o))},It.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=c(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(o(e,1,yt),void 0===t?t=i.rounding:o(t,0,8),r=l(new i(r),e,t),n=c(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},It.toSignificantDigits=It.toSD=function(e,t){var n=this,r=n.constructor;return void 0===e?(e=r.precision,t=r.rounding):(o(e,1,yt),void 0===t?t=r.rounding:o(t,0,8)),l(new r(n),e,t)},It.toString=function(){var e=this,t=e.constructor,n=c(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},It.truncated=It.trunc=function(){return l(new this.constructor(this),this.e+1,1)},It.valueOf=function(){var e=this,t=e.constructor,n=c(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var qt=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;n>i;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,o,u,a){var f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O=r.constructor,M=r.s==i.s?1:-1,_=r.d,D=i.d;if(!(_&&_[0]&&D&&D[0]))return new O(r.s&&i.s&&(_?!D||_[0]!=D[0]:D)?_&&0==_[0]||!D?0*M:M/0:NaN);for(a?(d=1,c=r.e-i.e):(a=Pt,d=Ht,c=Lt(r.e/d)-Lt(i.e/d)),L=D.length,C=_.length,y=new O(M),b=y.d=[],h=0;D[h]==(_[h]||0);h++);if(D[h]>(_[h]||0)&&c--,null==s?(x=s=O.precision,o=O.rounding):x=u?s+(r.e-i.e)+1:s,0>x)b.push(1),v=!0;else{if(x=x/d+2|0,h=0,1==L){for(p=0,D=D[0],x++;(C>h||p)&&x--;h++)T=p*a+(_[h]||0),b[h]=T/D|0,p=T%D|0;v=p||C>h}else{for(p=a/(D[0]+1)|0,p>1&&(D=e(D,p,a),_=e(_,p,a),L=D.length,C=_.length),N=L,w=_.slice(0,L),E=w.length;L>E;)w[E++]=0;A=D.slice(),A.unshift(0),k=D[0],D[1]>=a/2&&++k;do p=0,f=t(D,w,L,E),0>f?(S=w[0],L!=E&&(S=S*a+(w[1]||0)),p=S/k|0,p>1?(p>=a&&(p=a-1),m=e(D,p,a),g=m.length,E=w.length,f=t(m,w,g,E),1==f&&(p--,n(m,g>L?A:D,g,a))):(0==p&&(f=p=1),m=D.slice()),g=m.length,E>g&&m.unshift(0),n(w,m,E,a),-1==f&&(E=w.length,f=t(D,w,L,E),1>f&&(p++,n(w,E>L?A:D,E,a))),E=w.length):0===f&&(p++,w=[0]),b[h++]=p,f&&w[0]?w[E++]=_[N]||0:(w=[_[N]],E=1);while((N++<C||void 0!==w[0])&&x--);v=void 0!==w[0]}b[0]||b.shift()}if(1==d)y.e=c,vt=v;else{for(h=1,p=b[0];p>=10;p/=10)h++;y.e=h+c*d-1,l(y,u?s+y.e+1:s,o,v)}return y}}();St=W(St),wt=new St(wt),Et=new St(Et),r=function(){return St}.call(t,n,t,e),void 0===r||!(e.exports=r)}(this)},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(e){return e},Fraction:function(t){return(new e.BigNumber(t.n)).div(t.d)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)"},s}var i=n(19);t.name="bignumber",t.factory=r},function(e,t){"use strict";e.exports=function n(e,t,r){return e&&"function"==typeof e.map?e.map(function(e){return n(e,t,r)}):t(e)}},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("bool",{"":function(){return!1},"boolean":function(e){return e},number:function(e){return!!e},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!=e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);t.name="boolean",t.factory=r},function(e,t,n){e.exports=[n(22),n(25)]},function(e,t,n){"use strict";function r(e,t,n,r,o){function u(e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");e&&e.isChain?this.value=e.value:this.value=e}function f(e,t){"function"==typeof t&&(u.prototype[e]=c(t))}function l(e,t){s(u.prototype,e,function(){var e=t();return"function"==typeof e?c(e):void 0})}function c(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new u(e.apply(e,t))}}return u.prototype.type="Chain",u.prototype.isChain=!0,u.prototype.done=function(){return this.value},u.prototype.valueOf=function(){return this.value},u.prototype.toString=function(){return i(this.value)},u.createProxy=function(e,t){if("string"==typeof e)f(e,t);else for(var n in e)e.hasOwnProperty(n)&&f(n,e[n])},u.createProxy(o),o.on("import",function(e,t,n){void 0===n&&l(e,t)}),u}var i=n(23).format,s=n(3).lazy;t.name="Chain",t.path="type",t.factory=r,t.math=!0,t.lazy=!1},function(e,t,n){"use strict";function r(e,n){if(Array.isArray(e)){for(var i="[",s=e.length,o=0;s>o;o++)0!=o&&(i+=", "),i+=r(e[o],n);return i+="]"}return t.format(e,n)}var i=n(6).format,s=n(24).format;t.isString=function(e){return"string"==typeof e},t.endsWith=function(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t},t.format=function(e,n){if("number"==typeof e)return i(e,n);if(e&&e.isBigNumber===!0)return s(e,n);if(e&&e.isFraction===!0)return n&&"decimal"===n.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return r(e,n);if(t.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e){if("function"==typeof e.format)return e.format(n);if(e&&e.toString()!=={}.toString())return e.toString();var o=[];for(var u in e)e.hasOwnProperty(u)&&o.push('"'+u+'": '+t.format(e[u],n));return"{"+o.join(", ")+"}"}return String(e)}},function(e,t){t.format=function(e,n){if("function"==typeof n)return n(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==n&&(n.notation&&(r=n.notation),"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":var s=.001,o=1e5;n&&n.exponential&&(void 0!==n.exponential.lower&&(s=n.exponential.lower),void 0!==n.exponential.upper&&(o=n.exponential.upper)),{toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos};if(e.constructor.config({toExpNeg:Math.round(Math.log(s)/Math.LN10),toExpPos:Math.round(Math.log(o)/Math.LN10)}),e.isZero())return"0";var u,a=e.abs();return u=a.gte(s)&&a.lt(o)?e.toSignificantDigits(i).toFixed():t.toExponential(e,i),u.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t||0)}},function(e,t){"use strict";function n(e,t,n,r){return r("chain",{"":function(){return new e.Chain},any:function(t){return new e.Chain(t)}})}t.name="chain",t.factory=n},function(e,t,n){e.exports=[n(27),n(31)]},function(e,t,n){function r(e,t,n,r,u){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(e){var t="",n=this.im,r=this.re,i=s(this.re,e),u=s(this.im,e),f=o(e)?e:e?e.precision:null;if(null!==f){var l=Math.pow(10,-f);Math.abs(r/n)<l&&(r=0),Math.abs(n/r)<l&&(n=0)}return t=0==n?i:0==r?1==n?"i":-1==n?"-i":u+"i":n>0?1==n?i+" + i":i+" + "+u+"i":-1==n?i+" - i":i+" - "+u.substring(1)+"i"},i.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return i(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(o(n)){if(r&&r.isUnit&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),o(r))return new i({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(e){return new i(e)},i.EPSILON=t.epsilon,u.on("config",function(e,t){e.epsilon!==t.epsilon&&(i.EPSILON=e.epsilon)}),i}var i=n(28),s=n(6).format,o=n(6).isNumber;t.name="Complex",t.path="type",t.factory=r,t.math=!0},function(e,t,n){var r,i;(function(e){!function(s){"use strict";function o(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):3e3>n&&3e3>r?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function u(e,t){return this instanceof u?(l(e,t),this.re=a.re,void (this.im=a.im)):new u(e,t)}var a={re:0,im:0};Math.cosh=Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},Math.sinh=Math.sinh||function(e){return.5*(Math.exp(e)-Math.exp(-e))};var f=function(){throw SyntaxError("Invalid Param")},l=function(e,t){if(void 0===e||null===e)a.re=a.im=0;else if(void 0!==t)a.re=e,a.im=t;else switch(typeof e){case"object":"im"in e&&"re"in e?(a.re=e.re,a.im=e.im):"abs"in e&&"arg"in e?(a.re=e.abs*Math.cos(e.arg),a.im=e.abs*Math.sin(e.arg)):"r"in e&&"phi"in e?(a.re=e.r*Math.cos(e.phi),a.im=e.r*Math.sin(e.phi)):f();break;case"string":a.im=a.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,i=0;null===n&&f();for(var s=0;s<n.length;s++){var o=n[s];" "===o||"	"===o||"\n"===o||("+"===o?r++:"-"===o?i++:"i"===o||"I"===o?(r+i===0&&f()," "===n[s+1]||isNaN(n[s+1])?a.im+=parseFloat((i%2?"-":"")+"1"):(a.im+=parseFloat((i%2?"-":"")+n[s+1]),s++),r=i=0):((r+i===0||isNaN(o))&&f(),"i"===n[s+1]||"I"===n[s+1]?(a.im+=parseFloat((i%2?"-":"")+o),s++):a.re+=parseFloat((i%2?"-":"")+o),r=i=0))}r+i>0&&f();break;case"number":a.im=0,a.re=e;break;default:f()}isNaN(a.re)||isNaN(a.im)};u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){return l(e,t),new u(this.re+a.re,this.im+a.im)},sub:function(e,t){return l(e,t),new u(this.re-a.re,this.im-a.im)},mul:function(e,t){return l(e,t),0===a.im&&0===this.im?new u(this.re*a.re,0):new u(this.re*a.re-this.im*a.im,this.re*a.im+this.im*a.re)},div:function(e,t){l(e,t),e=this.re,t=this.im;var n,r,i=a.re,s=a.im;return 0===i&&0===s?new u(0!==e?e/0:0,0!==t?t/0:0):0===s?new u(e/i,t/i):Math.abs(i)<Math.abs(s)?(r=i/s,n=i*r+s,new u((e*r+t)/n,(t*r-e)/n)):(r=s/i,n=s*r+i,new u((e+t*r)/n,(t-e*r)/n))},pow:function(e,t){if(l(e,t),e=this.re,t=this.im,0===e&&0===t)return new u(0,0);var n=Math.atan2(t,e),r=o(e,t);if(0===a.im){if(0===t&&e>=0)return new u(Math.pow(e,a.re),0);if(0===e)switch(a.re%4){case 0:return new u(Math.pow(t,a.re),0);case 1:return new u(0,Math.pow(t,a.re));case 2:return new u(-Math.pow(t,a.re),0);case 3:return new u(0,-Math.pow(t,a.re))}}return e=Math.exp(a.re*r-a.im*n),t=a.im*r+a.re*n,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,i=this.abs();return n>=0&&0===r?new u(Math.sqrt(n),0):(e=n>=0?.5*Math.sqrt(2*(i+n)):Math.abs(r)/Math.sqrt(2*(i-n)),t=0>=n?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(e,r>=0?t:-t))},exp:function(){var e=Math.exp(this.re);return 0===this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},log:function(){var e=this.re,t=this.im;return new u(o(e,t),Math.atan2(t,e))},abs:function(){var e=Math.abs(this.re),t=Math.abs(this.im);return 3e3>e&&3e3>t?Math.sqrt(e*e+t*t):(t>e?(e=t,t=this.re/this.im):t=this.im/this.re,e*Math.sqrt(1+t*t))},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*Math.cosh(t),Math.cos(e)*Math.sinh(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*Math.cosh(t),-Math.sin(e)*Math.sinh(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+Math.cosh(t);return new u(Math.sin(e)/n,Math.sinh(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-Math.cosh(t);return new u(-Math.sin(e)/n,Math.sinh(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*Math.cosh(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*Math.cosh(t)/n,Math.sin(e)*Math.sinh(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*Math.cosh(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*Math.cosh(t)/n,-Math.cos(e)*Math.sinh(t)/n)},asin:function(){var e=this.re,t=this.im,n=(new u(t*t-e*e+1,-2*e*t)).sqrt(),r=(new u(n.re-t,n.im+e)).log();return new u(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=(new u(t*t-e*e+1,-2*e*t)).sqrt(),r=(new u(n.re-t,n.im+e)).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var n=e*e+(1-t)*(1-t),r=(new u((1-t*t-e*e)/n,-2*e/n)).log();return new u(-0.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).atan():(new u(0!==e?e/0:0,0!==t?-t/0:0)).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).acos():(new u(0!==e?e/0:0,0!==t?-t/0:0)).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).asin():(new u(0!==e?e/0:0,0!==t?-t/0:0)).asin()},sinh:function(){var e=this.re,t=this.im;return new u(Math.sinh(e)*Math.cos(t),Math.cosh(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(Math.cosh(e)*Math.cos(t),Math.sinh(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=Math.cosh(e)+Math.cos(t);return new u(Math.sinh(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=Math.cosh(e)-Math.cos(t);return new u(Math.sinh(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-Math.cosh(2*e);return new u(-2*Math.sinh(e)*Math.cos(t)/n,2*Math.cosh(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+Math.cosh(2*e);return new u(2*Math.cosh(e)*Math.cos(t)/n,-2*Math.sinh(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e,t=this.acos();return t.im<=0?(e=t.re,t.re=-t.im,t.im=e):(e=t.im,t.im=-t.re,t.re=e),t},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,s=r*r+t*t,a=0!==s?new u((i*r-t*t)/s,(t*r+i*t)/s):new u(-1!==e?e/0:0,0!==t?t/0:0),f=a.re;return a.re=o(a.re,a.im)/2,a.im=Math.atan2(a.im,f)/2,n&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).atanh():(new u(0!==e?e/0:0,0!==t?-t/0:0)).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).asinh():(new u(0!==e?e/0:0,0!==t?-t/0:0)).asinh()},asech:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(1/0,0);var n=e*e+t*t;return 0!==n?(new u(e/n,-t/n)).acosh():(new u(0!==e?e/0:0,0!==t?-t/0:0)).acosh()},inverse:function(){var e=this.re,t=this.im,n=e*e+t*t;return new u(0!==e?e/n:0,0!==t?-t/n:0)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){return l(e,t),Math.abs(a.re-this.re)<=u.EPSILON&&Math.abs(a.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return isNaN(e)||isNaN(t)?"NaN":(0!==e&&(n+=e),0!==t&&(0!==e?n+=0>t?" - ":" + ":0>t&&(n+="-"),t=Math.abs(t),1!==t&&(n+=t),n+="i"),n?n:"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.EPSILON=1e-16,n(30).amd?(r=[],i=function(){return u}.apply(t,r),void 0===i||!(e.exports=i)):e.exports=u}(this)}).call(t,n(29)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=s("complex",{"":function(){return e.Complex.ZERO},number:function(t){return new e.Complex(t,0)},"number, number":function(t,n){return new e.Complex(t,n)},"BigNumber, BigNumber":function(t,n){return new e.Complex(t.toNumber(),n.toNumber())},Complex:function(e){return e.clone()},string:function(t){return e.Complex(t)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t)return new e.Complex(t);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(e){return i(e,u)}});return u.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+o.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},u}var i=n(19);t.name="complex",t.factory=r},function(e,t){"use strict";t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim","undefined":"\\mathbf{?}"},t.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var n={deg:"^\\circ"};t.toSymbol=function(e,r){if(r="undefined"==typeof r?!1:r)return n.hasOwnProperty(e)?n[e]:"\\mathrm{"+e+"}";if(t.symbols.hasOwnProperty(e))return t.symbols[e];if(-1!==e.indexOf("_")){var i=e.indexOf("_");return t.toSymbol(e.substring(0,i))+"_{"+t.toSymbol(e.substring(i+1))+"}"}return e}},function(e,t,n){e.exports=[n(34),n(36)]},function(e,t,n){function r(e,t,n,r){return i}var i=n(35);i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(e){return new i(e)},t.name="Fraction",t.path="type",t.factory=r},function(e,t,n){var r,i;(function(e){!function(s){"use strict";function o(e,t){return isNaN(e=parseInt(e,10))&&u(),e*t}function u(){throw"Invalid Param"}function a(e,t){return this instanceof a?(c(e,t),e=a.REDUCE?v(l.d,l.n):1,this.s=l.s,this.n=l.n/e,void (this.d=l.d/e)):new a(e,t)}var f=2e3,l={s:1,n:0,d:1},c=function(e,t){var n,r=0,i=1,s=1,a=0,f=0,c=0,h=1,p=1,d=0,v=1,m=1,g=1,y=1e7;if(void 0!==e&&null!==e)if(void 0!==t)r=e,i=t,s=r*i;else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,i=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(i=e[1])):u(),s=r*i;break;case"number":if(0>e&&(s=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(p=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=p);y>=v&&y>=g;){if(n=(d+m)/(v+g),e===n){y>=v+g?(r=d+m,i=v+g):g>v?(r=m,i=g):(r=d,i=v);break}e>n?(d+=m,v+=g):(m+=d,g+=v),v>y?(r=m,i=g):(r=d,i=v)}r*=p}else(isNaN(e)||isNaN(t))&&(i=r=NaN);break;case"string":if(v=e.match(/\d+|./g),"-"===v[d]?(s=-1,d++):"+"===v[d]&&d++,v.length===d+1?f=o(v[d++],s):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(a=o(v[d++],s)),d++,(d+1===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(f=o(v[d],s),h=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(c=o(v[d+1],s),p=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(f=o(v[d],s),h=o(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(a=o(v[d],s),f=o(v[d+2],s),h=o(v[d+4],1),d+=5),v.length<=d){i=h*p,s=r=c+i*a+p*f;break};default:u()}if(0===i)throw"DIV/0";l.s=0>s?-1:1,l.n=Math.abs(r),l.d=Math.abs(i)},h=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r},p=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>f)return 0;return r},d=function(e,t,n){for(var r=1,i=h(10,n,t),s=0;300>s;s++){if(r===i)return s;r=10*r%t,i=10*i%t}return 0},v=function(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}};a.REDUCE=1,a.prototype={s:1,n:0,d:1,abs:function(){return new a(this.n,this.d)},neg:function(){return new a(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new a(this.s*this.n*l.d+l.s*this.d*l.n,this.d*l.d)},sub:function(e,t){return c(e,t),new a(this.s*this.n*l.d-l.s*this.d*l.n,this.d*l.d)},mul:function(e,t){return c(e,t),new a(this.s*l.s*this.n*l.n,this.d*l.d)},div:function(e,t){return c(e,t),new a(this.s*l.s*this.n*l.d,this.d*l.n)},clone:function(){return new a(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new a(NaN):void 0===e?new a(this.s*this.n%this.d,1):(c(e,t),0===l.n&&0===this.d&&a(0,0),new a(this.s*l.d*this.n%(l.n*this.d),l.d*this.d))},gcd:function(e,t){return c(e,t),new a(v(l.n,this.n),l.d*this.d/v(l.d,this.d))},lcm:function(e,t){return c(e,t),0===l.n&&0===this.n?new a:new a(l.n*this.n/v(l.n,this.n),v(l.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new a(NaN):new a(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new a(this.s*this.d,this.n)},pow:function(e){return 0>e?new a(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new a(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return c(e,t),this.s*this.n*l.d===l.s*l.n*this.d},compare:function(e,t){c(e,t);var n=this.s*this.n*l.d-l.s*l.n*this.d;return(n>0)-(0>n)},divisible:function(e,t){return c(e,t),!(!(l.n*this.d)||this.n*l.d%(l.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];do r.push(Math.floor(t/n)),e=t%n,t=n,n=e;while(1!==t);return r},toString:function(){var e,t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";a.REDUCE||(e=v(t,n),t/=e,n/=e);for(var r=String(t).split(""),i=0,s=[~this.s?"":"-","",""],o="",u=p(t,n),f=d(t,n,u),l=-1,c=1,h=15+u+f+r.length,g=0;h>g;g++,i*=10){if(g<r.length?i+=Number(r[g]):(c=2,l++),u>0)if(l===f)s[c]+=o+"(",o="";else if(l===u+f){s[c]+=o+")";break}i>=n?(s[c]+=o+(i/n|0),o="",i%=n):c>1?o+="0":s[c]&&(s[c]+="0")}return s[0]+=s[1]||"0",s[2]?s[0]+"."+s[2]:s[0]}},n(30).amd?(r=[],i=function(){return a}.apply(t,r),void 0===i||!(e.exports=i)):e.exports=a}(this)}).call(t,n(29)(e))},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,n){return new e.Fraction(t,n)},BigNumber:function(t){return new e.Fraction(t.toString())},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);t.name="fraction",t.factory=r},function(e,t,n){e.exports=[n(38),n(46),n(47),n(50),n(59),n(65),n(66),n(67),n(68),n(52),n(69)]},function(e,t,n){"use strict";function r(e,t,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(e){if(!o(e))throw new TypeError("format must be a string value");var t=i._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=n(39),s=i.string,o=s.isString;t.name="Matrix",t.path="type",t.factory=r},function(e,t,n){"use strict";t.array=n(40),t["boolean"]=n(44),t["function"]=n(45),t.number=n(6),t.object=n(3),t.string=n(23),t.types=n(41),t.emitter=n(8)},function(e,t,n){"use strict";function r(e,t,n){var i,s=e.length;if(s!=t[n])throw new f(s,t[n]);if(n<t.length-1){var o=n+1;for(i=0;s>i;i++){var u=e[i];if(!Array.isArray(u))throw new f(t.length-1,t.length,"<");r(e[i],t,o)}}else for(i=0;s>i;i++)if(Array.isArray(e[i]))throw new f(t.length+1,t.length,">")}function i(e,n,r,s){var o,u,a=e.length,f=n[r],l=Math.min(a,f);if(e.length=f,r<n.length-1){var c=r+1;for(o=0;l>o;o++)u=e[o],Array.isArray(u)||(u=[u],e[o]=u),i(u,n,c,s);for(o=l;f>o;o++)u=[],e[o]=u,i(u,n,c,s)}else{for(o=0;l>o;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];if(s!==t.UNINITIALIZED)for(o=l;f>o;o++)e[o]=s}}function s(e,t,n){var r,i;if(t>n){var o=n+1;for(r=0,i=e.length;i>r;r++)e[r]=s(e[r],t,o)}else for(;Array.isArray(e);)e=e[0];return e}function o(e,t,n){var r,i;if(Array.isArray(e)){var s=n+1;for(r=0,i=e.length;i>r;r++)e[r]=o(e[r],t,s)}else for(var u=n;t>u;u++)e=[e];return e}var u=n(6),a=n(23),f=(n(3),n(41),n(42)),l=n(43);t.size=function(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t},t.validate=function(e,t){var n=0==t.length;if(n){if(Array.isArray(e))throw new f(e.length,0)}else r(e,t,0)},t.validateIndex=function(e,t){if(!u.isNumber(e)||!u.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e||"number"==typeof t&&e>=t)throw new l(e,t)},t.UNINITIALIZED={},t.resize=function(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+a.format(t)+")")});var r=void 0!==n?n:0;return i(e,t,0,r),e},t.squeeze=function(e,n){for(var r=n||t.size(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(e=s(e,i,0),r.length=i),e},t.unsqueeze=function(e,n,r,i){var s=i||t.size(e);if(r)for(var u=0;r>u;u++)e=[e],s.unshift(1);for(e=o(e,n,0);s.length<n;)s.push(1);return e},t.flatten=function(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(e){Array.isArray(e)?e.forEach(n):t.push(e)}),t},t.isArray=Array.isArray},function(e,t){"use strict";t.type=function(e){var t=typeof e;return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":"Object":"function"===t?"Function":t},t.isScalar=function(e){return!(e&&e.isMatrix||Array.isArray(e))}},function(e,t){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,e.exports=n},function(e,t){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,e.exports=n},function(e,t){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},function(e,t){t.memoize=function(e,t){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=t?t(r):JSON.stringify(r);return s in n.cache?n.cache[s]:n.cache[s]=e.apply(e,r)}},t.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}},function(e,t,n){"use strict";function r(e,t,r,f){function v(e,t){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!p(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0)"DenseMatrix"===e.type?(this._data=a.clone(e._data),this._size=a.clone(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&l(e.data)&&l(e.size))this._data=e.data,this._size=e.size,this._datatype=t||e.datatype;else if(l(e))this._data=S(e),this._size=u.size(this._data),u.validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t}}function g(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var r=t.size();if(r.length!=e._size.length)throw new s(r.length,e._size.length);for(var i=t.min(),o=t.max(),u=0,a=e._size.length;a>u;u++)d(i[u],e._size[u]),d(o[u],e._size[u]);return new v(y(e._data,t,r.length,0),e._datatype)}function y(e,t,n,r){var i=r==n-1,s=t.dimension(r);return i?s.map(function(t){return e[t]}).valueOf():s.map(function(i){var s=e[i];return y(s,t,n,r+1)}).valueOf()}function b(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var i,o=t.size(),f=t.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.valueOf()):i=u.size(n),f){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(o.length<e._size.length)throw new s(o.length,e._size.length,"<");if(i.length<o.length){for(var l=0,c=0;1===o[l]&&1===i[l];)l++;for(;1===o[l];)c++,l++;n=u.unsqueeze(n,o.length,c,i)}if(!a.deepEqual(o,i))throw new s(o,i,">");var h=t.max().map(function(e){return e+1});E(e,h,r);var p=o.length,d=0;w(e._data,t,n,p,d)}return e}function w(e,t,n,r,i){var s=i==r-1,o=t.dimension(i);s?o.forEach(function(t,r){d(t),e[t]=n[r[0]]}):o.forEach(function(s,o){d(s),w(e[s],t,n[o[0]],r,i+1)})}function E(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var s=0,o=t.length;o>s;s++)t[s]>r[s]&&(r[s]=t[s],i=!0);i&&T(e,r,n)}function S(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];l(r)?e[t]=S(r):r&&r.isMatrix===!0&&(e[t]=S(r.valueOf()))}return e}var x=r(n(38));v.prototype=new x,v.prototype.type="DenseMatrix",v.prototype.isDenseMatrix=!0,v.prototype.storage=function(){return"dense"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(e,t){return new v(e,t)},v.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return g(this,e);case 2:case 3:return b(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new s(e.length,this._size.length);for(var t=0;t<e.length;t++)d(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;i>r;r++){var o=e[r];d(o,n.length),n=n[o]}return n},v.prototype.set=function(e,t,n){if(!l(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new s(e.length,this._size.length,"<");var r,i,o,u=e.map(function(e){return e+1});E(this,u,n);var a=this._data;for(r=0,i=e.length-1;i>r;r++)o=e[r],d(o,a.length),a=a[o];return o=e[e.length-1],d(o,a.length),a[o]=t,this},v.prototype.resize=function(e,t,n){if(!l(e))throw new TypeError("Array expected");var r=n?this.clone():this;return T(r,e,t)};var T=function(e,t,n){if(0===t.length){for(var r=e._data;l(r);)r=r[0];return r}return e._size=t.slice(0),e._data=u.resize(e._data,e._size,n),e};return v.prototype.clone=function(){var e=new v({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return e},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(e){var t=this,n=function(r,i){return l(r)?r.map(function(e,t){return n(e,i.concat(t))}):e(r,i,t)};return new v({data:n(this._data,[]),size:a.clone(this._size),datatype:this._datatype})},v.prototype.forEach=function(e){var t=this,n=function(r,i){l(r)?r.forEach(function(e,t){n(e,i.concat(t))}):e(r,i,t)};n(this._data,[])},v.prototype.toArray=function(){return a.clone(this._data)},v.prototype.valueOf=function(){return this._data},v.prototype.format=function(e){return o.format(this._data,e)},v.prototype.toString=function(){return o.format(this._data)},v.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(e.isBigNumber===!0&&(e=e.toNumber()),!c(e)||!h(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=0>e?-e:0,r=this._size[0],i=this._size[1],s=Math.min(r-n,i-t),o=[],u=0;s>u;u++)o[u]=this._data[u+n][u+t];return new v({data:o,size:[s],datatype:this._datatype})},v.diagonal=function(t,n,r,i,s){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(e){if(e&&e.isBigNumber===!0&&(e=e.toNumber()),!c(e)||!h(e)||1>e)throw new Error("Size values must be positive integers");return e}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!c(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&p(s)&&(i=f.convert(i,s));var o,a=r>0?r:0,d=0>r?-r:0,m=t[0],g=t[1],y=Math.min(m-d,g-a);if(l(n)){if(n.length!==y)throw new Error("Invalid value array length");o=function(e){return n[e]}}else if(n&&n.isMatrix===!0){var b=n.size();if(1!==b.length||b[0]!==y)throw new Error("Invalid matrix length");o=function(e){return n.get([e])}}else o=function(){return n};i||(i=o(0)&&o(0).isBigNumber===!0?new e.BigNumber(0):0);var w=[];if(t.length>0){w=u.resize(w,t,i);for(var E=0;y>E;E++)w[E+d][E+a]=o(E)}return new v({data:w,size:[m,g]})},v.fromJSON=function(e){return new v(e)},v.prototype.swapRows=function(e,t){if(!(c(e)&&h(e)&&c(t)&&h(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(e,this._size[0]),d(t,this._size[0]),v._swapRows(e,t,this._data),this},v._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},e.Matrix._storage.dense=v,e.Matrix._storage["default"]=v,v}var i=n(39),s=n(42),o=i.string,u=i.array,a=i.object,f=i.number,l=Array.isArray,c=f.isNumber,h=f.isInteger,p=o.isString,d=u.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=r,t.lazy=!1},function(e,t,n){"use strict";function r(e,t,r,v){function g(e,t){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!p(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0)w(this,e,t);else if(e&&l(e.index)&&l(e.ptr)&&l(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(l(e))E(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}var y=r(n(38)),b=r(n(48)),w=function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?u.clone(t._values):void 0,e._index=u.clone(t._index),e._ptr=u.clone(t._ptr),e._size=u.clone(t._size),e._datatype=n||t._datatype):E(e,t.valueOf(),n||t._datatype)},E=function(e,t,n){e._values=[],e._index=[],e._ptr=[],e._datatype=n;var r=t.length,i=0,s=b,o=0;if(p(n)&&(s=v.find(b,[n,n])||b,o=v.convert(0,n)),r>0){var u=0;do{e._ptr.push(e._index.length);for(var a=0;r>a;a++){var f=t[a];if(l(f)){if(0===u&&i<f.length&&(i=f.length),u<f.length){var c=f[u];s(c,o)||(e._values.push(c),e._index.push(a))}}else 0===u&&1>i&&(i=1),s(f,o)||(e._values.push(f),e._index.push(a))}u++}while(i>u)}e._ptr.push(e._index.length),e._size=[r,i]};g.prototype=new y,g.prototype.type="SparseMatrix",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return"sparse"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(e,t){return new g(e,t)},g.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},g.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return S(this,e);case 2:case 3:return x(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}};var S=function(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var r=t.size();if(r.length!=e._size.length)throw new s(r.length,e._size.length);var i,o,u,a,f=t.min(),l=t.max();for(i=0,o=e._size.length;o>i;i++)d(f[i],e._size[i]),d(l[i],e._size[i]);var c=e._values,h=e._index,p=e._ptr,v=t.dimension(0),y=t.dimension(1),b=[],w=[];v.forEach(function(e,t){w[e]=t[0],b[e]=!0});var E=c?[]:void 0,S=[],x=[];return y.forEach(function(e){for(x.push(S.length),u=p[e],a=p[e+1];a>u;u++)i=h[u],b[i]===!0&&(S.push(w[i]),E&&E.push(c[u]))}),x.push(S.length),new g({values:E,index:S,ptr:x,size:r,datatype:e._datatype})},x=function(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var i,a=t.size(),f=t.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.toArray()):i=o.size(n),f){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==a.length&&2!==a.length)throw new s(a.length,e._size.length,"<");if(i.length<a.length){for(var l=0,c=0;1===a[l]&&1===i[l];)l++;for(;1===a[l];)c++,l++;n=o.unsqueeze(n,a.length,c,i)}if(!u.deepEqual(a,i))throw new s(a,i,">");for(var h=t.min()[0],p=t.min()[1],d=i[0],v=i[1],m=0;d>m;m++)for(var g=0;v>g;g++){var y=n[m][g];e.set([m+h,g+p],y,r)}}return e};g.prototype.get=function(e){if(!l(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new s(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];d(t,this._size[0]),d(n,this._size[1]);var r=T(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},g.prototype.set=function(e,t,n){if(!l(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new s(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=e[0],i=e[1],o=this._size[0],u=this._size[1],a=b,f=0;p(this._datatype)&&(a=v.find(b,[this._datatype,this._datatype])||b,f=v.convert(0,this._datatype)),(r>o-1||i>u-1)&&(k(this,Math.max(r+1,o),Math.max(i+1,u),n),o=this._size[0],u=this._size[1]),d(r,o),d(i,u);var c=T(r,this._ptr[i],this._ptr[i+1],this._index);return c<this._ptr[i+1]&&this._index[c]===r?a(t,f)?N(c,i,this._values,this._index,this._ptr):this._values[c]=t:C(c,r,i,t,this._values,this._index,this._ptr),this};var T=function(e,t,n,r){if(n-t===0)return n;for(var i=t;n>i;i++)if(r[i]===e)return i;return t},N=function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var s=t+1;s<i.length;s++)i[s]--},C=function(e,t,n,r,i,s,o){i.splice(e,0,r),s.splice(e,0,t);for(var u=n+1;u<o.length;u++)o[u]++};g.prototype.resize=function(e,t,n){if(!l(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach(function(t){if(!f.isNumber(t)||!f.isInteger(t)||0>t)throw new TypeError("Invalid size, must contain positive integers (size: "+a.format(e)+")")});var r=n?this.clone():this;return k(r,e[0],e[1],t)};var k=function(e,t,n,r){var i=r||0,s=b,o=0;p(e._datatype)&&(s=v.find(b,[e._datatype,e._datatype])||b,o=v.convert(0,e._datatype),i=v.convert(i,e._datatype));var u,a,f,l=!s(i,o),c=e._size[0],h=e._size[1];if(n>h){for(a=h;n>a;a++)if(e._ptr[a]=e._values.length,l)for(u=0;c>u;u++)e._values.push(i),e._index.push(u);e._ptr[n]=e._values.length}else h>n&&(e._ptr.splice(n+1,h-n),e._values.splice(e._ptr[n],e._values.length),e._index.splice(e._ptr[n],e._index.length));if(h=n,t>c){if(l){var d=0;for(a=0;h>a;a++){e._ptr[a]=e._ptr[a]+d,f=e._ptr[a+1]+d;var m=0;for(u=c;t>u;u++,m++)e._values.splice(f+m,0,i),e._index.splice(f+m,0,u),d++}e._ptr[h]=e._values.length}}else if(c>t){var g=0;for(a=0;h>a;a++){e._ptr[a]=e._ptr[a]-g;var y=e._ptr[a],w=e._ptr[a+1]-g;for(f=y;w>f;f++)u=e._index[f],u>t-1&&(e._values.splice(f,1),e._index.splice(f,1),g++)}e._ptr[a]=e._values.length}return e._size[0]=t,e._size[1]=n,e};g.prototype.clone=function(){var e=new g({values:this._values?u.clone(this._values):void 0,index:u.clone(this._index),ptr:u.clone(this._ptr),size:u.clone(this._size),datatype:this._datatype});return e},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],s=function(t,r,i){return e(t,[r,i],n)};return L(this,0,r-1,0,i-1,s,t)};var L=function(e,t,n,r,i,s,o){var u=[],a=[],f=[],l=b,c=0;p(e._datatype)&&(l=v.find(b,[e._datatype,e._datatype])||b,c=v.convert(0,e._datatype));for(var h=function(e,t,n){e=s(e,t,n),l(e,c)||(u.push(e),a.push(t))},d=r;i>=d;d++){f.push(u.length);for(var m=e._ptr[d],y=e._ptr[d+1],w=t,E=m;y>E;E++){var S=e._index[E];if(S>=t&&n>=S){if(!o)for(var x=w;S>x;x++)h(0,x-t,d-r);h(e._values[E],S-t,d-r)}w=S+1}if(!o)for(var T=w;n>=T;T++)h(0,T-t,d-r)}return f.push(u.length),new g({values:u,index:a,ptr:f,size:[n-t+1,i-r+1]})};g.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],s=0;i>s;s++){for(var o=this._ptr[s],u=this._ptr[s+1],a=0,f=o;u>f;f++){var l=this._index[f];if(!t)for(var c=a;l>c;c++)e(0,[c,s],n);e(this._values[f],[l,s],n),a=l+1}if(!t)for(var h=a;r>h;h++)e(0,[h,s],n)}},g.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};var A=function(e,t,n,r,i){var s,o,a=r[0],f=r[1],l=[];for(s=0;a>s;s++)for(l[s]=[],o=0;f>o;o++)l[s][o]=0;for(o=0;f>o;o++)for(var c=n[o],h=n[o+1],p=c;h>p;p++)s=t[p],l[s][o]=e?i?u.clone(e[p]):e[p]:1;return l};return g.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+a.format(t,e)+" x "+a.format(n,e)+"] density: "+a.format(r,e)+"\n",s=0;n>s;s++)for(var o=this._ptr[s],u=this._ptr[s+1],f=o;u>f;f++){var l=this._index[f];i+="\n    ("+a.format(l,e)+", "+a.format(s,e)+") ==> "+(this._values?a.format(this._values[f],e):"X")}return i},g.prototype.toString=function(){return a.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(e){if(e){if(e.isBigNumber===!0&&(e=e.toNumber()),!c(e)||!h(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=0>e?-e:0,r=this._size[0],i=this._size[1],s=Math.min(r-n,i-t),o=[],u=[],a=[];a[0]=0;for(var f=t;i>f&&o.length<s;f++)for(var l=this._ptr[f],p=this._ptr[f+1],d=l;p>d;d++){var v=this._index[d];if(v===f-t+n){o.push(this._values[d]),u[o.length-1]=v-n;break}}return a.push(o.length),new g({values:o,index:u,ptr:a,size:[s,1]})},g.fromJSON=function(e){return new g(e)},g.diagonal=function(e,t,n,r,i){if(!l(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(e&&e.isBigNumber===!0&&(e=e.toNumber()),!c(e)||!h(e)||1>e)throw new Error("Size values must be positive integers");return e}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!c(n)||!h(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s=b,o=0;p(i)&&(s=v.find(b,[i,i])||b,o=v.convert(0,i));var u,a=n>0?n:0,f=0>n?-n:0,d=e[0],m=e[1],y=Math.min(d-f,m-a);if(l(t)){if(t.length!==y)throw new Error("Invalid value array length");u=function(e){return t[e]}}else if(t&&t.isMatrix===!0){var w=t.size();if(1!==w.length||w[0]!==y)throw new Error("Invalid matrix length");u=function(e){return t.get([e])}}else u=function(){return t};for(var E=[],S=[],x=[],T=0;m>T;T++){x.push(E.length);var N=T-a;if(N>=0&&y>N){var C=u(N);s(C,o)||(S.push(N+f),E.push(C))}}return x.push(E.length),new g({values:E,index:S,ptr:x,size:[d,m]})},g.prototype.swapRows=function(e,t){if(!(c(e)&&h(e)&&c(t)&&h(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(e,this._size[0]),d(t,this._size[0]),g._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(e,t,n,r,i){for(var s=r[e],o=r[e+1],u=s;o>u;u++)i(n[u],t[u])},g._swapRows=function(e,t,n,r,i,s){for(var o=0;n>o;o++){var u=s[o],a=s[o+1],f=T(e,u,a,i),l=T(t,u,a,i);if(a>f&&a>l&&i[f]===e&&i[l]===t){if(r){var c=r[f];r[f]=r[l],r[l]=c}}else if(a>f&&i[f]===e&&(l>=a||i[l]!==t)){var h=r?r[f]:void 0;i.splice(l,0,t),r&&r.splice(l,0,h),i.splice(f>=l?f+1:f,1),r&&r.splice(f>=l?f+1:f,1)}else if(a>l&&i[l]===t&&(f>=a||i[f]!==e)){var p=r?r[l]:void 0;i.splice(f,0,e),r&&r.splice(f,0,p),i.splice(l>=f?l+1:l,1),r&&r.splice(l>=f?l+1:l,1)}}},e.Matrix._storage.sparse=g,g}var i=n(39),s=n(42),o=i.array,u=i.object,a=i.string,f=i.number,l=Array.isArray,c=f.isNumber,h=f.isInteger,p=a.isString,d=o.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=r,t.lazy=!1},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,n){return e===n||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.eq(n)||s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return o(e.value,t.value)},"string, string":function(e,t){return e===t}});return o}var i=n(6).nearlyEqual,s=n(49);t.factory=r},function(e,t){"use strict";e.exports=function(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}},function(e,t,n){"use strict";function r(e,t,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}var s=r(n(51)),o=r(n(48));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,t){var n=this._values[e];n?n.value=s(n.value,t):(n=this._heap.insert(e,t),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var r=this._heap,i=this._values,s=[],u=r.extractMinimum();for(u&&s.push(u);u&&u.key<=t;)u.key>=e&&(o(u.value,0)||n(u.key,u.value,this)),u=r.extractMinimum(),u&&s.push(u);for(var a=0;a<s.length;a++){var f=s[a];u=r.insert(f.key,f.value),i[u.key]=u}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}t.name="Spa",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(52)),u=r(n(53)),a=n(32),f=r(n(54)),l=r(n(55)),c=r(n(56)),h=r(n(57)),p=r(n(58)),d=s("add",i({"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,u);break;default:n=f(t,e,u,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,u,!1);break;default:n=h(e,t,u)}}return n},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,u,!1);break;default:n=p(e,t,u,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,u,!0);break;default:n=p(t,e,u,!0)}return n},"Array, any":function(e,t){return p(o(e),t,u,!1).valueOf()},"any, Array":function(e,t){return p(o(t),e,u,!0).valueOf()},"any, any":u,"any, any, ...any":function(e,t,n){for(var r=d(e,t),i=0;i<n.length;i++)r=d(r,n[i]);return r}},u.signatures));return d.toTex={2:"\\left(${args[0]}"+a.operators.add+"${args[1]}\\right)"},d}var i=n(3).extend;t.name="add",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){function i(t,n,r){var i=e.Matrix.storage(n||"default");return new i(t,r)}var s=r("matrix",{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return s.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},s}t.name="matrix",t.factory=n},function(e,t){"use strict";function n(e,t,n,r){var i=r("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=i(n.value,t.value),n.fixPrefix=!1,n}});return i}t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.DenseMatrix,o=function(e,t,n,o){var u=e._data,f=e._size,l=e._datatype,c=t._values,h=t._index,p=t._ptr,d=t._size,v=t._datatype;if(f.length!==d.length)throw new i(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g,y=f[0],b=f[1],w="string"==typeof l&&l===v?l:void 0,E=w?r.find(n,[w,w]):n,S=[];for(m=0;y>m;m++)S[m]=[];var x=[],T=[];for(g=0;b>g;g++){for(var N=g+1,C=p[g],k=p[g+1],L=C;k>L;L++)m=h[L],x[m]=o?E(c[L],u[m][g]):E(u[m][g],c[L]),T[m]=N;for(m=0;y>m;m++)T[m]===N?S[m][g]=x[m]:S[m][g]=u[m][g]}return new s({data:S,size:[y,b],datatype:w})};return o}var i=n(42);t.name="algorithm01",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(48)),u=e.SparseMatrix,a=function(e,t,n){var r=e._values,a=e._index,f=e._ptr,l=e._size,c=e._datatype,h=t._values,p=t._index,d=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new i(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");var g,y=l[0],b=l[1],w=o,E=0,S=n;"string"==typeof c&&c===m&&(g=c,w=s.find(o,[g,g]),E=s.convert(0,g),S=s.find(n,[g,g]));var x,T,N,C,k,L=r&&h?[]:void 0,A=[],O=[],M=new u({values:L,index:A,ptr:O,size:[y,b],datatype:g}),_=r&&h?[]:void 0,D=r&&h?[]:void 0,P=[],H=[];for(T=0;b>T;T++){O[T]=A.length;var B=T+1;for(C=f[T],k=f[T+1],N=C;k>N;N++)x=a[N],A.push(x),P[x]=B,_&&(_[x]=r[N]);for(C=d[T],k=d[T+1],N=C;k>N;N++)if(x=p[N],P[x]===B){if(_){var j=S(_[x],h[N]);w(j,E)?P[x]=null:_[x]=j}}else A.push(x),H[x]=B,D&&(D[x]=h[N]);if(_&&D)for(N=O[T];N<A.length;)x=A[N],P[x]===B?(L[N]=_[x],N++):H[x]===B?(L[N]=D[x],N++):A.splice(N,1)}return O[b]=A.length,M};return a}var i=n(42);t.name="algorithm04",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){var i=e.DenseMatrix,s=function(e,t,n,s){var o=e._values,u=e._index,a=e._ptr,f=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c,h=f[0],p=f[1],d=n;"string"==typeof l&&(c=l,t=r.convert(t,c),d=r.find(n,[c,c]));for(var v=[],m=new i({data:v,size:[h,p],datatype:c}),g=[],y=[],b=0;p>b;b++){for(var w=b+1,E=a[b],S=a[b+1],x=E;S>x;x++){var T=u[x];g[T]=o[x],y[T]=w}for(var N=0;h>N;N++)0===b&&(v[N]=[]),y[N]===w?v[N][b]=s?d(t,g[N]):d(g[N],t):v[N][b]=t}return m};return s}t.name="algorithm10",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.DenseMatrix,o=function(e,t,n){var o=e._data,f=e._size,l=e._datatype,c=t._data,h=t._size,p=t._datatype,d=[];if(f.length!==h.length)throw new s(f.length,h.length);for(var v=0;v<f.length;v++){if(f[v]!==h[v])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");d[v]=f[v]}var m,g=n;"string"==typeof l&&l===p&&(m=l,t=r.convert(t,m),g=r.find(n,[m,m]));var y=d.length>0?u(g,0,d,d[0],o,c):[];return new i({data:y,size:d,datatype:m})},u=function(e,t,n,r,i,s){var o=[];if(t===n.length-1)for(var a=0;r>a;a++)o[a]=e(i[a],s[a]);else for(var f=0;r>f;f++)o[f]=u(e,t+1,n,n[t+1],i[f],s[f]);return o};return o}var i=n(39),s=n(42),o=i.string;o.isString,t.name="algorithm13",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.DenseMatrix,o=function(e,t,n,o){var f,l=e._data,c=e._size,h=e._datatype,p=n;"string"==typeof h&&(f=h,t=r.convert(t,f),p=r.find(n,[f,f]));var d=c.length>0?u(p,0,c,c[0],l,t,o):[];return new s({data:d,size:i(c),datatype:f})},u=function(e,t,n,r,i,s,o){var a=[];if(t===n.length-1)for(var f=0;r>f;f++)a[f]=o?e(s,i[f]):e(i[f],s);else for(var l=0;r>l;l++)a[l]=u(e,t+1,n,n[t+1],i[l],s,o);return a};return o}var i=n(3).clone;t.name="algorithm14",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var o=r(n(60)),u=r(n(64)),a=1/Math.log((1+Math.sqrt(5))/2);s.prototype.type="FibonacciHeap",s.prototype.isFibonacciHeap=!0,s.prototype.insert=function(e,t){var n={key:e,value:t,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,o(e,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},s.prototype.size=function(){return this._size},s.prototype.clear=function(){this._minimum=null,this._size=0},s.prototype.isEmpty=function(){return!!this._minimum},s.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,n=e.degree,r=e.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=t,r.right=t.right,t.right=r,r.right.left=r,r.parent=null,r=i,n--}return e.left.right=e.right,e.right.left=e.left,e==e.right?t=null:(t=e.right,t=p(t,this._size)),this._size--,this._minimum=t,e},s.prototype.remove=function(e){this._minimum=f(this._minimum,e,-1),this.extractMinimum()};var f=function(e,t,n){t.key=n;var r=t.parent;return r&&o(t.key,r.key)&&(l(e,t,r),c(e,r)),o(t.key,e.key)&&(e=t),e},l=function(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child==t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1},c=function(e,t){var n=t.parent;n&&(t.mark?(l(e,t,n),c(n)):t.mark=!0)},h=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1},p=function(e,t){var n=Math.floor(Math.log(t)*a)+1,r=new Array(n),i=0,s=e;if(s)for(i++,s=s.right;s!==e;)i++,s=s.right;for(var f;i>0;){for(var l=s.degree,c=s.right;;){if(f=r[l],!f)break;if(u(s.key,f.key)){var p=f;f=s,s=p}h(f,s),r[l]=null,l++}r[l]=s,s=c,i--}e=null;for(var d=0;n>d;d++)f=r[d],f&&(e?(f.left.right=f.right,f.right.left=f.left,f.left=e,f.right=e.right,e.right=f,f.right.left=f,o(f.key,e.key)&&(e=f)):e=f);return e};return s}t.name="FibonacciHeap",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(62)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=n(32),v=o("smaller",{"boolean, boolean":function(e,t){return t>e},"number, number":function(e,n){return n>e&&!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.lt(n)&&!s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return v(e.value,t.value)},"string, string":function(e,t){return t>e},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,v);break;default:n=f(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,v,!1);break;default:n=h(e,t,v)}}return n},"Array, Array":function(e,t){return v(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return v(u(e),t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=p(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,v,!0);break;default:n=p(t,e,v,!0)}return n},"Array, any":function(e,t){return p(u(e),t,v,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+d.operators.smaller+"${args[1]}\\right)"},v}var i=n(6).nearlyEqual,s=n(49);t.name="smaller",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.DenseMatrix,o=function(e,t,n,o){var u=e._data,f=e._size,l=e._datatype,c=t._values,h=t._index,p=t._ptr,d=t._size,v=t._datatype;if(f.length!==d.length)throw new i(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=f[0],y=f[1],b=0,w=n;"string"==typeof l&&l===v&&(m=l,b=r.convert(0,m),w=r.find(n,[m,m]));for(var E=[],S=0;g>S;S++)E[S]=[];for(var x=[],T=[],N=0;y>N;N++){for(var C=N+1,k=p[N],L=p[N+1],A=k;L>A;A++){var O=h[A];x[O]=o?w(c[A],u[O][N]):w(u[O][N],c[A]),T[O]=C}for(var M=0;g>M;M++)T[M]===C?E[M][N]=x[M]:E[M][N]=o?w(b,u[M][N]):w(u[M][N],b)}return new s({data:E,size:[g,y],datatype:m})};return o}var i=n(42);t.name="algorithm03",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.DenseMatrix,o=function(e,t,n){var o=e._size,f=e._datatype,l=t._size,c=t._datatype;if(o.length!==l.length)throw new i(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var h,p=o[0],d=o[1],v=0,m=n;"string"==typeof f&&f===c&&(h=f,v=r.convert(0,h),m=r.find(n,[h,h]));var g,y,b=[];for(g=0;p>g;g++)b[g]=[];var w=new s({data:b,size:[p,d],datatype:h}),E=[],S=[],x=[],T=[];for(y=0;d>y;y++){var N=y+1;for(u(e,y,x,E,N),u(t,y,T,S,N),g=0;p>g;g++){var C=x[g]===N?E[g]:v,k=T[g]===N?S[g]:v;b[g][y]=m(C,k)}}return w},u=function(e,t,n,r,i){for(var s=e._values,o=e._index,u=e._ptr,a=u[t],f=u[t+1];f>a;a++){var l=o[a];n[l]=i,r[l]=s[a]}};return o}var i=n(42);t.name="algorithm07",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){var i=e.DenseMatrix,s=function(e,t,n,s){var o=e._values,u=e._index,a=e._ptr,f=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c,h=f[0],p=f[1],d=n;"string"==typeof l&&(c=l,t=r.convert(t,c),d=r.find(n,[c,c]));for(var v=[],m=new i({data:v,size:[h,p],datatype:c}),g=[],y=[],b=0;p>b;b++){for(var w=b+1,E=a[b],S=a[b+1],x=E;S>x;x++){var T=u[x];g[T]=o[x],y[T]=w}for(var N=0;h>N;N++)0===b&&(v[N]=[]),y[N]===w?v[N][b]=s?d(t,g[N]):d(g[N],t):v[N][b]=s?d(t,0):d(0,t)}return m};return s}t.name="algorithm12",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(62)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=n(32),v=o("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,n){return e>n&&!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.gt(n)&&!s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return v(e.value,t.value)},"string, string":function(e,t){return e>t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,v);break;default:n=f(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,v,!1);break;default:n=h(e,t,v)}}return n},"Array, Array":function(e,t){return v(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return v(u(e),t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=p(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,v,!0);break;default:n=p(t,e,v,!0)}return n},"Array, any":function(e,t){return p(u(e),t,v,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+d.operators.larger+"${args[1]}\\right)"},v}var i=n(6).nearlyEqual,s=n(49);t.name="larger",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!a(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0||u(e)){var n=new f(e,t);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(e&&u(e.data)&&u(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!=typeof e.min?e.min:null,this._max="undefined"!=typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}var f=r(n(46)),l=r(n(60));return s.prototype=new f,s.prototype.type="ImmutableDenseMatrix",s.prototype.isImmutableDenseMatrix=!0,s.prototype.subset=function(e){switch(arguments.length){case 1:var t=f.prototype.subset.call(this,e);return t.isMatrix?new s({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},s.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},s.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},s.prototype.clone=function(){var e=new s({data:o.clone(this._data),size:o.clone(this._size),datatype:this._datatype});return e},s.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},s.fromJSON=function(e){return new s(e)},s.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},s.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(t){(null===e||l(t,e))&&(e=t)}),this._min=null!==e?e:void 0}return this._min},s.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(t){(null===e||l(e,t))&&(e=t)}),this._max=null!==e?e:void 0}return this._max},s}var i=n(39),s=i.string,o=i.object,u=Array.isArray,a=s.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;i>r;r++){var s=arguments[r];if(s&&s.isRange===!0)this._dimensions.push(s),this._isScalar=!1;else if(s&&(Array.isArray(s)||s.isMatrix===!0)){var o=n(s.valueOf());this._dimensions.push(o);var u=o.size();1===u.length&&1===u[0]||(this._isScalar=!1)}else if("number"==typeof s)this._dimensions.push(n([s]));else{if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(s)}}}function n(t){for(var n=0,r=t.length;r>n;n++)if("number"!=typeof t[n]||!s(t[n]))throw new TypeError("Index parameters must be positive integer numbers");return new e.ImmutableDenseMatrix(t)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var e=new t;return e._dimensions=i(this._dimensions),e._isScalar=this._isScalar,e},t.create=function(e){var n=new t;return t.apply(n,e),n},t.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]="string"==typeof r?1:r.size()[0]}return e},t.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.max()}return e},t.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.min()}return e},t.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;n>t;t++)e(this._dimensions[t],t,this)},t.prototype.dimension=function(e){return this._dimensions[e]||null},t.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e.push("string"==typeof r?r:r.toArray())}return e},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];"string"==typeof r?e.push(JSON.stringify(r)):e.push(r.toString())}return"["+e.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(e){return t.create(e.dimensions)},t}var i=n(3).clone,s=n(6).isInteger;t.name="Index",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function s(e,t,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=t?parseFloat(t):0,this.step=null!=n?parseFloat(n):1}return s.prototype.type="Range",s.prototype.isRange=!0,s.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":"),n=t.map(function(e){return parseFloat(e)}),r=n.some(function(e){return isNaN(e)});if(r)return null;switch(n.length){case 2:return new s(n[0],n[1]);case 3:return new s(n[0],n[2],n[1]);default:return null}},s.prototype.clone=function(){return new s(this.start,this.end,this.step)},s.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end,s=r-t;return i.sign(n)==i.sign(s)?e=Math.ceil(s/n):0==s&&(e=0),isNaN(e)&&(e=0),[e]},s.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},s.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},s.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;r>t;)e(t,[i],this),t+=n,i++;else if(0>n)for(;t>r;)e(t,[i],this),t+=n,i++},s.prototype.map=function(e){var t=[];return this.forEach(function(n,r,i){t[r[0]]=e(n,r,i)}),t},s.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},s.prototype.valueOf=function(){return this.toArray()},s.prototype.format=function(e){var t=i.format(this.start,e);return 1!=this.step&&(t+=":"+i.format(this.step,e)),t+=":"+i.format(this.end,e)},s.prototype.toString=function(){return this.format()},s.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(e){return new s(e.start,e.end,e.step)},s}var i=n(6);t.name="Range",t.path="type",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var n=t.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e&&(Array.isArray(e)||e.isMatrix===!0)?e.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e}):e}),r=new e.Index;return e.Index.apply(r,n),r}})}t.name="index",t.factory=n},function(e,t){"use strict";function n(e,t,n,r){var i=e.SparseMatrix,s=r("sparse",{"":function(){return new i([])},string:function(e){return new i([],e)},"Array | Matrix":function(e){return new i(e)},"Array | Matrix, string":function(e,t){return new i(e,t)}});return s.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},s}t.name="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("number",{"":function(){return 0},number:function(e){return e},string:function(e){var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},s}var i=n(19);t.name="number",t.factory=r},function(e,t,n){e.exports=[n(72)]},function(e,t){"use strict";function n(e,t,n,r){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(e){return new i(e.entries)},i}t.name="ResultSet",t.path="type",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("string",{"":function(){return""},number:s.format,"null":function(e){return"null"},"boolean":function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return i(e,o)},any:function(e){return String(e)}});return o.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},o}var i=n(19),s=n(6);t.name="string",t.factory=r},function(e,t,n){e.exports=[n(75),n(96),n(97),n(98),n(99)]},function(e,t,n){"use strict";function r(e,t,r,u,f){function l(e,t){if(!(this instanceof l))throw new Error("Constructor must be called with the new operator");if(void 0!==e&&!O(e)&&!e.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=t&&("string"!=typeof t||""==t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=t){var n=l.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:W,prefix:I.NONE,power:0}],this.dimensions=[];for(var r=0;r<R.length;r++)this.dimensions[r]=0}this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function c(){for(;" "==j||"	"==j;)d()}function h(e){return e>="0"&&"9">=e||"."==e}function p(e){return e>="0"&&"9">=e}function d(){B++,j=H.charAt(B)}function v(e){B=e,j=H.charAt(B)}function m(){var e,t="";if(e=B,"+"==j?d():"-"==j&&(t+=j,d()),!h(j))return v(e),null;if("."==j){if(t+=j,d(),!p(j))return v(e),null}else{for(;p(j);)t+=j,d();"."==j&&(t+=j,d())}for(;p(j);)t+=j,d();if("E"==j||"e"==j){var n="",r=B;if(n+=j,d(),"+"!=j&&"-"!=j||(n+=j,d()),!p(j))return v(r),t;for(t+=n;p(j);)t+=j,d()}return t}function g(){for(var e="",t=H.charCodeAt(B);t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t;)e+=j,d(),t=H.charCodeAt(B);return t=e.charCodeAt(0),t>=65&&90>=t||t>=97&&122>=t?e||null:null}function y(e){return j===e?(d(),e):null}function b(e){if(X.hasOwnProperty(e)){var t=X[e],n=t.prefixes[""];return{unit:t,prefix:n}}for(var r in X)if(X.hasOwnProperty(r)&&i(e,r)){var t=X[r],s=e.length-r.length,o=e.substring(0,s),n=t.prefixes[o];if(void 0!==n)return{unit:t,prefix:n}}return null}function w(t){if("BigNumber"===t.number){var n=o.pi(e.BigNumber);X.rad.value=new e.BigNumber(1),X.deg.value=n.div(180),X.grad.value=n.div(200),X.cycle.value=n.times(2),X.arcsec.value=n.div(648e3),X.arcmin.value=n.div(10800)}else X.rad.value=1,X.deg.value=Math.PI/180,X.grad.value=Math.PI/200,X.cycle.value=2*Math.PI,X.arcsec.value=Math.PI/648e3,X.arcmin.value=Math.PI/10800}function E(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r=function(e){return/^[a-zA-Z]$/.test(e)},i=function(e){return e>="0"&&"9">=e};if(0===t&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!r(n)&&!i(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}var S=r(n(53)),x=r(n(77)),T=r(n(80)),N=r(n(81)),C=r(n(82)),k=r(n(86)),L=r(n(87)),A=r(n(88)),O=r(n(89)),M=r(n(90)),_=r(n(91)),D=r(n(70)),P=r(n(27));l.prototype.type="Unit",l.prototype.isUnit=!0;var H,B,j;l.parse=function(n,r){if(r=r||{},H=n,B=-1,j="","string"!=typeof H)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new l;i.units=[],d(),c();var s=m(),o=null;s&&(o="BigNumber"===t.number?new e.BigNumber(s):"Fraction"===t.number?new e.Fraction(s):parseFloat(s)),c();for(var u=1,a=!1,f=[],h=1;;){for(c();"("===j;)f.push(u),h*=u,u=1,d(),c();if(!j)break;var p=j,v=g();if(null==v)throw new SyntaxError('Unexpected "'+p+'" in "'+H+'" at index '+B.toString());var w=b(v);if(null==w)throw new SyntaxError('Unit "'+v+'" not found.');var E=u*h;if(c(),y("^")){c();var S=m();if(null==S)throw new SyntaxError('In "'+n+'", "^" must be followed by a floating-point number');E*=S}i.units.push({unit:w.unit,prefix:w.prefix,power:E});for(var x=0;x<R.length;x++)i.dimensions[x]+=(w.unit.dimensions[x]||0)*E;for(c();")"===j;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+H+'" at index '+B.toString());h/=f.pop(),d(),c()}if(a=!1,y("*")?(u=1,a=!0):y("/")?(u=-1,a=!0):u=1,w.unit.base){var T=w.unit.base.key;$.auto[T]={unit:w.unit,prefix:w.prefix}}}if(c(),j)throw new SyntaxError('Could not parse: "'+n+'"');if(a)throw new SyntaxError('Trailing characters: "'+n+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+H+'"');if(0==i.units.length&&!r.allowNoUnits)throw new SyntaxError('"'+n+'" contains no units');return i.value=void 0!=o?i._normalize(o):null,i},l.prototype.clone=function(){var e=new l;e.fixPrefix=this.fixPrefix,e.isUnitListSimplified=this.isUnitListSimplified,e.value=s(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++){e.units[t]={};for(var n in this.units[t])this.units[t].hasOwnProperty(n)&&(e.units[t][n]=this.units[t][n])}return e},l.prototype._isDerived=function(){return 0===this.units.length?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},l.prototype._normalize=function(e){var t,n,r,i,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var o=e;s=l._getNumberConverter(_(e));for(var u=0;u<this.units.length;u++)t=s(this.units[u].unit.value),i=s(this.units[u].prefix.value),r=s(this.units[u].power),o=T(o,C(T(t,i),r));return o}return s=l._getNumberConverter(_(e)),t=s(this.units[0].unit.value),n=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),T(S(e,n),T(t,i))},l.prototype._denormalize=function(e,t){var n,r,i,s,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var u=e;o=l._getNumberConverter(_(e));for(var a=0;a<this.units.length;a++)n=o(this.units[a].unit.value),s=o(this.units[a].prefix.value),i=o(this.units[a].power),u=N(u,C(T(n,s),i));return u}return o=l._getNumberConverter(_(e)),n=o(this.units[0].unit.value),s=o(this.units[0].prefix.value),r=o(this.units[0].unit.offset),void 0==t?x(N(N(e,n),s),r):x(N(N(e,n),t),r)},l.isValuelessUnit=function(e){return null!=b(e)},l.prototype.hasBase=function(e){if("string"==typeof e&&(e=U[e]),!e)return!1;for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},l.prototype.equalBase=function(e){for(var t=0;t<R.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},l.prototype.equals=function(e){return this.equalBase(e)&&A(this.value,e.value)},l.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<R.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var n=0;n<e.units.length;n++){var r={};for(var i in e.units[n])r[i]=e.units[n][i];t.units.push(r)}if(null!=this.value||null!=e.value){var s=null==this.value?this._normalize(1):this.value,o=null==e.value?e._normalize(1):e.value;t.value=T(s,o)}else t.value=null;return t.isUnitListSimplified=!1,F(t)},l.prototype.divide=function(e){for(var t=this.clone(),n=0;n<R.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var n=0;n<e.units.length;n++){var r={};for(var i in e.units[n])r[i]=e.units[n][i];r.power=-r.power,t.units.push(r)}if(null!=this.value||null!=e.value){var s=null==this.value?this._normalize(1):this.value,o=null==e.value?e._normalize(1):e.value;t.value=N(s,o)}else t.value=null;return t.isUnitListSimplified=!1,F(t)},l.prototype.pow=function(e){for(var t=this.clone(),n=0;n<R.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!=t.value?t.value=C(t.value,e):t.value=null,t.isUnitListSimplified=!1,F(t)};var F=function(e){return e.equalBase(U.NONE)&&null!==e.value&&!t.predictable?e.value:e};l.prototype.abs=function(){var e=this.clone();e.value=k(e.value);for(var t in e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=X.W);return e},l.prototype.to=function(e){var t,n=null==this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=l.parse(e),!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=s(n),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}if(e&&e.isUnit){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return t=e.clone(),t.value=s(n),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}throw new Error("String or Unit expected as parameter")},l.prototype.toNumber=function(e){return D(this.toNumeric(e))},l.prototype.toNumeric=function(e){var t=this;return e&&(t=this.to(e)),t._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},l.prototype.toString=function(){return this.format()},l.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},l.fromJSON=function(e){var t=new l(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},l.prototype.valueOf=l.prototype.toString,l.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,t=[];for(var r in J)if(this.hasBase(U[r])){e=r;break}if("NONE"===e)this.units=[];else{var i;e&&J.hasOwnProperty(e)&&(i=J[e]);if(i)this.units=[{unit:i.unit,prefix:i.prefix,power:1}];else{for(var s=!1,o=0;o<R.length;o++){var u=R[o];Math.abs(this.dimensions[o]||0)>1e-12&&(J.hasOwnProperty(u)?t.push({unit:J[u].unit,prefix:J[u].prefix,power:this.dimensions[o]||0}):s=!0)}n(92),t.length<this.units.length&&!s&&(this.units=t)}}this.isUnitListSimplified=!0}},l.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(t+="^"+ -this.units[i].power)):(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,t+="^"+this.units[i].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var s=e;return n>0&&r>0&&(s+=" / "),s+=t},l.prototype.format=function(e){this.simplifyUnitListLazy();var t=!1,n=!0;"undefined"!=typeof this.value&&null!==this.value&&this.value.isComplex&&(t=Math.abs(this.value.re)<1e-14,n=Math.abs(this.value.im)<1e-14);for(var r in this.units)this.units[r].unit&&("VA"===this.units[r].unit.name&&t?this.units[r].unit=X.VAR:"VAR"!==this.units[r].unit.name||t||(this.units[r].unit=X.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var i=this._denormalize(this.value),s=null!==this.value?M(i,e||{}):"",o=this.formatUnits();return this.value&&this.value.isComplex&&(s="("+s+")"),o.length>0&&s.length>0&&(s+=" "),s+=o},l.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=k(this.value),t=k(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&1.800001>i)return n;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];if(u.scientific){var a=Math.abs(Math.log(e/Math.pow(u.value*t,r))/Math.LN10-1.2);(i>a||a===i&&u.name.length<n.name.length)&&(n=u,i=a)}}return n},l.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!=e.length-1);r++){var i=L(t.toNumeric()),s=new l(i,e[r].toString());n.push(s),t=x(t,s)}return n.push(t),n};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG={};for(var q in I.SHORT)I.SHORT.hasOwnProperty(q)&&(I.SHORTLONG[q]=I.SHORT[q]);for(var q in I.LONG)I.LONG.hasOwnProperty(q)&&(I.SHORTLONG[q]=I.LONG[q]);var R=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],U={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var q in U)U[q].key=q;var z={},W={name:"",base:z,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},X={meter:{name:"meter",base:U.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:U.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:U.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:U.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:U.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:U.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:U.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},chain:{name:"chain",base:U.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:U.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:U.LENGTH,prefixes:I.SHORT,value:1,offset:0},"in":{name:"in",base:U.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:U.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:U.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:U.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:U.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:U.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:U.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:U.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:U.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:U.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:U.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:U.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:U.SURFACE,prefixes:I.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:U.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:U.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:U.SURFACE,prefixes:I.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:U.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:U.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:U.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:U.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:U.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:U.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:U.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:U.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:U.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:U.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:U.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:U.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:U.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:U.VOLUME,prefixes:I.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:U.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:U.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:U.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:U.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:U.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:U.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:U.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:U.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:U.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:U.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:U.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:U.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:U.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:U.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:U.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:U.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:U.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:U.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:U.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:U.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:U.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:U.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:U.MASS,prefixes:I.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:U.MASS,prefixes:I.SHORT,value:1e3,offset:0},grain:{name:"grain",base:U.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:U.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:U.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:U.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:U.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:U.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:U.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:U.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:U.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:U.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:U.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:U.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:U.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:U.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:U.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:U.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:U.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:U.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:U.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:U.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:U.TIME,prefixes:I.NONE,value:604800,offset:0},month:{name:"month",base:U.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:U.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"year",base:U.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:U.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:U.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:U.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:U.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:U.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:U.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:U.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:U.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:U.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:U.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:U.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:U.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:U.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},degC:{name:"degC",base:U.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},degF:{name:"degF",base:U.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:U.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:U.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},celsius:{name:"celsius",base:U.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:U.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:U.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:U.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:U.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:U.LUMINOUS_INTENSITY,prefixes:I.NONE,value:1,offset:0},candela:{name:"candela",base:U.LUMINOUS_INTENSITY,prefixes:I.NONE,value:1,offset:0},N:{name:"N",base:U.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:U.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:U.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:U.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:U.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:U.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:U.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},J:{name:"J",base:U.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:U.ENERGY,prefixes:I.SHORT,value:1,offset:0},erg:{name:"erg",base:U.ENERGY,prefixes:I.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:U.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:U.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:U.ENERGY,prefixes:I.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:U.ENERGY,prefixes:I.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:U.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"W",base:U.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:U.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:U.POWER,prefixes:I.SHORT,value:P.I,offset:0},VA:{name:"VA",base:U.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:U.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:U.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:U.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:U.PRESSURE,prefixes:I.NONE,value:1e5,offset:0},torr:{name:"torr",base:U.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:U.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:U.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:U.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:U.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:U.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:U.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:U.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:U.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:U.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:U.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:U.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:U.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:U.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:U.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:U.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:U.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:U.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:U.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:U.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:U.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:U.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:U.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},V={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};w(t),f.on("config",function(e,t){e.number!==t.number&&w(e)});var $={si:{NONE:{unit:W,prefix:I.NONE[""]},LENGTH:{unit:X.m,prefix:I.SHORT[""]},MASS:{unit:X.g,prefix:I.SHORT.k},TIME:{unit:X.s,prefix:I.SHORT[""]},CURRENT:{unit:X.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:X.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:X.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:X.mol,prefix:I.SHORT[""]},ANGLE:{unit:X.rad,prefix:I.SHORT[""]},BIT:{unit:X.bit,prefix:I.SHORT[""]},FORCE:{unit:X.N,prefix:I.SHORT[""]},ENERGY:{unit:X.J,prefix:I.SHORT[""]},POWER:{unit:X.W,prefix:I.SHORT[""]},PRESSURE:{unit:X.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:X.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:X.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:X.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:X.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:X.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:X.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:X.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:X.T,prefix:I.SHORT[""]},FREQUENCY:{unit:X.Hz,prefix:I.SHORT[""]}}};$.cgs=JSON.parse(JSON.stringify($.si)),$.cgs.LENGTH={unit:X.m,prefix:I.SHORT.c},$.cgs.MASS={unit:X.g,prefix:I.SHORT[""]},$.cgs.FORCE={unit:X.dyn,prefix:I.SHORT[""]},$.cgs.ENERGY={unit:X.erg,prefix:I.NONE[""]},$.us=JSON.parse(JSON.stringify($.si)),$.us.LENGTH={unit:X.ft,prefix:I.NONE[""]},$.us.MASS={unit:X.lbm,prefix:I.NONE[""]},$.us.TEMPERATURE={unit:X.degF,prefix:I.NONE[""]},$.us.FORCE={unit:X.lbf,prefix:I.NONE[""]},$.us.ENERGY={unit:X.BTU,prefix:I.BTU[""]},$.us.POWER={unit:X.hp,prefix:I.NONE[""]},$.us.PRESSURE={unit:X.psi,prefix:I.NONE[""]},$.auto=JSON.parse(JSON.stringify($.si));var J=$.auto;l.setUnitSystem=function(e){if(!$.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys($).join(", "));J=$[e]},l.getUnitSystem=function(){for(var e in $)if($[e]===J)return e},l.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},Complex:function(e){return e},number:function(e){return e}},l._getNumberConverter=function(e){if(!l.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return l.typeConverters[e]};for(var q in X){var K=X[q];K.dimensions=K.base.dimensions}for(var Q in V)if(V.hasOwnProperty(Q)){var K=X[V[Q]],G={};for(var q in K)K.hasOwnProperty(q)&&(G[q]=K[q]);G.name=Q,X[Q]=G}return l.createUnit=function(e,t){if("object"!=typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(e.hasOwnProperty(n)&&l.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)l.deleteUnit(e[n].aliases[r]);var i;for(var n in e)e.hasOwnProperty(n)&&(i=l.createUnitSingle(n,e[n]));return i},l.createUnitSingle=function(e,t,n){if("undefined"!=typeof t&&null!==t||(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(X.hasOwnProperty(e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');E(e);var r,i,s=null,o=[],u=0;if(t&&"Unit"===t.type)s=t.clone();else if("string"==typeof t)""!==t&&(r=t);else{if("object"!=typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');r=t.definition,i=t.prefixes,u=t.offset,o=t.aliases}if(o)for(var a=0;a<o.length;a++)if(X.hasOwnProperty(o[a]))throw new Error('Cannot create alias "'+o[a]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!s)try{s=l.parse(r,{allowNoUnits:!0})}catch(f){throw f.message='Could not create unit "'+e+'" from "'+r+'": '+f.message,f}else r&&"Unit"===r.type&&(s=r.clone());o=o||[],u=u||0,i=i&&i.toUpperCase?I[i.toUpperCase()]||I.NONE:I.NONE;var c={};if(s){c={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:i,offset:u};var h=!1;for(var a in U)if(U.hasOwnProperty(a)){for(var p=!0,d=0;d<R.length;d++)if(Math.abs((c.dimensions[d]||0)-(U[a].dimensions[d]||0))>1e-12){p=!1;break}if(p){h=!0;break}}if(!h){var v=e+"_STUFF",m={dimensions:s.dimensions.slice(0)};m.key=v,U[v]=m,J[v]={unit:c,prefix:I.NONE[""]},c.base=v}}else{var v=e+"_STUFF";if(R.indexOf(v)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');R.push(v);for(var g in U)U.hasOwnProperty(g)&&(U[g].dimensions[R.length-1]=0);for(var m={dimensions:[]},a=0;a<R.length;a++)m.dimensions[a]=0;m.dimensions[R.length-1]=1,m.key=v,U[v]=m,c={name:e,value:1,dimensions:U[v].dimensions.slice(0),prefixes:i,offset:u,base:v},J[v]={unit:c,prefix:I.NONE[""]}}l.UNITS[e]=c;for(var a=0;a<o.length;a++){var y=o[a],b={};for(var w in c)c.hasOwnProperty(w)&&(b[w]=c[w]);b.name=y,l.UNITS[y]=b}return new l(null,e)},l.deleteUnit=function(e){delete l.UNITS[e]},l.PREFIXES=I,l.BASE_UNITS=U,l.UNITS=X,l.UNIT_SYSTEMS=$,l}var i=n(23).endsWith,s=n(3).clone,o=n(76);t.name="Unit",t.path="type",t.factory=r,t.math=!0},function(e,t,n){function r(e){return e[0].precision}var i=n(45).memoize;t.e=i(function(e){return(new e(1)).exp()},r),t.phi=i(function(e){return(new e(1)).plus((new e(5)).sqrt()).div(2)},r),t.pi=i(function(e){return pi=e.acos(-1)},r),t.tau=i(function(e){return t.pi(e).times(2)},r)},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=r(n(52)),a=r(n(53)),f=r(n(78)),l=r(n(54)),c=r(n(61)),h=r(n(79)),p=r(n(56)),d=r(n(57)),v=r(n(58)),m=s("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=m(n.value,t.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new i(n.length,r.length);var s;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":s=h(e,t,m);break;default:s=c(t,e,m,!0)}break;default:switch(t.storage()){case"sparse":s=l(e,t,m,!1);break;default:s=d(e,t,m)}}return s},"Array, Array":function(e,t){return m(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return m(u(e),t)},"Matrix, Array":function(e,t){return m(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,f(t),a);break;default:n=v(e,t,m)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,m,!0);break;default:n=v(t,e,m,!0)}return n},"Array, any":function(e,t){return v(u(e),t,m,!1).valueOf()},"any, Array":function(e,t){return v(u(t),e,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+o.operators.subtract+"${args[1]}\\right)"},m}var i=n(42);t.name="subtract",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=s("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=u(e.value),t},"Array | Matrix":function(e){return i(e,u,!0)}});return u.toTex={1:o.operators.unaryMinus+"\\left(${args[0]}\\right)"},u}var i=n(19);t.name="unaryMinus",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(48)),u=e.SparseMatrix,a=function(e,t,n){var r=e._values,a=e._index,f=e._ptr,l=e._size,c=e._datatype,h=t._values,p=t._index,d=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new i(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");var g,y=l[0],b=l[1],w=o,E=0,S=n;"string"==typeof c&&c===m&&(g=c,w=s.find(o,[g,g]),E=s.convert(0,g),S=s.find(n,[g,g]));var x,T,N,C,k=r&&h?[]:void 0,L=[],A=[],O=new u({values:k,index:L,ptr:A,size:[y,b],datatype:g}),M=k?[]:void 0,_=k?[]:void 0,D=[],P=[];for(T=0;b>T;T++){A[T]=L.length;var H=T+1;for(N=f[T],C=f[T+1];C>N;N++)x=a[N],L.push(x),D[x]=H,M&&(M[x]=r[N]);for(N=d[T],C=d[T+1];C>N;N++)x=p[N],D[x]!==H&&L.push(x),P[x]=H,_&&(_[x]=h[N]);if(k)for(N=A[T];N<L.length;){x=L[N];var B=D[x],j=P[x];if(B===H||j===H){var F=B===H?M[x]:E,I=j===H?_[x]:E,q=S(F,I);w(q,E)?L.splice(N,1):(k.push(q),N++)}}}return A[b]=L.length,O};return a}var i=n(42);t.name="algorithm05",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){var i=r("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}});return i}t.factory=n},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(80)),o=i("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone();return n.value=o(null===n.value?n._normalize(1):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.pow(-1);return n.value=s(null===n.value?n._normalize(1):n.value,e),n},"Unit, Unit":function(e,t){return e.divide(t)}});return o}t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(n,r){if(t.predictable&&!i(r)&&0>n)try{var s=v(r),o=m(s);if((r===o||Math.abs((r-o)/r)<1e-14)&&s.d%2===1)return(s.n%2===0?1:-1)*Math.pow(-n,r)}catch(u){}return i(r)||n>=0||t.predictable?Math.pow(n,r):(new e.Complex(n,0)).pow(r,0)}function f(e,t){if(!i(t)||0>t)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=s(e);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=h(n[0]).valueOf(),o=e;t>=1;)1==(1&t)&&(r=p(o,r)),t>>=1,o=p(o,o);return r}function l(e,t){return d(f(e.valueOf(),t))}var c=n(32),h=r(n(83)),p=r(n(84)),d=r(n(52)),v=r(n(36)),m=r(n(70)),g=o("pow",{"number, number":u,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||t.predictable?n.pow(r):(new e.Complex(n.toNumber(),0)).pow(r.toNumber(),0)},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return u(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(e,t){return l(e,t.toNumber())},"Unit, number":function(e,t){return e.pow(t)}});return g.toTex={2:"\\left(${args[0]}\\right)"+c.operators.pow+"{${args[1]}}"},g}var i=n(6).isInteger,s=n(40).size;t.name="pow",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(e,t){switch(e.length){case 0:return t?l(t):[];case 1:return f(e[0],e[0],t);case 2:return f(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function f(t,n,r){var o=t&&t.isBigNumber===!0?e.BigNumber:n&&n.isBigNumber===!0?e.BigNumber:null;if(t&&t.isBigNumber===!0&&(t=t.toNumber()),n&&n.isBigNumber===!0&&(n=n.toNumber()),!s(t)||1>t)throw new Error("Parameters in function eye must be positive integers");if(!s(n)||1>n)throw new Error("Parameters in function eye must be positive integers");var u=o?new e.BigNumber(1):1,f=o?new o(0):0,l=[t,n];if(r){var c=e.Matrix.storage(r);return c.diagonal(l,u,0,f)}for(var h=i.resize([],l,f),p=n>t?t:n,d=0;p>d;d++)h[d][d]=u;return h}var l=r(n(52)),c=o("eye",{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(e){return l(e)},"number | BigNumber":function(e){return f(e,e,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return f(e,e,t)},"number | BigNumber, number | BigNumber":function(e,n){return f(e,n,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return f(e,t,n)},Array:function(e){return u(e)},"Array, string":function(e,t){return u(e,t)},Matrix:function(e){return u(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return u(e.valueOf(),t)}});return c.toTex=void 0,c}var i=n(40),s=n(6).isInteger;t.name="eye",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(53)),c=r(n(80)),h=r(n(48)),p=r(n(85)),d=r(n(58)),v=e.DenseMatrix,m=e.SparseMatrix,g=o("multiply",i({"Array, Array":function(e,t){y(s.size(e),s.size(t));var n=g(f(e),f(t));return n&&n.isMatrix===!0?n.valueOf():n},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return y(n,r),1===n.length?1===r.length?b(e,t,n[0]):w(e,t):1===r.length?S(e,t):x(e,t)},"Matrix, Array":function(e,t){return g(e,f(t))},"Array, Matrix":function(e,t){return g(f(e,t.storage()),t)},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,c,!1);break;case"dense":n=d(e,t,c,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,c,!0);break;case"dense":n=d(t,e,c,!0)}return n},"Array, any":function(e,t){return d(f(e),t,c,!1).valueOf()},"any, Array":function(e,t){return d(f(t),e,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(e,t,n){for(var r=g(e,t),i=0;i<n.length;i++)r=g(r,n[i]);return r}},c.signatures)),y=function(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}},b=function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,i=e._data,s=e._datatype,u=t._data,a=t._datatype,f=l,h=c;s&&a&&s===a&&"string"==typeof s&&(r=s,f=o.find(l,[r,r]),h=o.find(c,[r,r]));for(var p=h(i[0],u[0]),d=1;n>d;d++)p=f(p,h(i[d],u[d]));return p},w=function(e,t){switch(t.storage()){case"dense":return E(e,t)}throw new Error("Not implemented")},E=function(e,t){var n,r=e._data,i=e._size,s=e._datatype,u=t._data,a=t._size,f=t._datatype,h=i[0],p=a[1],d=l,m=c;s&&f&&s===f&&"string"==typeof s&&(n=s,d=o.find(l,[n,n]),m=o.find(c,[n,n]));for(var g=[],y=0;p>y;y++){for(var b=m(r[0],u[0][y]),w=1;h>w;w++)b=d(b,m(r[w],u[w][y]));g[y]=b}return new v({data:g,size:[p],datatype:n})},S=function(e,t){switch(e.storage()){case"dense":return T(e,t);case"sparse":return k(e,t)}},x=function(e,t){switch(e.storage()){case"dense":switch(t.storage()){case"dense":return N(e,t);case"sparse":return C(e,t)}break;case"sparse":switch(t.storage()){case"dense":return L(e,t);case"sparse":return A(e,t)}}},T=function(e,t){var n,r=e._data,i=e._size,s=e._datatype,u=t._data,a=t._datatype,f=i[0],h=i[1],p=l,d=c;s&&a&&s===a&&"string"==typeof s&&(n=s,p=o.find(l,[n,n]),d=o.find(c,[n,n]));for(var m=[],g=0;f>g;g++){for(var y=r[g],b=d(y[0],u[0]),w=1;h>w;w++)b=p(b,d(y[w],u[w]));m[g]=b}return new v({data:m,size:[f],datatype:n})},N=function(e,t){var n,r=e._data,i=e._size,s=e._datatype,u=t._data,a=t._size,f=t._datatype,h=i[0],p=i[1],d=a[1],m=l,g=c;s&&f&&s===f&&"string"==typeof s&&(n=s,m=o.find(l,[n,n]),g=o.find(c,[n,n]));for(var y=[],b=0;h>b;b++){var w=r[b];y[b]=[];for(var E=0;d>E;E++){for(var S=g(w[0],u[0][E]),x=1;p>x;x++)S=m(S,g(w[x],u[x][E]));y[b][E]=S}}return new v({data:y,size:[h,d],datatype:n})},C=function(e,t){var n=e._data,r=e._size,i=e._datatype,s=t._values,u=t._index,a=t._ptr,f=t._size,p=t._datatype;if(!s)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,v=r[0],g=f[1],y=l,b=c,w=h,E=0;i&&p&&i===p&&"string"==typeof i&&(d=i,y=o.find(l,[d,d]),b=o.find(c,[d,d]),w=o.find(h,[d,d]),E=o.convert(0,d));for(var S=[],x=[],T=[],N=new m({values:S,index:x,ptr:T,size:[v,g],datatype:d}),C=0;g>C;C++){T[C]=x.length;var k=a[C],L=a[C+1];if(L>k)for(var A=0,O=0;v>O;O++){for(var M,_=O+1,D=k;L>D;D++){var P=u[D];A!==_?(M=b(n[O][P],s[D]),A=_):M=y(M,b(n[O][P],s[D]))}A!==_||w(M,E)||(x.push(O),S.push(M))}}return T[g]=x.length,N},k=function(e,t){var n=e._values,r=e._index,i=e._ptr,s=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,a=t._data,f=t._datatype,p=e._size[0],d=t._size[0],v=[],g=[],y=[],b=l,w=c,E=h,S=0;s&&f&&s===f&&"string"==typeof s&&(u=s,b=o.find(l,[u,u]),w=o.find(c,[u,u]),E=o.find(h,[u,u]),S=o.convert(0,u));var x=[],T=[];y[0]=0;for(var N=0;d>N;N++){var C=a[N];if(!E(C,S))for(var k=i[N],L=i[N+1],A=k;L>A;A++){var O=r[A];T[O]?x[O]=b(x[O],w(C,n[A])):(T[O]=!0,g.push(O),x[O]=w(C,n[A]))}}for(var M=g.length,_=0;M>_;_++){var D=g[_];v[_]=x[D]}return y[1]=g.length,new m({values:v,index:g,ptr:y,size:[p,1],datatype:u})},L=function(e,t){var n=e._values,r=e._index,i=e._ptr,s=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,a=t._data,f=t._datatype,p=e._size[0],d=t._size[0],v=t._size[1],g=l,y=c,b=h,w=0;s&&f&&s===f&&"string"==typeof s&&(u=s,g=o.find(l,[u,u]),y=o.find(c,[u,u]),b=o.find(h,[u,u]),w=o.convert(0,u));for(var E=[],S=[],x=[],T=new m({values:E,index:S,ptr:x,size:[p,v],datatype:u}),N=[],C=[],k=0;v>k;k++){x[k]=S.length;for(var L=k+1,A=0;d>A;A++){var O=a[A][k];if(!b(O,w))for(var M=i[A],_=i[A+1],D=M;_>D;D++){var P=r[D];C[P]!==L?(C[P]=L,S.push(P),N[P]=y(O,n[D])):N[P]=g(N[P],y(O,n[D]))}}for(var H=x[k],B=S.length,j=H;B>j;j++){var F=S[j];E[j]=N[F]}}return x[v]=S.length,T},A=function(e,t){var n,r=e._values,i=e._index,s=e._ptr,u=e._datatype,a=t._values,f=t._index,h=t._ptr,p=t._datatype,d=e._size[0],v=t._size[1],g=r&&a,y=l,b=c;u&&p&&u===p&&"string"==typeof u&&(n=u,y=o.find(l,[n,n]),b=o.find(c,[n,n]));for(var w,E,S,x,T,N,C,k,L=g?[]:void 0,A=[],O=[],M=new m({values:L,index:A,ptr:O,size:[d,v],datatype:n}),_=g?[]:void 0,D=[],P=0;v>P;P++){O[P]=A.length;var H=P+1;for(T=h[P],N=h[P+1],x=T;N>x;x++)if(k=f[x],g)for(E=s[k],S=s[k+1],w=E;S>w;w++)C=i[w],D[C]!==H?(D[C]=H,A.push(C),_[C]=b(a[x],r[w])):_[C]=y(_[C],b(a[x],r[w]));else for(E=s[k],S=s[k+1],w=E;S>w;w++)C=i[w],D[C]!==H&&(D[C]=H,A.push(C));if(g)for(var B=O[P],j=A.length,F=B;j>F;F++){var I=A[F];L[F]=_[I]}}return O[v]=A.length,M};return g.toTex={2:"\\left(${args[0]}"+u.operators.multiply+"${args[1]}\\right)"},g}var i=n(3).extend,s=n(40);t.name="multiply",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(48)),o=e.SparseMatrix,u=function(e,t,n,r){var u=e._values,f=e._index,l=e._ptr,c=e._size,h=e._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=c[0],v=c[1],m=s,g=0,y=n;"string"==typeof h&&(p=h,m=i.find(s,[p,p]),g=i.convert(0,p),t=i.convert(t,p),y=i.find(n,[p,p]));for(var b=[],w=[],E=[],S=new o({values:b,index:w,ptr:E,size:[d,v],datatype:p}),x=0;v>x;x++){E[x]=w.length;for(var T=l[x],N=l[x+1],C=T;N>C;C++){var k=f[C],L=r?y(t,u[C]):y(u[C],t);m(L,g)||(w.push(k),b.push(L))}}return E[v]=w.length,S};return u}t.name="algorithm11",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return i(e,s,!0)},Unit:function(e){return e.abs()}});return s.toTex={1:"\\left|${args[0]}\\right|"},s}var i=n(19);t.name="abs",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("fix",{number:function(e){return e>0?Math.floor(e):Math.ceil(e)},Complex:function(t){return new e.Complex(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(e){return e.isNegative()?e.ceil():e.floor()},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="fix",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(48)),u=r(n(61)),a=r(n(62)),f=r(n(63)),l=r(n(57)),c=r(n(58)),h=n(32),p=i("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:o(e,t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=a(e,t,o);break;default:n=u(t,e,o,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,o,!1);break;default:n=l(e,t,o)}}return n},"Array, Array":function(e,t){return p(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return p(s(e),t)},"Matrix, Array":function(e,t){return p(e,s(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=f(e,t,o,!1);break;default:n=c(e,t,o,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=f(t,e,o,!0);break;default:n=c(t,e,o,!0)}return n},"Array, any":function(e,t){return c(s(e),t,o,!1).valueOf()},"any, Array":function(e,t){return c(s(t),e,o,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.equal+"${args[1]}\\right)"},p}t.name="equal",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);n(6),t.name="isNumeric",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("format",{any:i.format,"any, Object | function | number":i.format});return s.toTex=void 0,s}var i=n(23);t.name="format",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("_typeof",{any:function(e){var t=i.type(e);if("Object"===t){if(e.isBigNumber===!0)return"BigNumber";if(e.isComplex===!0)return"Complex";if(e.isFraction===!0)return"Fraction";if(e.isMatrix===!0)return"Matrix";if(e.isUnit===!0)return"Unit";if(e.isIndex===!0)return"Index";if(e.isRange===!0)return"Range";if(e.isChain===!0)return"Chain";if(e.isHelp===!0)return"Help"}return t}});return s.toTex=void 0,s}var i=n(41);t.name="typeof",t.factory=r},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),a(r,e,r.depth)}function s(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function o(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function a(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=a(e,i,r)),i}var s=f(e,n);if(s)return s;var o=Object.keys(n),v=u(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),N(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(n);if(0===o.length){if(C(n)){var m=n.name?": "+n.name:"";return e.stylize("[Function"+m+"]","special")}if(S(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(N(n))return l(n)}var g="",y=!1,w=["{","}"];if(d(n)&&(y=!0,w=["[","]"]),C(n)){var E=n.name?": "+n.name:"";g=" [Function"+E+"]"}if(S(n)&&(g=" "+RegExp.prototype.toString.call(n)),T(n)&&(g=" "+Date.prototype.toUTCString.call(n)),N(n)&&(g=" "+l(n)),0!==o.length||!!y&&0!=n.length){if(0>r)return S(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=y?c(e,n,r,v,o):o.map(function(t){return h(e,n,r,v,t,y)}),e.seen.pop(),p(x,g,w)}return w[0]+g+w[1]}function f(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i){for(var s=[],o=0,u=t.length;u>o;++o)M(t,String(o))?s.push(h(e,t,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(h(e,t,n,r,i,!0))}),s}function h(e,t,n,r,i,s){var o,u,f;if(f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},f.get?u=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(u=e.stylize("[Setter]","special")),M(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(f.value)<0?(u=m(n)?a(e,f.value,null):a(e,f.value,n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),E(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return x(e)&&"[object RegExp]"===L(e)}function x(e){return"object"==typeof e&&null!==e}function T(e){return x(e)&&"[object Date]"===L(e)}function N(e){return x(e)&&("[object Error]"===L(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function L(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,s=r.length,o=String(e).replace(_,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"};default:return e}}),u=r[n];s>n;u=r[++n])o+=m(u)||!x(u)?" "+u:" "+i(u);return o},t.deprecate=function(n,i){function s(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(E(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var o=!1;return s};var D,P={};t.debuglog=function(e){if(E(D)&&(D=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if((new RegExp("\\b"+e+"\\b","i")).test(D)){var n=r.pid;P[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else P[e]=function(){};return P[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=v,t.isNull=m,t.isNullOrUndefined=g,t.isNumber=y,t.isString=b,t.isSymbol=w,t.isUndefined=E,t.isRegExp=S,t.isObject=x,t.isDate=T,t.isError=N,t.isFunction=C,t.isPrimitive=k,t.isBuffer=n(94);var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(95),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(93))},function(e,t){function n(){f=!1,o.length?a=o.concat(a):l=-1,a.length&&r()}function r(){if(!f){var e=setTimeout(n);f=!0;for(var t=a.length;t;){for(o=a,a=[];++l<t;)o&&o[l].run();l=-1,t=a.length}o=null,f=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function s(){}var o,u=e.exports={},a=[],f=!1,l=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new i(e,t)),1!==a.length||f||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("unit",{Unit:function(e){return e.clone()},string:function(t){return e.Unit.isValuelessUnit(t)?new e.Unit(null,t):e.Unit.parse(t)},"number | BigNumber | Fraction | Complex, string":function(t,n){return new e.Unit(t,n)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},s}var i=n(19);t.name="unit",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=r("createUnit",{"Object, Object":function(t,n){return e.Unit.createUnit(t,n)},Object:function(t){return e.Unit.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,n,r){var i={};return i[t]=n,e.Unit.createUnit(i,r)},"string, Unit | string | Object":function(t,n){var r={};return r[t]=n,e.Unit.createUnit(r,{})},string:function(t){var n={};return n[t]={},e.Unit.createUnit(n,{})}});return i}n(19),t.name="createUnit",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=r("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}});return i}n(19),t.name="splitUnit",t.factory=r},function(e,t,n){function r(e,t,n,r,s){function o(t){var n=e.Unit.parse(t);return n.fixPrefix=!0,n}i(s,"speedOfLight",function(){return o("299792458 m s^-1")}),i(s,"gravitationConstant",function(){return o("6.6738480e-11 m^3 kg^-1 s^-2")}),i(s,"planckConstant",function(){return o("6.626069311e-34 J s")}),i(s,"reducedPlanckConstant",function(){return o("1.05457172647e-34 J s")}),i(s,"magneticConstant",function(){return o("1.2566370614e-6 N A^-2")}),i(s,"electricConstant",function(){return o("8.854187817e-12 F m^-1")}),i(s,"vacuumImpedance",function(){return o("376.730313461 ohm")}),i(s,"coulomb",function(){return o("8.9875517873681764e9 N m^2 C^-2")}),i(s,"elementaryCharge",function(){return o("1.60217656535e-19 C")}),i(s,"bohrMagneton",function(){return o("9.2740096820e-24 J T^-1")}),i(s,"conductanceQuantum",function(){return o("7.748091734625e-5 S")}),i(s,"inverseConductanceQuantum",function(){return o("12906.403721742 ohm")}),i(s,"magneticFluxQuantum",function(){return o("2.06783375846e-15 Wb")}),i(s,"nuclearMagneton",function(){return o("5.0507835311e-27 J T^-1")}),i(s,"klitzing",function(){return o("25812.807443484 ohm")}),i(s,"bohrRadius",function(){return o("5.291772109217e-11 m")}),i(s,"classicalElectronRadius",function(){return o("2.817940326727e-15 m")}),i(s,"electronMass",function(){return o("9.1093829140e-31 kg")}),i(s,"fermiCoupling",function(){return o("1.1663645e-5 GeV^-2")}),i(s,"fineStructure",function(){return.007297352569824}),i(s,"hartreeEnergy",function(){return o("4.3597443419e-18 J")}),i(s,"protonMass",function(){return o("1.67262177774e-27 kg")}),i(s,"deuteronMass",function(){return o("3.3435830926e-27 kg")}),i(s,"neutronMass",function(){return o("1.6749271613e-27 kg")}),i(s,"quantumOfCirculation",function(){return o("3.636947552024e-4 m^2 s^-1")}),i(s,"rydberg",function(){return o("10973731.56853955 m^-1")}),i(s,"thomsonCrossSection",function(){return o("6.65245873413e-29 m^2")}),i(s,"weakMixingAngle",function(){return.222321}),i(s,"efimovFactor",function(){return 22.7}),i(s,"atomicMass",function(){return o("1.66053892173e-27 kg")}),i(s,"avogadro",function(){return o("6.0221412927e23 mol^-1")}),i(s,"boltzmann",function(){return o("1.380648813e-23 J K^-1")}),i(s,"faraday",function(){return o("96485.336521 C mol^-1")}),i(s,"firstRadiation",function(){return o("3.7417715317e-16 W m^2")}),i(s,"loschmidt",function(){return o("2.686780524e25 m^-3")}),i(s,"gasConstant",function(){return o("8.314462175 J K^-1 mol^-1")}),i(s,"molarPlanckConstant",function(){return o("3.990312717628e-10 J s mol^-1")}),i(s,"molarVolume",function(){return o("2.241396820e-10 m^3 mol^-1")}),i(s,"sackurTetrode",function(){return-1.164870823}),i(s,"secondRadiation",function(){return o("1.438777013e-2 m K")}),i(s,"stefanBoltzmann",function(){return o("5.67037321e-8 W m^-2 K^-4")}),i(s,"wienDisplacement",function(){return o("2.897772126e-3 m K")}),i(s,"molarMass",function(){return o("1e-3 kg mol^-1")}),i(s,"molarMassC12",function(){return o("1.2e-2 kg mol^-1")}),i(s,"gravity",function(){return o("9.80665 m s^-2")}),i(s,"planckLength",function(){return o("1.61619997e-35 m")}),i(s,"planckMass",function(){return o("2.1765113e-8 kg")}),i(s,"planckTime",function(){return o("5.3910632e-44 s")}),i(s,"planckCharge",function(){return o("1.87554595641e-18 C")}),i(s,"planckTemperature",function(){return o("1.41683385e+32 K")})}var i=n(3).lazy;t.factory=r,t.lazy=!1,t.math=!0},function(e,t,n){"use strict";function r(e,t,o,u,f){f.on("config",function(n,i){n.number!==i.number&&r(e,t,o,u,f)}),f["true"]=!0,f["false"]=!1,f["null"]=null,f.uninitialized=n(40).UNINITIALIZED,"BigNumber"===t.number?(f.Infinity=new e.BigNumber(1/0),f.NaN=new e.BigNumber(NaN),i.lazy(f,"pi",function(){return s.pi(e.BigNumber)}),i.lazy(f,"tau",function(){return s.tau(e.BigNumber)}),i.lazy(f,"e",function(){return s.e(e.BigNumber)}),i.lazy(f,"phi",function(){return s.phi(e.BigNumber)}),i.lazy(f,"E",function(){return f.e}),i.lazy(f,"LN2",function(){return(new e.BigNumber(2)).ln()}),i.lazy(f,"LN10",function(){return(new e.BigNumber(10)).ln()}),i.lazy(f,"LOG2E",function(){return(new e.BigNumber(1)).div((new e.BigNumber(2)).ln())}),i.lazy(f,"LOG10E",function(){return(new e.BigNumber(1)).div((new e.BigNumber(10)).ln())}),i.lazy(f,"PI",function(){return f.pi}),i.lazy(f,"SQRT1_2",function(){return(new e.BigNumber("0.5")).sqrt()}),i.lazy(f,"SQRT2",function(){return(new e.BigNumber(2)).sqrt()})):(f.Infinity=1/0,f.NaN=NaN,f.pi=Math.PI,f.tau=2*Math.PI,f.e=Math.E,f.phi=1.618033988749895,f.E=f.e,f.LN2=Math.LN2,f.LN10=Math.LN10,f.LOG2E=Math.LOG2E,f.LOG10E=Math.LOG10E,f.PI=f.pi,f.SQRT1_2=Math.SQRT1_2,f.SQRT2=Math.SQRT2),f.i=e.Complex.I,f.version=n(101)}var i=n(3),s=n(76);t.factory=r,t.lazy=!1,t.math=!0},function(e,t){e.exports="3.8.1"},function(e,t,n){e.exports=[n(103),n(281),n(310),n(312),n(338),n(283),n(309)]},function(e,t,n){function r(e,t,r,i){var s={};return s.bignumber=n(104),s["boolean"]=n(105),s.complex=n(106),s.createUnit=n(107),s.fraction=n(108),s.index=n(109),s.matrix=n(110),s.number=n(111),s.sparse=n(112),s.splitUnit=n(113),s.string=n(114),s.unit=n(115),s.e=n(116),s.E=n(116),s["false"]=n(117),s.i=n(118),s.Infinity=n(119),s.LN2=n(120),s.LN10=n(121),s.LOG2E=n(122),s.LOG10E=n(123),s.NaN=n(124),s["null"]=n(125),s.pi=n(126),s.PI=n(126),s.phi=n(127),s.SQRT1_2=n(128),s.SQRT2=n(129),s.tau=n(130),s["true"]=n(131),s.version=n(132),s.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},s.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},s.planckConstant={description:"Planck constant",examples:["planckConstant"]},s.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},s.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},s.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},s.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},s.coulomb={description:"Coulomb's constant",examples:["coulomb"]},s.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},s.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},s.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},s.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},s.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},s.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},s.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},s.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},s.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},s.electronMass={description:"Electron mass",examples:["electronMass"]},s.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},s.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},s.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},s.protonMass={description:"Proton mass",examples:["protonMass"]},s.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},s.neutronMass={description:"Neutron mass",examples:["neutronMass"]},s.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},s.rydberg={description:"Rydberg constant",examples:["rydberg"]},s.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},s.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},s.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},s.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},s.avogadro={description:"Avogadro's number",examples:["avogadro"]},s.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},s.faraday={description:"Faraday constant",examples:["faraday"]},s.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},s.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},s.gasConstant={description:"Gas constant",examples:["gasConstant"]},s.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},s.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},s.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},s.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},s.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},s.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},s.molarMass={description:"Molar mass constant",examples:["molarMass"]},s.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},s.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},s.planckLength={description:"Planck length",examples:["planckLength"]},s.planckMass={description:"Planck mass",examples:["planckMass"]},s.planckTime={description:"Planck time",examples:["planckTime"]},s.planckCharge={description:"Planck charge",examples:["planckCharge"]},s.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},s.lsolve=n(133),s.lup=n(134),s.lusolve=n(135),s.slu=n(136),s.usolve=n(137),s.abs=n(138),s.add=n(139),s.cbrt=n(140),s.ceil=n(141),s.cube=n(142),s.divide=n(143),s.dotDivide=n(144),s.dotMultiply=n(145),s.dotPow=n(146),s.exp=n(147),s.fix=n(148),s.floor=n(149),s.gcd=n(150),s.hypot=n(151),s.lcm=n(152),s.log=n(153),s.log10=n(154),s.mod=n(155),s.multiply=n(156),s.norm=n(157),s.nthRoot=n(158),s.pow=n(159),s.round=n(160),s.sign=n(161),s.sqrt=n(162),s.square=n(163),s.subtract=n(164),s.unaryMinus=n(165),s.unaryPlus=n(166),s.xgcd=n(167),s.bitAnd=n(168),s.bitNot=n(169),s.bitOr=n(170),s.bitXor=n(171),s.leftShift=n(172),s.rightArithShift=n(173),s.rightLogShift=n(174),s.bellNumbers=n(175),s.catalan=n(176),s.composition=n(177),s.stirlingS2=n(178),s.config=n(179),s["import"]=n(180),s.typed=n(181),s.arg=n(182),s.conj=n(183),s.re=n(184),s.im=n(185),s.eval=n(186),s.help=n(187),s.distance=n(188),s.intersect=n(189),s.and=n(190),s.not=n(191),s.or=n(192),s.xor=n(193),s.concat=n(194),s.cross=n(195),s.det=n(196),s.diag=n(197),s.dot=n(198),s.eye=n(199),s.filter=n(200),s.flatten=n(201),s.forEach=n(202),s.inv=n(203),s.map=n(204),s.ones=n(205),s.partitionSelect=n(206),s.range=n(207),s.resize=n(208),s.size=n(209),s.sort=n(210),s.squeeze=n(211),s.subset=n(212),s.trace=n(213),s.transpose=n(214),s.zeros=n(215),s.combinations=n(216),s.factorial=n(217),s.gamma=n(218),s.kldivergence=n(219),s.multinomial=n(220),s.permutations=n(221),s.pickRandom=n(222),s.random=n(223),s.randomInt=n(224),s.compare=n(225),s.deepEqual=n(226),s.equal=n(227),s.larger=n(228),s.largerEq=n(229),s.smaller=n(230),s.smallerEq=n(231),s.unequal=n(232),s.erf=n(233),s.mad=n(234),s.max=n(235),s.mean=n(236),s.median=n(237),s.min=n(238),s.mode=n(239),s.prod=n(240),s.quantileSeq=n(241),s.std=n(242),s.sum=n(243),s["var"]=n(244),s.acos=n(245),s.acosh=n(246),s.acot=n(247),s.acoth=n(248),s.acsc=n(249),s.acsch=n(250),s.asec=n(251),s.asech=n(252),s.asin=n(253),s.asinh=n(254),s.atan=n(255),s.atanh=n(256),s.atan2=n(257),s.cos=n(258),s.cosh=n(259),s.cot=n(260),s.coth=n(261),s.csc=n(262),s.csch=n(263),s.sec=n(264),s.sech=n(265),s.sin=n(266),s.sinh=n(267),s.tan=n(268),s.tanh=n(269),s.to=n(270),s.clone=n(271),s.format=n(272),s.isNaN=n(273),s.isInteger=n(274),s.isNegative=n(275),s.isNumeric=n(276),s.isPositive=n(277),s.isPrime=n(278),s.isZero=n(279),s["typeof"]=n(280),s}t.name="docs",t.path="expression",t.factory=r},function(e,t){e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t){e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e,t){e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e,t){e.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(e,t){e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e,t){e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e,t){e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(e,t){e.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t){e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(e,t){e.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(e,t){e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e,t){e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,t){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e,t){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e,t){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e,t){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e,t){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e,t){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e,t){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e,t){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e,t){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e,t){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e,t){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,t){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(e,t){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e,t){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e,t){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e,t){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e,t){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e,t){e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(e,t){e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]}},function(e,t){e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(e,t){e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]}},function(e,t){e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(e,t){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e,t){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(e,t){e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(e,t){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e,t){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e,t){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e,t){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e,t){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e,t){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e,t){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(e,t){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e,t){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e,t){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e,t){e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(e,t){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e,t){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(e,t){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e,t){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e,t){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e,t){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(e,t){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(e,t){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(e,t){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e,t){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e,t){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(e,t){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e,t){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e,t){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e,t){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e,t){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e,t){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e,t){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e,t){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e,t){e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(e,t){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e,t){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e,t){e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(e,t){e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(e,t){e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(e,t){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e,t){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e,t){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e,t){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e,t){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e,t){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e,t){e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(e,t){e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(e,t){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e,t){e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(e,t){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e,t){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(e,t){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e,t){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e,t){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e,t){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e,t){e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e,t){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(e,t){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e,t){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},function(e,t){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},function(e,t){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e,t){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e,t){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,t){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e,t){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e,t){e.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e,t){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e,t){e.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(e,t){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e,t){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e,t){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(e,t){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e,t){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e,t){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},function(e,t){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(e,t){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e,t){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t){e.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(e,t){e.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]}},function(e,t){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e,t){e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(e,t){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e,t){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e,t){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e,t){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e,t){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e,t){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e,t){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e,t){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(e,t){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(e,t){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e,t){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e,t){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e,t){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(e,t){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e,t){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(e,t){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e,t){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e,t){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e,t){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e,t){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e,t){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e,t){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e,t){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e,t){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e,t){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e,t){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e,t){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e,t){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e,t){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e,t){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e,t){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e,t){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e,t){e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(e,t){e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t){e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t){e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(e,t){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e,t,n){e.exports=[n(282),n(305),n(306),n(307),n(308)]},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(283));return s("compile",{string:function(e){return o(e).compile()},"Array | Matrix":function(e){return i(e,function(e){return o(e).compile()})}})}var i=n(19);t.name="compile",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(t,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(dt=n&&n.nodes?n.nodes:{},"string"==typeof t)return vt=t,y();if(Array.isArray(t)||t instanceof e.Matrix)return s(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return vt=e,y()});throw new TypeError("String or matrix expected")}function f(){gt=0,yt=vt.charAt(0),Et=0,St=null}function l(){gt++,yt=vt.charAt(gt)}function c(){return vt.charAt(gt-1)}function h(){return vt.charAt(gt+1)}function p(){return vt.charAt(gt+2)}function d(){for(wt=ct.NULL,bt="",mt="";u.isWhitespace(yt,Et);)l();if("#"==yt)for(;"\n"!=yt&&""!=yt;)mt+=yt,l();if(""==yt)return void (wt=ct.DELIMITER);if("\n"==yt&&!Et)return wt=ct.DELIMITER,bt=yt,void l();var e=yt+h(),t=e+p();if(3==t.length&&ht[t])return wt=ct.DELIMITER,bt=t,l(),l(),void l();if(2==e.length&&ht[e])return wt=ct.DELIMITER,bt=e,l(),void l();if(ht[yt])return wt=ct.DELIMITER,bt=yt,void l();if(!u.isDigitDot(yt)){if(u.isAlpha(yt,c(),h())){for(;u.isAlpha(yt,c(),h())||u.isDigit(yt);)bt+=yt,l();return void (wt=pt.hasOwnProperty(bt)?ct.DELIMITER:ct.SYMBOL)}for(wt=ct.UNKNOWN;""!=yt;)bt+=yt,l();throw K('Syntax error in part "'+bt+'"')}if(wt=ct.NUMBER,"."==yt)bt+=yt,l(),u.isDigit(yt)||(wt=ct.DELIMITER);else{for(;u.isDigit(yt);)bt+=yt,l();u.isDecimalMark(yt,h())&&(bt+=yt,l())}for(;u.isDigit(yt);)bt+=yt,l();if(e=h(),"E"==yt||"e"==yt)if(u.isDigit(e)||"-"==e||"+"==e){if(bt+=yt,l(),"+"!=yt&&"-"!=yt||(bt+=yt,l()),!u.isDigit(yt))throw K('Digit expected, got "'+yt+'"');for(;u.isDigit(yt);)bt+=yt,l();if(u.isDecimalMark(yt,h()))throw K('Digit expected, got "'+yt+'"')}else if("."==e)throw l(),K('Digit expected, got "'+yt+'"')}function v(){do d();while("\n"==bt)}function m(){Et++}function g(){Et--}function y(){f(),d();var e=b();if(""!=bt)throw wt==ct.DELIMITER?Q("Unexpected operator "+bt):K('Unexpected part "'+bt+'"');return e}function b(){var e,t,n=[];if(""==bt)return e=new nt("undefined","undefined"),e.comment=mt,e;for("\n"!=bt&&";"!=bt&&(e=w(),e.comment=mt);"\n"==bt||";"==bt;)0==n.length&&e&&(t=";"!=bt,n.push({node:e,visible:t})),d(),"\n"!=bt&&";"!=bt&&""!=bt&&(e=w(),e.comment=mt,t=";"!=bt,n.push({node:e,visible:t}));return n.length>0?new et(n):e}function w(){var e,t,n,r,i=E();if("="==bt){if(i&&i.isSymbolNode)return e=i.name,v(),n=w(),new Z(new lt(e),n);if(i&&i.isAccessorNode)return v(),n=w(),new Z(i.object,i.index,n);if(i&&i.isFunctionNode&&(r=!0,t=[],e=i.name,i.args.forEach(function(e,n){e&&e.isSymbolNode?t[n]=e.name:r=!1}),r))return v(),n=w(),new rt(e,t,n);throw K("Invalid left hand side of assignment operator =")}return i}function E(){for(var e=S();"?"==bt;){var t=St;St=Et,v();var n=e,r=w();if(":"!=bt)throw K("False part of conditional expression expected");St=null,v();var i=w();e=new tt(n,r,i),St=t}return e}function S(){for(var e=x();"or"==bt;)v(),e=new ot("or","or",[e,x()]);return e}function x(){for(var e=T();"xor"==bt;)v(),e=new ot("xor","xor",[e,T()]);return e}function T(){for(var e=N();"and"==bt;)v(),e=new ot("and","and",[e,N()]);return e}function N(){for(var e=C();"|"==bt;)v(),e=new ot("|","bitOr",[e,C()]);return e}function C(){for(var e=k();"^|"==bt;)v(),e=new ot("^|","bitXor",[e,k()]);return e}function k(){for(var e=L();"&"==bt;)v(),e=new ot("&","bitAnd",[e,L()]);return e}function L(){var e,t,n,r,i;for(e=A(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};bt in t;)n=bt,r=t[n],v(),i=[e,A()],e=new ot(n,r,i);return e}function A(){var e,t,n,r,i;for(e=O(),t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};bt in t;)n=bt,r=t[n],v(),i=[e,O()],e=new ot(n,r,i);return e}function O(){var e,t,n,r,i;for(e=M(),t={to:"to","in":"to"};bt in t;)n=bt,r=t[n],v(),"in"===n&&""===bt?e=new ot("*","multiply",[e,new lt("in")],!0):(i=[e,M()],e=new ot(n,r,i));return e}function M(){var e,t=[];if(e=":"==bt?new nt("1","number"):_(),":"==bt&&St!==Et){for(t.push(e);":"==bt&&t.length<3;)v(),")"==bt||"]"==bt||","==bt||""==bt?t.push(new lt("end")):t.push(_());e=3==t.length?new ft(t[0],t[2],t[1]):new ft(t[0],t[1])}return e}function _(){var e,t,n,r,i;for(e=D(),t={"+":"add","-":"subtract"};bt in t;)n=bt,r=t[n],v(),i=[e,D()],e=new ot(n,r,i);return e}function D(){var e,t,n,r,i;for(e=P(),t=e,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(bt in n)r=bt,i=n[r],v(),t=P(),e=new ot(r,i,[e,t]);else{if(!(wt==ct.SYMBOL||"in"==bt&&e&&e.isConstantNode)&&(wt!=ct.NUMBER||t.isConstantNode||t.isOperatorNode&&"!"!==t.op)&&"("!=bt)break;t=P(),e=new ot("*","multiply",[e,t],!0)}return e}function P(){var e,t,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[bt];return n?(e=bt,v(),t=[P()],new ot(e,n,t)):H()}function H(){var e,t,n,r;return e=B(),"^"!=bt&&".^"!=bt||(t=bt,n="^"==t?"pow":"dotPow",v(),r=[e,P()],e=new ot(t,n,r)),e}function B(){var e,t,n,r,i;for(e=j(),t={"!":"factorial","'":"transpose"};bt in t;)n=bt,r=t[n],d(),i=[e],e=new ot(n,r,i),e=I(e);return e}function j(){var e,t=[];if(wt==ct.SYMBOL&&dt[bt]){if(e=dt[bt],d(),"("==bt){if(t=[],m(),d(),")"!=bt)for(t.push(w());","==bt;)d(),t.push(w());if(")"!=bt)throw K("Parenthesis ) expected");g(),d()}return new e(t)}return F()}function F(){var e,t;return wt==ct.SYMBOL||wt==ct.DELIMITER&&bt in pt?(t=bt,d(),e=new lt(t),e=I(e)):q()}function I(e,t){for(var n;!("("!=bt&&"["!=bt&&"."!=bt||t&&-1===t.indexOf(bt));)if(n=[],"("==bt){if(!(e.isSymbolNode||e.isAccessorNode||e.isFunctionNode))return e;if(m(),d(),")"!=bt)for(n.push(w());","==bt;)d(),n.push(w());if(")"!=bt)throw K("Parenthesis ) expected");g(),d(),e=new at(e,n)}else if("["==bt){if(m(),d(),"]"!=bt)for(n.push(w());","==bt;)d(),n.push(w());if("]"!=bt)throw K("Parenthesis ] expected");g(),d(),e=new G(e,new it(n))}else{if(d(),wt!=ct.SYMBOL)throw K("Property name expected after dot");n.push(new nt(bt)),d();var r=!0;e=new G(e,new it(n,r))}return e}function q(){var e,t;return'"'==bt?(t=R(),e=new nt(t,"string"),e=I(e)):U()}function R(){for(var e="";""!=yt&&'"'!=yt;)"\\"==yt&&(e+=yt,l()),e+=yt,l();if(d(),'"'!=bt)throw K('End of string " expected');return d(),e}function U(){var e,t,n,r;if("["==bt){if(m(),d(),"]"!=bt){var i=z();if(";"==bt){for(n=1,t=[i];";"==bt;)d(),t[n]=z(),n++;if("]"!=bt)throw K("End of matrix ] expected");g(),d(),r=t[0].items.length;for(var s=1;n>s;s++)if(t[s].items.length!=r)throw Q("Column dimensions mismatch ("+t[s].items.length+" != "+r+")");e=new Y(t)}else{if("]"!=bt)throw K("End of matrix ] expected");g(),d(),e=i}}else g(),d(),e=new Y([]);return I(e)}return W()}function z(){for(var e=[w()],t=1;","==bt;)d(),e[t]=w(),t++;return new Y(e)}function W(){if("{"==bt){var e,t={};do if(d(),"}"!=bt){if('"'==bt)e=R();else{if(wt!=ct.SYMBOL)throw K("Symbol or string expected as object key");e=bt,d()}if(":"!=bt)throw K("Colon : expected after object key");d(),t[e]=w()}while(","==bt);if("}"!=bt)throw K("Comma , or bracket } expected after object value");d();var n=new st(t);return n=I(n)}return X()}function X(){var e;return wt==ct.NUMBER?(e=bt,d(),new nt(e,"number")):V()}function V(){var e;if("("==bt){if(m(),d(),e=w(),")"!=bt)throw K("Parenthesis ) expected");return g(),d(),e=new ut(e),e=I(e)}return $()}function $(){throw K(""==bt?"Unexpected end of expression":"Value expected")}function J(){return gt-bt.length+1}function K(e){var t=J(),n=new SyntaxError(e+" (char "+t+")");return n["char"]=t,n}function Q(e){var t=J(),n=new SyntaxError(e+" (char "+t+")");return n["char"]=t,n}var G=r(n(284)),Y=r(n(290)),Z=r(n(291)),et=r(n(294)),tt=r(n(295)),nt=r(n(296)),rt=r(n(297)),it=r(n(298)),st=r(n(301)),ot=r(n(302)),ut=r(n(304)),at=r(n(303)),ft=r(n(299)),lt=r(n(300)),ct={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ht={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},pt={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},dt={},vt="",mt="",gt=0,yt="",bt="",wt=ct.NULL,Et=0,St=null;return u.isAlpha=function(e,t,n){return u.isValidLatinOrGreek(e)||u.isValidMathSymbol(e,n)||u.isValidMathSymbol(t,e)},u.isValidLatinOrGreek=function(e){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},u.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},u.isWhitespace=function(e,t){return" "==e||"	"==e||"\n"==e&&t>0},u.isDecimalMark=function(e,t){return"."==e&&"/"!==t&&"*"!==t&&"^"!==t},u.isDigitDot=function(e){return e>="0"&&"9">=e||"."==e},u.isDigit=function(e){return e>="0"&&"9">=e},u}var i=n(11),s=n(19);t.name="parse",t.path="expression",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError('Node expected for parameter "object"');if(!t||!t.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e){return!(e.isAccessorNode||e.isArrayNode||e.isConstantNode||e.isFunctionNode||e.isObjectNode||e.isParenthesisNode||e.isSymbolNode)}var u=r(n(285)),a=r(n(287));return s.prototype=new u,s.prototype.type="AccessorNode",s.prototype.isAccessorNode=!0,s.prototype._compile=function(e,t){e.access=a;var n=this.object._compile(e,t),r=this.index._compile(e,t);return this.index.isObjectProperty()?n+'["'+this.index.getObjectProperty()+'"]':this.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+r+");})()":"access("+n+", "+r+")"},s.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},s.prototype.map=function(e){return new s(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},s.prototype.clone=function(){return new s(this.object,this.index)},s.prototype._toString=function(e){var t=this.object.toString(e);return o(this.object)&&(t="("+t+")"),t+this.index.toString(e)},s.prototype._toTex=function(e){var t=this.object.toTex(e);return o(this.object)&&(t="\\left("+t+"\\right)"),t+this.index.toTex(e)},s}t.name="AccessorNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r,o){function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator")}function f(e){for(var t in e)if(e.hasOwnProperty(t)&&t in i)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}return u.prototype.eval=function(e){return this.compile().eval(e)},u.prototype.type="Node",u.prototype.isNode=!0,u.prototype.comment="",u.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var e={math:o.expression.transform,args:{},_validateScope:f},t={},n=this._compile(e,t),r=Object.keys(e).map(function(e){return"    var "+e+' = defs["'+e+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};",s=new Function("defs",i);return s(e)},u.prototype._compile=function(e,t){throw new Error("Cannot compile a Node interface")},u.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},u.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},u.prototype._ifNode=function(e){if(!e||!e.isNode)throw new TypeError("Callback function must return a Node");return e},u.prototype.traverse=function(e){function t(e,n){e.forEach(function(e,r,i){n(e,r,i),t(e,n)})}e(this,null,null),t(this,e)},u.prototype.transform=function(e){function t(e,n){return e.map(function(e,r,i){var s=n(e,r,i);return t(s,n)})}var n=e(this,null,null);return t(n,e)},u.prototype.filter=function(e){var t=[];return this.traverse(function(n,r,i){e(n,r,i)&&t.push(n)}),t},u.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},u.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},u.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},u.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},u.prototype.equals=function(e){return e?s(this,e):!1},u.prototype.toString=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof t?t:this._toString(e)},u.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},u.prototype.toTex=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof t?t:this._toTex(e)},u.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},u.prototype.getIdentifier=function(){return this.type},u.prototype.getContent=function(){return this},u}var i=n(286),s=(n(3).extend,n(3).deepEqual);t.name="Node",t.path="expression.node",t.math=!0,t.factory=r},function(e,t){"use strict";e.exports={end:!0}},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(289)),u=r(n(52));return function(e,t){try{if(Array.isArray(e))return u(e).subset(t).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return o(e,t);if("object"==typeof e){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return e[t.getObjectProperty()]}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw i(n)}}}var i=n(288).transform;t.factory=r},function(e,t,n){var r=n(43);t.transform=function(e){return e&&e.isIndexError?new r(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},function(e,t,n){"use strict";function r(e,t,r,f){function l(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(1!=t.size().length)throw new a(t.size().length,1);var n=e.length;u(t.min()[0],n),u(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach(function(t){i+=e.charAt(t)}),i}function c(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(1!=t.size().length)throw new a(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0),s=i.size()[0];if(s!=n.length)throw new a(i.size()[0],n.length);var o=e.length;u(t.min()[0]),u(t.max()[0]);for(var f=[],l=0;o>l;l++)f[l]=e.charAt(l);if(i.forEach(function(e,t){f[e]=n.charAt(t[0])}),f.length>o)for(l=o-1,s=f.length;s>l;l++)f[l]||(f[l]=r);return f.join("")}var h=r(n(52)),p=f("subset",{"Array, Index":function(e,t){var n=h(e),r=n.subset(t);return r&&r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":i,"string, Index":l,"Array, Index, any":function(e,t,n){return h(o(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,r){return h(o(e)).subset(t,n,r).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":c,"string, Index, string, string":c,"Object, Index, any":s});return p.toTex=void 0,p}function i(e,t){if(1!==t.size().length)throw new a(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return e[n]}function s(e,t,n){if(1!==t.size().length)throw new a(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=o(e);return i[r]=n,i}var o=n(3).clone,u=n(40).validateIndex,a=n(42);t.name="subset",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(function(e){return e&&e.isNode}))throw new TypeError("Array containing Nodes expected");var t=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:t,set:t})}var o=r(n(285));return s.prototype=new o,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(e,t){var n="Array"!==e.math.config().matrix,r=this.items.map(function(n){return n._compile(e,t)});return(n?"math.matrix([":"[")+r.join(",")+(n?"])":"]")},s.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];e(n,"items["+t+"]",this)}},s.prototype.map=function(e){for(var t=[],n=0;n<this.items.length;n++)t[n]=this._ifNode(e(this.items[n],"items["+n+"]",this));return new s(t)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(e){var t=this.items.map(function(t){return t.toString(e)});return"["+t.join(", ")+"]"},s.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach(function(n){t+=n.items?n.items.map(function(t){return t.toTex(e)}).join("&"):n.toTex(e),t+="\\\\"}),t+="\\end{bmatrix}"},s}t.name="ArrayNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n?n:t,!e||!e.isSymbolNode&&!e.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e&&e.isSymbolNode&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e,t){t||(t="keep");var n=l.getPrecedence(e,t),r=l.getPrecedence(e.value,t);return"all"===t||null!==r&&n>=r}var u=r(n(285)),a=(r(n(290)),r(n(52)),r(n(292))),f=r(n(287)),l=(n(286),n(293));return s.prototype=new u,s.prototype.type="AssignmentNode",s.prototype.isAssignmentNode=!0,s.prototype._compile=function(e,t){e.assign=a,e.access=f;var n,r=this.object._compile(e,t),i=this.index?this.index._compile(e,t):null,s=this.value._compile(e,t);if(this.index){if(this.index.isObjectProperty())return r+'["'+this.index.getObjectProperty()+'"] = '+s;if(this.object.isSymbolNode)return n=this.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+r+";  var value = "+s+";  "+n+'  scope["'+this.object.name+'"] = assign(object, '+i+", value);  return value;})()";n=this.index.needsSize()?"var size = math.size(object).valueOf();":"";var o=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var u='["'+this.object.index.getObjectProperty()+'"]';return"(function () {  var parent = "+o+";  var object = parent"+u+";  var value = "+s+";"+n+"  parent"+u+" = assign(object, "+i+", value);  return value;})()"}var l=this.object.index.needsSize()?"var size = math.size(parent).valueOf();":"",h=this.object.index._compile(e,t);return"(function () {  var parent = "+o+";  "+l+"  var parentIndex = "+h+";  var object = access(parent, parentIndex);  var value = "+s+";  "+n+"  assign(parent, parentIndex, assign(object, "+i+", value));  return value;})()"}if(!this.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return'scope["'+this.object.name+'"] = '+s},s.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},s.prototype.map=function(e){var t=this._ifNode(e(this.object,"object",this)),n=this.index?this._ifNode(e(this.index,"index",this)):null,r=this._ifNode(e(this.value,"value",this));return new s(t,n,r)},s.prototype.clone=function(){return new s(this.object,this.index,this.value)},s.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return o(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},s.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return o(this,e&&e.parenthesis)&&(r="\\left("+r+"\\right)"),t+n+":="+r},s}n(32),t.name="AssignmentNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(289)),u=r(n(52));return function(e,t,n){try{if(Array.isArray(e))return u(e).subset(t,n).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,n);if("string"==typeof e)return o(e,t,n);if("object"==typeof e){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return e[t.getObjectProperty()]=n,e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw i(r)}}}var i=n(288).transform;t.factory=r},function(e,t){"use strict";function n(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<s.length;i++)if(r in s[i])return i;return null}function r(e,t){var r=e;"keep"!==t&&(r=e.getContent());var i=r.getIdentifier(),o=n(r,t);if(null===o)return null;var u=s[o][i];if(u.hasOwnProperty("associativity")){if("left"===u.associativity)return"left";if("right"===u.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+u.associativity+"'.")}return null}function i(e,t,r){var i=e,o=t;if("keep"!==r)var i=e.getContent(),o=t.getContent();var u=i.getIdentifier(),f=o.getIdentifier(),l=n(i,r);if(null===l)return null;var c=s[l][u];if(c.hasOwnProperty("associativeWith")&&c.associativeWith instanceof Array){for(var h=0;h<c.associativeWith.length;h++)if(c.associativeWith[h]===f)return!0;return!1}return null}var s=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];e.exports.properties=s,e.exports.getPrecedence=n,e.exports.getAssociativity=r,e.exports.isAssociativeWith=i},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,n=e&&void 0!==e.visible?e.visible:!0;if(!t||!t.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}})}var o=r(n(285)),u=r(n(72));return s.prototype=new o,s.prototype.type="BlockNode",s.prototype.isBlockNode=!0,s.prototype._compile=function(e,t){e.ResultSet=u;var n=this.blocks.map(function(n){var r=n.node._compile(e,t);return n.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+n.join("")+"return new ResultSet(results);})()"},s.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},s.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],i=this._ifNode(e(r.node,"blocks["+n+"].node",this));t[n]={node:i,visible:r.visible}}return new s(t)},s.prototype.clone=function(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new s(e)},s.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},s.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},s}t.name="BlockNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError("Parameter condition must be a Node");if(!t||!t.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n}var u=r(n(285));return o.prototype=new u,o.prototype.type="ConditionalNode",o.prototype.isConditionalNode=!0,o.prototype._compile=function(e,t){return e.testCondition=function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(t.isBigNumber===!0)return!t.isZero();if(t.isComplex===!0)return!!t.re||!!t.im;if(t.isUnit===!0)return!!t.value}if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](t)+'"')},"testCondition("+this.condition._compile(e,t)+") ? ( "+this.trueExpr._compile(e,t)+") : ( "+this.falseExpr._compile(e,t)+")"},o.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},o.prototype.clone=function(){return new o(this.condition,this.trueExpr,this.falseExpr)},o.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=i.getPrecedence(this,t),r=this.condition.toString(e),s=i.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==s&&n>=s)&&(r="("+r+")");var o=this.trueExpr.toString(e),u=i.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==u&&n>=u)&&(o="("+o+")");var a=this.falseExpr.toString(e),f=i.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==f&&n>=f)&&(a="("+a+")"),r+" ? "+o+" : "+a},o.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},o}var i=(n(32),n(293));t.name="ConditionalNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t){if("string"!=typeof t)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof e)throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=i(e);if(!a[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var u=r(n(285)),a={number:!0,string:!0,"boolean":!0,"undefined":!0,"null":!0};return o.prototype=new u,o.prototype.type="ConstantNode",o.prototype.isConstantNode=!0,o.prototype._compile=function(e,t){switch(this.valueType){case"number":var n=e.math.config().number;return"BigNumber"===n?'math.bignumber("'+this.value+'")':"Fraction"===n?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},o.prototype.forEach=function(e){},o.prototype.map=function(e){return this.clone()},o.prototype.clone=function(){return new o(this.value,this.valueType)},o.prototype._toString=function(e){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},o.prototype._toTex=function(e){var t,n=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+n+'"}';case"number":return t=n.toLowerCase().indexOf("e"),-1!==t?n.substring(0,t)+"\\cdot10^{"+n.substring(t+1)+"}":n;default:return n}},o}var i=n(41).type;t.name="ConstantNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){function f(e,t,n){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(e in i)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=n}function l(e,t){var n=o.getPrecedence(e,t),r=o.getPrecedence(e.expr,t);return"all"===t||null!==r&&n>=r}var c=r(n(285));return f.prototype=new c,f.prototype.type="FunctionAssignmentNode",f.prototype.isFunctionAssignmentNode=!0,f.prototype._compile=function(e,t){e.typed=u;var n=Object.create(t);this.params.forEach(function(e){n[e]=!0});var r=this.expr._compile(e,n);return'scope["'+this.name+'"] =   (function () {    var fn = typed("'+this.name+'", {      "'+this.types.join(",")+'": function ('+this.params.join(",")+") {        return "+r+'      }    });    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},f.prototype.forEach=function(e){e(this.expr,"expr",this)},f.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new f(this.name,this.params.slice(0),t)},f.prototype.clone=function(){return new f(this.name,this.params.slice(0),this.expr)},f.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return l(this,t)&&(n="("+n+")"),"function "+this.name+"("+this.params.join(", ")+") = "+n},f.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return l(this,t)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+n},f}var i=n(286),s=n(32),o=n(293);t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!a(e)||!e.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}var o=r(n(285)),u=(r(n(299)),r(n(300)),r(n(67))),a=Array.isArray;return s.prototype=new o,s.prototype.type="IndexNode",s.prototype.isIndexNode=!0,s.prototype._compile=function(e,t){var n=Object.create(t);e.range=function(e,t,n){return new u(e&&e.isBigNumber===!0?e.toNumber():e,t&&t.isBigNumber===!0?t.toNumber():t,n&&n.isBigNumber===!0?n.toNumber():n)};var r=this.dimensions.map(function(t,r){return t&&t.isRangeNode?t.needsEnd()?(n.end=!0,"(function () {var end = size["+r+"]; return range("+t.start._compile(e,n)+", "+t.end._compile(e,n)+", "+(t.step?t.step._compile(e,n):"1")+"); })()"):"range("+t.start._compile(e,n)+", "+t.end._compile(e,n)+", "+(t.step?t.step._compile(e,n):"1")+")":t.isSymbolNode&&"end"===t.name?(n.end=!0,"(function () {var end = size["+r+"]; return "+t._compile(e,n)+"; })()"):t._compile(e,n)});return"math.index("+r.join(", ")+")"},s.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},s.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new s(t)},s.prototype.clone=function(){return new s(this.dimensions.slice(0))},s.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},s.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},s.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},s.prototype.needsSize=function(){return this.dimensions.some(function(e){return e.isRangeNode&&e.needsEnd()||e.isSymbolNode&&"end"===e.name})},s}t.name="IndexNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError("Node expected");if(!t||!t.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}function u(e,t){var n=i.getPrecedence(e,t),r={},s=i.getPrecedence(e.start,t);if(r.start=null!==s&&n>=s||"all"===t,e.step){var o=i.getPrecedence(e.step,t);r.step=null!==o&&n>=o||"all"===t}var u=i.getPrecedence(e.end,t);return r.end=null!==u&&n>=u||"all"===t,r}var a=r(n(285));return o.prototype=new a,o.prototype.type="RangeNode",o.prototype.isRangeNode=!0,o.prototype.needsEnd=function(){var e=this.filter(function(e){return e&&e.isSymbolNode&&"end"==e.name});return e.length>0},o.prototype._compile=function(e,t){return"math.range("+this.start._compile(e,t)+", "+this.end._compile(e,t)+(this.step?", "+this.step._compile(e,t):"")+")"},o.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},o.prototype.clone=function(){return new o(this.start,this.end,this.step&&this.step)},o.prototype._toString=function(e){var t,n=e&&e.parenthesis?e.parenthesis:"keep",r=u(this,n),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var s=this.step.toString(e);r.step&&(s="("+s+")"),t+=":"+s}var o=this.end.toString(e);return r.end&&(o="("+o+")"),t+=":"+o},o.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=u(this,t),r=this.start.toTex(e);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(e);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var s=this.end.toTex(e);return n.end&&(s="\\left("+s+"\\right)"),r+=":"+s},o}var i=n(293);t.name="RangeNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s,o){function u(e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}function a(e){throw new Error("Undefined symbol "+e)}var f=r(n(285)),l=r(n(75));return u.prototype=new f,u.prototype.type="SymbolNode",u.prototype.isSymbolNode=!0,u.prototype._compile=function(e,t){return e.undef=a,e.Unit=l,t[this.name]?this.name:this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(l.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},u.prototype.forEach=function(e){},u.prototype.map=function(e){return this.clone()},u.prototype.clone=function(){return new u(this.name)},u.prototype._toString=function(e){return this.name},u.prototype._toTex=function(e){var t=!1;"undefined"==typeof o[this.name]&&l.isValuelessUnit(this.name)&&(t=!0);var n=i.toSymbol(this.name,t);return"\\"===n[0]?n:" "+n},u}var i=n(32);t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!=typeof e||Object.keys(e).some(function(t){return!e[t]||!e[t].isNode})))throw new TypeError("Object containing Nodes expected")}var o=r(n(285));return s.prototype=new o,s.prototype.type="ObjectNode",s.prototype.isObjectNode=!0,s.prototype._compile=function(e,t){var n=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&n.push('"'+r+'": '+this.properties[r]._compile(e,t));return"{"+n.join(", ")+"}"},s.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],'properties["'+t+'"]',this)},s.prototype.map=function(e){var t={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(t[n]=this._ifNode(e(this.properties[n],'properties["'+n+'"]',this)));return new s(t)},s.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new s(e)},s.prototype._toString=function(e){var t=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&t.push('"'+n+'": '+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},s.prototype._toTex=function(e){var t=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"},s}n(23),t.name="ObjectNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o,u){function f(e,t,n,r){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=r===!0,this.op=e,this.fn=t,this.args=n||[]}function l(e,t,n,r){var i=s.getPrecedence(e,t),o=s.getAssociativity(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()){var u=n.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});return u}if(0===n.length)return[];if(1===n.length){var f=s.getPrecedence(n[0],t);if(r&&null!==f){var l,c;if("keep"===t?(l=n[0].getIdentifier(),c=e.getIdentifier()):(l=n[0].getContent().getIdentifier(),c=e.getContent().getIdentifier()),s.properties[i][c].latexLeftParens===!1)return[!1];if(s.properties[f][l].latexParens===!1)return[!1]}return null===f?[!1]:i>=f?[!0]:[!1]}if(2===n.length){var h,p=s.getPrecedence(n[0],t),d=s.isAssociativeWith(e,n[0],t);h=null===p?!1:p!==i||"right"!==o||d?i>p:!0;var v,m=s.getPrecedence(n[1],t),g=s.isAssociativeWith(e,n[1],t);if(v=null===m?!1:m!==i||"left"!==o||g?i>m:!0,r){var c,y,b;"keep"===t?(c=e.getIdentifier(),y=e.args[0].getIdentifier(),b=e.args[1].getIdentifier()):(c=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),b=e.args[1].getContent().getIdentifier()),null!==p&&(s.properties[i][c].latexLeftParens===!1&&(h=!1),s.properties[p][y].latexParens===!1&&(h=!1)),null!==m&&(s.properties[i][c].latexRightParens===!1&&(v=!1),s.properties[m][b].latexParens===!1&&(v=!1))}return[h,v]}if(n.length>2&&("OperatorNode:add"===e.getIdentifier()||"OperatorNode:multiply"===e.getIdentifier())){var w=n.map(function(n){var r=s.getPrecedence(n,t),u=s.isAssociativeWith(e,n,t),f=s.getAssociativity(n,t);return null===r?!1:i!==r||o!==f||u?i>r:!0});return w}}var c=r(n(285));return r(n(296)),r(n(300)),r(n(303)),f.prototype=new c,f.prototype.type="OperatorNode",f.prototype.isOperatorNode=!0,f.prototype._compile=function(e,t){if(!e.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var n=this.args.map(function(n){return n._compile(e,t)});return"math."+this.fn+"("+n.join(", ")+")"},f.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},f.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new f(this.op,this.fn,t)},f.prototype.clone=function(){return new f(this.op,this.fn,this.args.slice(0),this.implicit)},f.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",r=this.args,i=l(this,t,r,!1);if(1===r.length){var o=s.getAssociativity(this,t),u=r[0].toString(e);return i[0]&&(u="("+u+")"),"right"===o?this.op+u:"left"===o?u+this.op:u+this.op}if(2==r.length){var f=r[0].toString(e),c=r[1].toString(e);return i[0]&&(f="("+f+")"),i[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==n?f+" "+c:f+" "+this.op+" "+c}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=r.map(function(t,n){return t=t.toString(e),i[n]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},f.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",r=this.args,o=l(this,t,r,!0),u=i.operators[this.fn];if(u="undefined"==typeof u?this.op:u,1===r.length){var f=s.getAssociativity(this,t),c=r[0].toTex(e);return o[0]&&(c="\\left("+c+"\\right)"),"right"===f?u+c:"left"===f?c+u:c+u}if(2===r.length){var h=r[0],p=h.toTex(e);o[0]&&(p="\\left("+p+"\\right)");var d=r[1],v=d.toTex(e);o[1]&&(v="\\left("+v+"\\right)");var m;switch(m="keep"===t?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return u+"{"+p+"}{"+v+"}";case"OperatorNode:pow":switch(p="{"+p+"}",v="{"+v+"}",m){case"ConditionalNode":case"OperatorNode:divide":p="\\left("+p+"\\right)"};case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return p+"~"+v}return p+u+v}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=r.map(function(t,n){return t=t.toTex(e),o[n]&&(t="\\left("+t+"\\right)"),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?g.join("~"):g.join(u)}return"\\mathrm{"+this.fn+"}\\left("+r.map(function(t){return t.toTex(e)}).join(",")+"\\right)"},f.prototype.getIdentifier=function(){return this.type+":"+this.fn},f}var i=n(32),s=n(293);t.name="OperatorNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s,o){function u(e,t){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(console.warn("WARNING: passing a string to FunctionNode is deprecated, pass a SymbolNode instead."),e=new l(e)),!e||!e.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function a(e,t,n){for(var r,i="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),o=0;null!==(r=s.exec(e));)if(i+=e.substring(o,r.index),o=r.index,"$$"===r[0])i+="$",o++;else{o+=r[0].length;var u=t[r[1]];if(!u)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof u){case"string":i+=u;break;case"object":if(u.isNode)i+=u.toTex(n);else{if(!Array.isArray(u))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=u.map(function(e,t){if(e&&e.isNode)return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!u[r[2]]||!u[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=u[r[2]].toTex(n)}}return i+=e.slice(o)}var f=r(n(285)),l=r(n(300));u.prototype=new f,u.prototype.type="FunctionNode",u.prototype.isFunctionNode=!0,u.prototype._compile=function(e,t){var n,r=this.fn._compile(e,t),i=this.args.map(function(n){return n._compile(e,t)});if(this.fn.isSymbolNode){var s=this.fn.name,o=e.math[s],u="function"==typeof o&&1==o.rawArgs;return u?(n=this._getUniqueArgumentsName(e),e[n]=this.args,r+"("+n+", math, scope)"):r+"("+i.join(", ")+")"}if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){n=this._getUniqueArgumentsName(e),e[n]=this.args;var a=this.fn.object._compile(e,t),f=this.fn.index.getObjectProperty();return"(function () {var object = "+a+';return (object["'+f+'"] && object["'+f+'"].rawArgs)  ? object["'+f+'"]('+n+', math, scope) : object["'+f+'"]('+i.join(", ")+")})()"}return n=this._getUniqueArgumentsName(e),e[n]=this.args,"(function () {var fn = "+r+";return (fn && fn.rawArgs)  ? fn("+n+", math, scope) : fn("+i.join(", ")+")})()"},u.prototype._getUniqueArgumentsName=function(e){var t,n=0;do t="args"+n,n++;while(t in e);return t},u.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},u.prototype.map=function(e){for(var t=this.fn.map(e),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new u(t,n)},u.prototype.clone=function(){return new u(this.fn,this.args.slice(0))};var c=u.prototype.toString;u.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(n)&&(t=e.handler[n](this,e)),"undefined"!=typeof t?t:c.call(this,e)},u.prototype._toString=function(e){var t=this.args.map(function(t){return t.toString(e)});return this.fn.toString(e)+"("+t.join(", ")+")"};var h=u.prototype.toTex;return u.prototype.toTex=function(e){var t;return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(this.name)&&(t=e.handler[this.name](this,e)),"undefined"!=typeof t?t:h.call(this,e)},u.prototype._toTex=function(e){var t,n=this.args.map(function(t){return t.toTex(e)});!o[this.name]||"function"!=typeof o[this.name].toTex&&"object"!=typeof o[this.name].toTex&&"string"!=typeof o[this.name].toTex||(t=o[this.name].toTex);var r;switch(typeof t){case"function":r=t(this,e);break;case"string":r=a(t,this,e);break;case"object":switch(typeof t[n.length]){case"function":r=t[n.length](this,e);break;case"string":r=a(t[n.length],this,e)}}return"undefined"!=typeof r?r:a(i.defaultTemplate,this,e)},u.prototype.getIdentifier=function(){return this.type+":"+this.name},u}var i=n(32);t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError('Node expected for parameter "content"');this.content=e}var o=r(n(285));return s.prototype=new o,s.prototype.type="ParenthesisNode",s.prototype.isParenthesisNode=!0,s.prototype._compile=function(e,t){return this.content._compile(e,t)},s.prototype.getContent=function(){return this.content.getContent()},s.prototype.forEach=function(e){e(this.content,"content",this)},s.prototype.map=function(e){var t=e(this.content,"content",this);return new s(t)},s.prototype.clone=function(){return new s(this.content)},s.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},s.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left("+this.content.toTex(e)+"\\right)":this.content.toTex(e)},s}t.name="ParenthesisNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(283));return s("compile",{string:function(e){var t={};return o(e).compile().eval(t)},"string, Object":function(e,t){return o(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return i(e,function(e){return o(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return i(e,function(e){return o(e).compile().eval(t)})}})}var i=n(19);t.name="eval",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i,s){var o=r(n(103));return i("help",{any:function(t){var n,r=t;if("string"!=typeof t)for(n in s)if(s.hasOwnProperty(n)&&t===s[n]){r=n;break}var i=o[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new e.Help(i)}})}t.math=!0,t.name="help",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(283));return i("parse",{"string | Array | Matrix":s,"string | Array | Matrix, Object":s})}t.name="parse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i,s){var o=r(n(309));return i("parser",{"":function(){return new o(s)}})}t.name="parser",t.factory=r,t.math=!0},function(e,t,n){"use strict";function r(e,t,r,s,o){function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var a=r(n(283));return u.prototype.type="Parser",u.prototype.isParser=!0,u.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},u.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},u.prototype.eval=function(e){return a(e).compile().eval(this.scope)},u.prototype.get=function(e){return this.scope[e]},u.prototype.getAll=function(){return i({},this.scope)},u.prototype.set=function(e,t){return this.scope[e]=t},u.prototype.remove=function(e){delete this.scope[e]},u.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},u}var i=n(3).extend;t.name="Parser",t.path="expression",t.factory=r,t.math=!0},function(e,t,n){e.exports=[n(284),n(290),n(291),n(294),n(295),n(296),n(298),n(297),n(303),n(285),n(301),n(302),n(304),n(299),n(300),n(311)]},function(e,t){"use strict";function n(e,t,n,r){function i(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}t.name="UpdateNode",t.path="expression.node",t.factory=n},function(e,t,n){e.exports=[n(313),n(315),n(317),n(319),n(320),n(322),n(328),n(333),n(335),n(337)]},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(314));return s("concat",{"...any":function(e){var t=e.length-1,n=e[t];"number"==typeof n?e[t]=n-1:n&&n.isBigNumber===!0&&(e[t]=n.minus(1));try{return o.apply(null,e)}catch(r){throw i(r)}}})}var i=n(288).transform;t.name="concat",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,l){var h=r(n(52)),p=l("concat",{"...Array | Matrix | number | BigNumber":function(e){var t,n,r=e.length,l=-1,p=!1,d=[];for(t=0;r>t;t++){var v=e[t];if(v&&v.isMatrix===!0&&(p=!0),"number"==typeof v||v&&v.isBigNumber===!0){if(t!==r-1)throw new Error("Dimension must be specified as last argument");if(n=l,l=v.valueOf(),!o(l))throw new TypeError("Integer number expected for dimension");if(0>l||t>0&&l>n)throw new a(l,n+1)}else{var m=s(v).valueOf(),g=u.size(m);if(d[t]=m,n=l,l=g.length-1,t>0&&l!=n)throw new f(n+1,l+1)}}if(0==d.length)throw new SyntaxError("At least one matrix expected");for(var y=d.shift();d.length;)y=i(y,d.shift(),l,0);return p?h(y):y},"...string":function(e){return e.join("")}});return p.toTex=void 0,p}function i(e,t,n,r){if(n>r){if(e.length!=t.length)throw new f(e.length,t.length);for(var s=[],o=0;o<e.length;o++)s[o]=i(e[o],t[o],n,r+1);return s}return e.concat(t)}var s=n(3).clone,o=n(6).isInteger,u=n(40),a=n(43),f=n(42);t.name="concat",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t,n){var r,i;if(e[0]&&(r=e[0].compile().eval(n)),e[1])if(e[1]&&e[1].isSymbolNode)i=e[1].compile().eval(n);else{var s=n||{},u=e[1].filter(function(e){return e&&e.isSymbolNode&&!(e.name in t)&&!(e.name in s)})[0],a=Object.create(s),f=e[1].compile();if(!u)throw new Error("No undefined variable found in filter equation");var l=u.name;i=function(e){return a[l]=e,f.eval(a)}}return o(r,i)}var o=r(n(316));return r(n(300)),s.rawArgs=!0,s}n(45).maxArgumentCount,t.name="filter",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=o("filter",{"Array, function":i,"Array, RegExp":s,"Matrix, function":function(e,t){return u(i(e.toArray(),t))},"Matrix, RegExp":function(e,t){return u(s(e.toArray(),t))}});return f.toTex=void 0,f}function i(e,t){if(1!==o(e).length)throw new Error("Only one dimensional matrices supported");var n=u(t);return e.filter(function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)})}function s(e,t){if(1!==o(e).length)throw new Error("Only one dimensional matrices supported");return e.filter(function(e){return t.test(e)})}var o=n(40).size,u=n(45).maxArgumentCount;t.name="filter",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){return r(n(318)),s("forEach",{"Array | Matrix, function":function(e,t){var n=i(t),r=function(i,s){Array.isArray(i)?i.forEach(function(e,t){r(e,s.concat(t+1))}):1===n?t(i):2===n?t(i,s):t(i,s,e)};r(e.valueOf(),[])}})}var i=n(45).maxArgumentCount;t.name="forEach",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("forEach",{"Array, function":i,"Matrix, function":function(e,t){return e.forEach(t)}});return s.toTex=void 0,s}function i(e,t){var n=s(t),r=function(i,s){Array.isArray(i)?i.forEach(function(e,t){r(e,s.concat(t))}):1===n?t(i):2===n?t(i,s):t(i,s,e)};r(e,[])}var s=n(45).maxArgumentCount;t.name="forEach",t.factory=r},function(e,t){"use strict";function n(e,t,n){return function(){for(var t=[],n=0,r=arguments.length;r>n;n++){var i=arguments[n];if(i&&i.isRange===!0)i.start--,i.end-=i.step>0?0:2;else if(i&&i.isSet===!0)i=i.map(function(e){return e-1});else if(i&&(i.isArray===!0||i.isMatrix))i=i.map(function(e){return e-1});else if("number"==typeof i)i--;else if(i&&i.isBigNumber===!0)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");t[n]=i}var s=new e.Index;return e.Index.apply(s,t),s}}t.name="index",t.path="expression.transform",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,s){var o=(r(n(321)),r(n(52)));return s("max",{"Array, function":function(e,t){return i(e,t,e)},"Matrix, function":function(e,t){return o(i(e.valueOf(),t,e))}})}function i(e,t,n){function r(e,s){return Array.isArray(e)?e.map(function(e,t){return r(e,s.concat(t+1))}):1===i?t(e):2===i?t(e,s):t(e,s,n)}var i=s(t);return r(e,[])}var s=n(45).maxArgumentCount;t.name="map",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("map",{"Array, function":i,"Matrix, function":function(e,t){return e.map(t)}});return s.toTex=void 0,s}function i(e,t){var n=s(t),r=function(i,s){return Array.isArray(i)?i.map(function(e,t){return r(e,s.concat(t))}):1===n?t(i):2===n?t(i,s):t(i,s,e)};return r(e,[])}var s=n(45).maxArgumentCount;t.name="map",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(324));return o("max",{"...any":function(e){if(2==e.length&&s(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return u.apply(null,e)}catch(n){throw i(n)}}})}var i=n(288).transform,s=n(323);t.name="max",t.path="expression.transform",t.factory=r},function(e,t){"use strict";e.exports=function(e){return Array.isArray(e)||e&&e.isMatrix===!0}},function(e,t,n){"use strict";function r(e,t,r,u){function f(e,t){return c(e,t)?e:t}function l(e){var t=void 0;if(i(e,function(e){(void 0===t||c(e,t))&&(t=e)}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}var c=r(n(64)),h=u("max",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){return s(e,t.valueOf(),f)},"...":function(e){if(o(e))throw new TypeError("Scalar values expected in function max");return l(e)}});return h.toTex="\\max\\left(${args}\\right)",h}var i=n(325),s=n(326),o=n(327);t.name="max",t.factory=r},function(e,t){"use strict";e.exports=function n(e,t){e&&e.isMatrix===!0&&(e=e.valueOf());for(var r=0,i=e.length;i>r;r++){var s=e[r];Array.isArray(s)?n(s,t):t(s)}}},function(e,t,n){"use strict";function r(e,t,n){var s,o,u,a;if(0>=t){if(Array.isArray(e[0])){for(a=i(e),o=[],s=0;s<a.length;s++)o[s]=r(a[s],t-1,n);return o}for(u=e[0],s=1;s<e.length;s++)u=n(u,e[s]);return u}for(o=[],s=0;s<e.length;s++)o[s]=r(e[s],t-1,n);return o}function i(e){var t,n,r=e.length,i=e[0].length,s=[];for(n=0;i>n;n++){var o=[];for(t=0;r>t;t++)o.push(e[t][n]);s.push(o)}return s}var s=n(40).size,o=n(43);e.exports=function(e,t,n){var i=Array.isArray(e)?s(e):e.size();if(0>t||t>=i.length)throw new o(t,i.length);return e&&e.isMatrix===!0?e.create(r(e.valueOf(),t,n)):r(e,t,n)}},function(e,t,n){"use strict";var r=n(323);e.exports=function(e){for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(329));return o("mean",{"...any":function(e){if(2==e.length&&s(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return u.apply(null,e)}catch(n){throw i(n)}}})}var i=n(288).transform,s=n(323);t.name="mean",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,f){function l(e,t){var n=o(e,t,h),r=Array.isArray(e)?i(e):e.size();return p(n,r[t])}function c(e){var t=0,n=0;if(s(e,function(e){t=h(t,e),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return p(t,n)}var h=r(n(51)),p=r(n(330)),d=f("mean",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":l,"...":function(e){if(u(e))throw new TypeError("Scalar values expected in function mean");return c(e)}});return d.toTex=void 0,d}var i=n(40).size,s=n(325),o=n(326),u=n(327);t.name="mean",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(81)),u=r(n(84)),a=r(n(331)),f=r(n(52)),l=r(n(85)),c=r(n(58)),h=s("divide",i({"Array | Matrix, Array | Matrix":function(e,t){return u(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,o,!1);break;case"dense":n=c(e,t,o,!1)}return n},"Array, any":function(e,t){return c(f(e),t,o,!1).valueOf()},"any, Array | Matrix":function(e,t){return u(e,a(t))}},o.signatures));return h.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},h}var i=n(3).extend;t.name="divide",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t,n){var r,i,s,o,u;if(1==t){if(o=e[0][0],0==o)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,o)]]}if(2==t){var d=h(e);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[a(e[1][1],d),a(c(e[0][1]),d)],[a(c(e[1][0]),d),a(e[0][0],d)]]}var v=e.concat();for(r=0;t>r;r++)v[r]=v[r].concat();for(var m=p(t).valueOf(),g=0;n>g;g++){for(r=g;t>r&&0==v[r][g];)r++;if(r==t||0==v[r][g])throw Error("Cannot calculate inverse, determinant is zero");r!=g&&(u=v[g],v[g]=v[r],v[r]=u,u=m[g],m[g]=m[r],m[r]=u);var y=v[g],b=m[g];for(r=0;t>r;r++){var w=v[r],E=m[r];if(r!=g){if(0!=w[g]){for(s=a(c(w[g]),y[g]),i=g;n>i;i++)w[i]=f(w[i],l(s,y[i]));for(i=0;n>i;i++)E[i]=f(E[i],l(s,b[i]))}}else{for(s=y[g],i=g;n>i;i++)w[i]=a(w[i],s);for(i=0;n>i;i++)E[i]=a(E[i],s)}}}return m}var u=r(n(52)),a=r(n(81)),f=r(n(53)),l=r(n(84)),c=r(n(78)),h=r(n(332)),p=r(n(83)),d=s("inv",{"Array | Matrix":function(e){var t=e.isMatrix===!0?e.size():i.array.size(e);switch(t.length){case 1:if(1==t[0])return e.isMatrix===!0?u([a(1,e.valueOf()[0])]):[a(1,e[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(t)+")");case 2:var n=t[0],r=t[1];if(n==r)return e.isMatrix===!0?u(o(e.valueOf(),n,r),e.storage()):o(e,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(t)+")")}},any:function(e){return a(1,e)}});return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}var i=n(39);t.name="inv",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function u(e,t,n){if(1==t)return s.clone(e[0][0]);if(2==t)return c(h(e[0][0],e[1][1]),h(e[1][0],e[0][1]));for(var r=function(e){var t,n,r=new Array(e.length),i=0;for(t=1;t<e.length;t++)i=l(i,e[t][t]);for(t=0;t<e.length;t++){for(r[t]=new Array(e.length),r[t][t]=p(i),n=0;t>n;n++)r[t][n]=0;for(n=t+1;n<e.length;n++)r[t][n]=e[t][n];t+1<e.length&&(i=c(i,e[t+1][t+1]))}return r},i=e,o=0;t-1>o;o++)i=h(r(i),e);return t%2==0?p(i[0][0]):i[0][0]}var f=r(n(52)),l=r(n(51)),c=r(n(77)),h=r(n(84)),p=r(n(78)),d=i("det",{any:function(e){return s.clone(e)},"Array | Matrix":function(e){var t;switch(e&&e.isMatrix===!0?t=e.size():Array.isArray(e)?(e=f(e),t=e.size()):t=[],t.length){case 0:return s.clone(e);case 1:if(1==t[0])return s.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+o.format(t)+")");case 2:var n=t[0],r=t[1];if(n==r)return u(e.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+o.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(t)+")")}}});return d.toTex={1:"\\det\\left(${args[0]}\\right)"},d}var i=n(39),s=i.object,o=i.string;t.name="det",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(334));return o("min",{"...any":function(e){if(2==e.length&&s(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return u.apply(null,e)}catch(n){throw i(n)}}})}var i=n(288).transform,s=n(323);t.name="min",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){function f(e,t){return c(e,t)?e:t}function l(e){var t=void 0;if(i(e,function(e){(void 0===t||c(e,t))&&(t=e)}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}var c=r(n(60)),h=u("min",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){return s(e,t.valueOf(),f)},"...":function(e){if(o(e))throw new TypeError("Scalar values expected in function min");return l(e)}});return h.toTex="\\min\\left(${args}\\right)",h}var i=n(325),s=n(326),o=n(327);t.name="min",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(336));return i("range",{"...any":function(e){var t=e.length-1,n=e[t];return"boolean"!=typeof n&&e.push(!0),s.apply(null,e)}})}t.name="range",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){return"Array"===t.matrix?e:h(e)}function o(n,r){var i=c(n);if(!i)throw new SyntaxError('String "'+n+'" is no valid range');var o;return"BigNumber"===t.number?(o=r?l:f,s(o(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step)))):(o=r?a:u,s(o(i.start,i.end,i.step)))}function u(e,t,n){var r=[],i=e;if(n>0)for(;t>i;)r.push(i),i+=n;else if(0>n)for(;i>t;)r.push(i),i+=n;return r}function a(e,t,n){var r=[],i=e;if(n>0)for(;t>=i;)r.push(i),i+=n;else if(0>n)for(;i>=t;)r.push(i),i+=n;return r}function f(e,t,n){var r=[],i=e;if(n.gt(p))for(;i.lt(t);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gt(t);)r.push(i),i=i.plus(n);return r}function l(e,t,n){var r=[],i=e;if(n.gt(p))for(;i.lte(t);)r.push(i),i=i.plus(n);else if(n.lt(p))for(;i.gte(t);)r.push(i),i=i.plus(n);return r}function c(e){var t=e.split(":"),n=t.map(function(e){return Number(e)}),r=n.some(function(e){return isNaN(e)});if(r)return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var h=r(n(52)),p=new e.BigNumber(0),d=new e.BigNumber(1),v=i("range",{string:o,"string, boolean":o,"number, number":function(e,t){return s(u(e,t,1))},"number, number, number":function(e,t,n){return s(u(e,t,n))},"number, number, boolean":function(e,t,n){return s(n?a(e,t,1):u(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return s(r?a(e,t,n):u(e,t,n))},"BigNumber, BigNumber":function(e,t){return s(f(e,t,d))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return s(f(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){return s(n?l(e,t,d):f(e,t,d))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return s(r?l(e,t,n):f(e,t,n))}});return v.toTex=void 0,v}t.name="range",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(289));return s("subset",{"...any":function(e){try{return o.apply(null,e)}catch(t){throw i(t)}}})}var i=n(288).transform;t.name="subset",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}var f=r(n(308))();return u.prototype.type="Help",u.prototype.isHelp=!0,u.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){t+="Examples:\n";for(var n=0;n<e.examples.length;n++){var r=e.examples[n];t+="    "+r+"\n";var i;try{i=f.eval(r)}catch(o){i=o}i&&!i.isHelp&&(t+="        "+s.format(i,{precision:14})+"\n")}t+="\n"}return e.seealso&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},u.prototype.toJSON=function(){var e=i.clone(this.doc);return e.mathjs="Help",e},u.fromJSON=function(e){var t={};for(var n in e)"mathjs"!==n&&(t[n]=e[n]);return new u(t)},u.prototype.valueOf=u.prototype.toString,u}var i=n(3),s=n(23);t.name="Help",t.path="type",t.factory=r},function(e,t,n){e.exports=[n(340),n(367),n(398),n(414),n(423),n(428),n(431),n(437),n(449),n(458),n(462),n(464),n(472),n(474),n(500),n(502)]},function(e,t,n){e.exports=[n(341),n(342),n(362),n(364),n(366)]},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(52)),u=r(n(86)),f=r(n(53)),l=r(n(81)),c=r(n(80)),h=r(n(77)),p=r(n(64)),d=r(n(48)),v=r(n(78)),m=e.SparseMatrix,g=e.DenseMatrix,y=e.Spa,b=i("lup",{DenseMatrix:function(e){return w(e)},SparseMatrix:function(e){return E(e)},Array:function(e){var t=o(e),n=w(t);return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),w=function(e){var t,n,r,i=e._size[0],o=e._size[1],v=Math.min(i,o),m=s.clone(e._data),y=[],b=[i,v],w=[],E=[v,o],S=[];for(t=0;i>t;t++)S[t]=t;for(n=0;o>n;n++){if(n>0)for(t=0;i>t;t++){var x=Math.min(t,n),T=0;for(r=0;x>r;r++)T=f(T,c(m[t][r],m[r][n]));m[t][n]=h(m[t][n],T)}var N=n,C=0,k=0;for(t=n;i>t;t++){var L=m[t][n],A=u(L);p(A,C)&&(N=t,C=A,k=L)}if(n!==N&&(S[n]=[S[N],S[N]=S[n]][0],g._swapRows(n,N,m)),i>n)for(t=n+1;i>t;t++){var O=m[t][n];d(O,0)||(m[t][n]=l(m[t][n],k))}}for(n=0;o>n;n++)for(t=0;i>t;t++)0===n&&(o>t&&(w[t]=[]),y[t]=[]),n>t?(o>t&&(w[t][n]=m[t][n]),i>n&&(y[t][n]=0)):t!==n?(o>t&&(w[t][n]=0),i>n&&(y[t][n]=m[t][n])):(o>t&&(w[t][n]=m[t][n]),i>n&&(y[t][n]=1));var M=new g({data:y,size:b}),_=new g({data:w,size:E}),D=[];for(t=0,v=S.length;v>t;t++)D[S[t]]=t;return{L:M,U:_,p:D,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},E=function(e){var t,n,r,i=e._size[0],s=e._size[1],o=Math.min(i,s),a=e._values,f=e._index,h=e._ptr,g=[],b=[],w=[],E=[i,o],S=[],x=[],T=[],N=[o,s],C=[],k=[];for(t=0;i>t;t++)C[t]=t,k[t]=t;var L=function(e,t){var n=k[e],r=k[t];C[n]=t,C[r]=e,k[e]=r,k[t]=n};for(n=0;s>n;n++){var A=new y;i>n&&(w.push(g.length),g.push(1),b.push(n)),T.push(S.length);var O=h[n],M=h[n+1];for(r=O;M>r;r++)t=f[r],A.set(C[t],a[r]);n>0&&A.forEach(0,n-1,function(e,t){m._forEachRow(e,g,b,w,function(n,r){n>e&&A.accumulate(n,v(c(r,t)))})});var _=n,D=A.get(n),P=u(D);A.forEach(n+1,i-1,function(e,t){var n=u(t);p(n,P)&&(_=e,P=n,D=t)}),n!==_&&(m._swapRows(n,_,E[1],g,b,w),m._swapRows(n,_,N[1],S,x,T),A.swap(n,_),L(n,_)),A.forEach(0,i-1,function(e,t){n>=e?(S.push(t),x.push(e)):(t=l(t,D),d(t,0)||(g.push(t),b.push(e)))})}return T.push(S.length),w.push(g.length),{L:new m({values:g,index:b,ptr:w,size:E}),U:new m({values:S,index:x,ptr:T,size:N}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return b}var i=n(39),s=i.object;t.name="lup",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(343)),u=r(n(354)),a=i("slu",{"SparseMatrix, number, number":function(e,t,n){if(!o(t)||0>t||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(0>n||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=s(t,e,!1),i=u(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}});return a}var i=n(39),s=i.number,o=s.isInteger;t.name="slu",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(344)),s=r(n(349)),o=r(n(350)),u=r(n(351)),a=r(n(352)),f=function(e,t,n){var r,f=t._ptr,c=t._size,h=c[1],p={};if(p.q=i(e,t),e&&!p.q)return null;if(n){var d=e?s(t,null,p.q,0):t;p.parent=o(d,1);var v=u(p.parent,h);if(p.cp=a(d,p.parent,v,1),d&&p.parent&&p.cp&&l(d,p))for(p.unz=0,r=0;h>r;r++)p.unz+=p.cp[r]}else p.unz=4*f[h]+h,p.lnz=p.unz;return p},l=function(e,t){var n=e._ptr,r=e._index,i=e._size,s=i[0],o=i[1];t.pinv=[],t.leftmost=[];var u,a,f,l,c,h=t.parent,p=t.pinv,d=t.leftmost,v=[],m=0,g=s,y=s+o,b=s+2*o;for(a=0;o>a;a++)v[g+a]=-1,v[y+a]=-1,v[b+a]=0;for(u=0;s>u;u++)d[u]=-1;for(a=o-1;a>=0;a--)for(l=n[a],c=n[a+1],f=l;c>f;f++)d[r[f]]=a;for(u=s-1;u>=0;u--)p[u]=-1,a=d[u],-1!=a&&(0===v[b+a]++&&(v[y+a]=u),v[m+u]=v[g+a],v[g+a]=u);for(t.lnz=0,t.m2=s,a=0;o>a;a++)if(u=v[g+a],t.lnz++,0>u&&(u=t.m2++),p[u]=a,!(--b[a]<=0)){t.lnz+=v[b+a];var w=h[a];-1!=w&&(0===v[b+w]&&(v[y+w]=v[y+a]),v[m+v[y+a]]=v[g+w],v[g+w]=v[m+u],v[b+w]+=v[b+a])}for(u=0;s>u;u++)p[u]<0&&(p[u]=a++);return!0};return f}t.name="cs_sqr",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(345)),s=r(n(346)),o=r(n(347)),u=r(n(51)),a=r(n(84)),f=r(n(348)),l=function(e,t){if(!t||0>=e||e>3)return null;var n=t._size,r=n[0],u=n[1],a=0,f=Math.max(16,10*Math.sqrt(u));f=Math.min(u-2,f);var l=c(e,t,r,u,f);s(l,v,null);for(var g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=l._index,P=l._ptr,H=P[u],B=[],j=[],F=0,I=u+1,q=2*(u+1),R=3*(u+1),U=4*(u+1),z=5*(u+1),W=6*(u+1),X=7*(u+1),V=B,$=h(u,P,j,F,R,V,q,X,I,W,U,z),J=p(u,P,j,z,U,W,f,I,R,V,q),K=0;u>J;){for(b=-1;u>K&&-1==(b=j[R+K]);K++);-1!=j[q+b]&&(V[j[q+b]]=-1),j[R+K]=j[q+b];var Q=j[U+b],G=j[I+b];J+=G;var Y=0;j[I+b]=-G;var Z=P[b],et=0===Q?Z:H,tt=et;for(w=1;Q+1>=w;w++){for(w>Q?(S=b,x=Z,T=j[F+b]-Q):(S=D[Z++],x=P[S],T=j[F+S]),E=1;T>=E;E++)g=D[x++],(N=j[I+g])<=0||(Y+=N,j[I+g]=-N,D[tt++]=g,-1!=j[q+g]&&(V[j[q+g]]=V[g]),-1!=V[g]?j[q+V[g]]=j[q+g]:j[R+j[z+g]]=j[q+g]);S!=b&&(P[S]=i(b),j[W+S]=0)}for(0!==Q&&(H=tt),j[z+b]=Y,P[b]=et,j[F+b]=tt-et,j[U+b]=-2,$=d($,a,j,W,u),C=et;tt>C;C++)if(g=D[C],!((k=j[U+g])<=0)){N=-j[I+g];var nt=$-N;for(Z=P[g],L=P[g]+k-1;L>=Z;Z++)S=D[Z],j[W+S]>=$?j[W+S]-=N:0!==j[W+S]&&(j[W+S]=j[z+S]+nt)}for(C=et;tt>C;C++){for(g=D[C],L=P[g],A=L+j[U+g]-1,O=L,M=0,_=0,Z=L;A>=Z;Z++)if(S=D[Z],0!==j[W+S]){var rt=j[W+S]-$;rt>0?(_+=rt,D[O++]=S,M+=S):(P[S]=i(b),j[W+S]=0)}j[U+g]=O-L+1;var it=O,st=L+j[F+g];for(Z=A+1;st>Z;Z++){y=D[Z];var ot=j[I+y];0>=ot||(_+=ot,D[O++]=y,M+=y)}0===_?(P[g]=i(b),N=-j[I+g],Y-=N,G+=N,J+=N,j[I+g]=0,j[U+g]=-1):(j[z+g]=Math.min(j[z+g],_),D[O]=D[it],D[it]=D[L],D[L]=b,j[F+g]=O-L+1,M=(0>M?-M:M)%u,j[q+g]=j[X+M],j[X+M]=g,V[g]=M)}for(j[z+b]=Y,a=Math.max(a,Y),$=d($+a,a,j,W,u),C=et;tt>C;C++)if(g=D[C],!(j[I+g]>=0))for(M=V[g],g=j[X+M],j[X+M]=-1;-1!=g&&-1!=j[q+g];g=j[q+g],$++){for(T=j[F+g],k=j[U+g],Z=P[g]+1;Z<=P[g]+T-1;Z++)j[W+D[Z]]=$;var ut=g;for(y=j[q+g];-1!=y;){var at=j[F+y]===T&&j[U+y]===k;for(Z=P[y]+1;at&&Z<=P[y]+T-1;Z++)j[W+D[Z]]!=$&&(at=0);at?(P[y]=i(g),j[I+g]+=j[I+y],j[I+y]=0,j[U+y]=-1,y=j[q+y],j[q+ut]=y):(ut=y,y=j[q+y])}}for(Z=et,C=et;tt>C;C++)g=D[C],(N=-j[I+g])<=0||(j[I+g]=N,_=j[z+g]+Y-N,_=Math.min(_,u-J-N),-1!=j[R+_]&&(V[j[R+_]]=g),j[q+g]=j[R+_],V[g]=-1,j[R+_]=g,K=Math.min(K,_),j[z+g]=_,D[Z++]=g);j[I+b]=G,0===(j[F+b]=Z-et)&&(P[b]=-1,j[W+b]=0),0!==Q&&(H=Z)}for(g=0;u>g;g++)P[g]=i(P[g]);for(y=0;u>=y;y++)j[R+y]=-1;for(y=u;y>=0;y--)j[I+y]>0||(j[q+y]=j[R+P[y]],j[R+P[y]]=y);for(S=u;S>=0;S--)j[I+S]<=0||-1!=P[S]&&(j[q+S]=j[R+P[S]],j[R+P[S]]=S);for(b=0,g=0;u>=g;g++)-1==P[g]&&(b=o(g,b,j,R,q,B,W));return B.splice(B.length-1,1),B},c=function(e,t,n,r,i){var s=f(t);if(1===e&&r===n)return u(t,s);if(2==e){for(var o=s._index,l=s._ptr,c=0,h=0;n>h;h++){var p=l[h];if(l[h]=c,!(l[h+1]-p>i))for(var d=l[h+1];d>p;p++)o[c++]=o[p]}return l[n]=c,t=f(s),a(s,t)}return a(s,t)},h=function(e,t,n,r,i,s,o,u,a,f,l,c){for(var h=0;e>h;h++)n[r+h]=t[h+1]-t[h];n[r+e]=0;for(var p=0;e>=p;p++)n[i+p]=-1,s[p]=-1,n[o+p]=-1,n[u+p]=-1,n[a+p]=1,n[f+p]=1,n[l+p]=0,n[c+p]=n[r+p];var v=d(0,0,n,f,e);return n[l+e]=-2,t[e]=-1,n[f+e]=0,v},p=function(e,t,n,r,s,o,u,a,f,l,c){for(var h=0,p=0;e>p;p++){var d=n[r+p];if(0===d)n[s+p]=-2,h++,t[p]=-1,n[o+p]=0;else if(d>u)n[a+p]=0,n[s+p]=-1,h++,t[p]=i(e),n[a+e]++;else{var v=n[f+d];-1!=v&&(l[v]=p),n[c+p]=n[f+d],n[f+d]=p}}return h},d=function(e,t,n,r,i){if(2>e||0>e+t){for(var s=0;i>s;s++)0!==n[r+s]&&(n[r+s]=1);e=2}return e},v=function(e,t){return e!=t};return l}t.name="cs_amd",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(){var e=function(e){return-e-2};return e}t.name="cs_flip",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n){for(var r=e._values,i=e._index,s=e._ptr,o=e._size,u=o[1],a=0,f=0;u>f;f++){var l=s[f];for(s[f]=a;l<s[f+1];l++)t(i[l],f,r?r[l]:1,n)&&(i[a]=i[l],r&&(r[a]=r[l]),a++)}return s[u]=a,i.splice(a,i.length-a),r&&r.splice(a,r.length-a),a};return e}t.name="cs_fkeep",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n,r,i,s,o){var u=0;for(n[o]=e;u>=0;){var a=n[o+u],f=n[r+a];-1==f?(u--,s[t++]=a):(n[r+a]=n[i+f],++u,n[o+u]=f)}return t};return e}t.name="cs_tdfs",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=e.DenseMatrix,c=e.SparseMatrix,h=o("transpose",{Array:function(e){return h(f(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+s(n)+")");switch(e.storage()){case"dense":t=p(e,r,i);break;case"sparse":t=d(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+s(this._size)+")")}return t},any:function(e){return i(e)}}),p=function(e,t,n){for(var r,s=e._data,o=[],u=0;n>u;u++){r=o[u]=[];for(var a=0;t>a;a++)r[a]=i(s[a][u])}return new l({data:o,size:[n,t],datatype:e._datatype})},d=function(e,t,n){for(var r=e._values,s=e._index,o=e._ptr,u=r?[]:void 0,a=[],f=[],l=[],h=0;t>h;h++)l[h]=0;var p,d,v;for(p=0,d=s.length;d>p;p++)l[s[p]]++;for(var m=0,g=0;t>g;g++)f.push(m),m+=l[g],l[g]=f[g];for(f.push(m),v=0;n>v;v++)for(var y=o[v],b=o[v+1],w=y;b>w;w++){var E=l[s[w]]++;a[E]=v,r&&(u[E]=i(r[w]))}return new c({values:u,index:a,ptr:f,size:[n,t],datatype:e._datatype})};return h.toTex={1:"\\left(${args[0]}\\right)"+u.operators.transpose},h}var i=n(3).clone,s=n(23).format;t.name="transpose",t.factory=r},function(e,t){"use strict";function n(e){var t=e.SparseMatrix,n=function(e,n,r,i){for(var s=e._values,o=e._index,u=e._ptr,a=e._size,f=e._datatype,l=a[0],c=a[1],h=i&&e._values?[]:null,p=[],d=[],v=0,m=0;c>m;m++){d[m]=v;for(var g=r?r[m]:m,y=u[g],b=u[g+1],w=y;b>w;w++){var E=n?n[o[w]]:o[w];p[v]=E,h&&(h[v]=s[w]),v++}}return d[c]=v,new t({values:h,index:p,ptr:d,size:[l,c],datatype:f})};return n}t.name="cs_permute",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t){if(!e)return null;var n,r,i=e._index,s=e._ptr,o=e._size,u=o[0],a=o[1],f=[],l=[],c=0,h=a;if(t)for(n=0;u>n;n++)l[h+n]=-1;for(var p=0;a>p;p++){f[p]=-1,l[c+p]=-1;for(var d=s[p],v=s[p+1],m=d;v>m;m++){var g=i[m];for(n=t?l[h+g]:g;-1!=n&&p>n;n=r)r=l[c+n],l[c+n]=p,-1==r&&(f[n]=p);t&&(l[h+g]=p)}}return f};return e}t.name="cs_etree",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(347)),s=function(e,t){if(!e)return null;var n,r=0,s=[],o=[],u=0,a=t,f=2*t;for(n=0;t>n;n++)o[u+n]=-1;for(n=t-1;n>=0;n--)-1!=e[n]&&(o[a+n]=o[u+e[n]],o[u+e[n]]=n);for(n=0;t>n;n++)-1==e[n]&&(r=i(n,r,o,u,a,s,f));return s};return s}t.name="cs_post",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(348)),s=r(n(353)),o=function(e,t,n,r){if(!e||!t||!n)return null;var o,u,f,l,c,h,p,d=e._size,v=d[0],m=d[1],g=4*m+(r?m+v+1:0),y=[],b=0,w=m,E=2*m,S=3*m,x=4*m,T=5*m+1;for(f=0;g>f;f++)y[f]=-1;var N=[],C=i(e),k=C._index,L=C._ptr;for(f=0;m>f;f++)for(u=n[f],N[u]=-1==y[S+u]?1:0;-1!=u&&-1==y[S+u];u=t[u])y[S+u]=f;if(r){for(f=0;m>f;f++)y[n[f]]=f;for(o=0;v>o;o++){for(f=m,h=L[o],p=L[o+1],c=h;p>c;c++)f=Math.min(f,y[k[c]]);y[T+o]=y[x+f],y[x+f]=o}}for(o=0;m>o;o++)y[b+o]=o;for(f=0;m>f;f++){for(u=n[f],-1!=t[u]&&N[t[u]]--,l=r?y[x+f]:u;-1!=l;l=r?y[T+l]:-1)for(c=L[l];c<L[l+1];c++){o=k[c];var A=s(o,u,y,S,w,E,b);A.jleaf>=1&&N[u]++,2==A.jleaf&&N[A.q]--}-1!=t[u]&&(y[b+u]=t[u])}for(u=0;m>u;u++)-1!=t[u]&&(N[t[u]]+=N[u]);return N};return o}t.name="cs_counts",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(){var e=function(e,t,n,r,i,s,o){var u,a,f,l,c=0;if(t>=e||n[r+t]<=n[i+e])return-1;if(n[i+e]=n[r+t],f=n[s+e],n[s+e]=t,-1===f)c=1,l=e;else{for(c=2,l=f;l!=n[o+l];l=n[o+l]);for(u=f;u!=l;u=a)a=n[o+u],n[o+u]=l}return{jleaf:c,q:l}};return e}t.name="cs_leaf",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(86)),s=r(n(81)),o=r(n(84)),u=r(n(64)),a=r(n(355)),f=r(n(356)),l=e.SparseMatrix,c=function(e,t,n){if(!e)return null;var r,c=e._size,h=c[1],p=100,d=100;t&&(r=t.q,p=t.lnz||p,d=t.unz||d);var v,m,g=[],y=[],b=[],w=new l({values:g,index:y,ptr:b,size:[h,h]}),E=[],S=[],x=[],T=new l({values:E,index:S,ptr:x,size:[h,h]}),N=[],C=[],k=[];for(v=0;h>v;v++)C[v]=0,N[v]=-1,b[v+1]=0;p=0,d=0;for(var L=0;h>L;L++){b[L]=p,x[L]=d;var A=r?r[L]:L,O=f(w,e,A,k,C,N,1),M=-1,_=-1;for(m=O;h>m;m++)if(v=k[m],N[v]<0){var D=i(C[v]);u(D,_)&&(_=D,M=v)}else S[d]=N[v],E[d++]=C[v];if(-1==M||0>=_)return null;N[A]<0&&a(i(C[A]),o(_,n))&&(M=A);var P=C[M];for(S[d]=L,E[d++]=P,N[M]=L,y[p]=M,g[p++]=1,m=O;h>m;m++)v=k[m],N[v]<0&&(y[p]=v,g[p++]=s(C[v],P)),C[v]=0}for(b[h]=p,x[h]=d,m=0;p>m;m++)y[m]=N[y[m]];return g.splice(p,g.length-p),y.splice(p,y.length-p),E.splice(d,E.length-d),S.splice(d,S.length-d),{L:w,U:T,pinv:N}};return c}t.name="cs_lu",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(62)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=n(32),v=o("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,n){return e>=n||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.gte(n)||s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return v(e.value,t.value)},"string, string":function(e,t){return e>=t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,v);break;default:n=f(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,v,!1);break;default:n=h(e,t,v)}}return n},"Array, Array":function(e,t){return v(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return v(u(e),t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=p(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,v,!0);break;default:n=p(t,e,v,!0)}return n},"Array, any":function(e,t){return p(u(e),t,v,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+d.operators.largerEq+"${args[1]}\\right)"},v}var i=n(6).nearlyEqual,s=n(49);t.name="largerEq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(81)),s=r(n(84)),o=r(n(77)),u=r(n(357)),a=function(e,t,n,r,a,f,l){var c,h,p,d,v=e._values,m=e._index,g=e._ptr,y=e._size,b=y[1],w=t._values,E=t._index,S=t._ptr,x=u(e,t,n,r,f);for(c=x;b>c;c++)a[r[c]]=0;for(h=S[n],p=S[n+1],c=h;p>c;c++)a[E[c]]=w[c];for(var T=x;b>T;T++){var N=r[T],C=f?f[N]:N;if(!(0>C))for(h=g[C],p=g[C+1],a[N]=i(a[N],v[l?h:p-1]),c=l?h+1:h,d=l?p:p-1;d>c;c++){var k=m[c];a[k]=o(a[k],s(v[c],a[N]))}}return x};return a}t.name="cs_spsolve",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(358)),s=r(n(359)),o=r(n(360)),u=function(e,t,n,r,u){var f,l,c,h=e._ptr,p=e._size,d=t._index,v=t._ptr,m=p[1],g=m;for(l=v[n],c=v[n+1],f=l;c>f;f++){var y=d[f];s(h,y)||(g=i(y,e,g,r,u))}for(f=g;m>f;f++)o(h,r[f]);return g};return u}t.name="cs_reach",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(359)),s=r(n(360)),o=r(n(361)),u=function(e,t,n,r,u){var f,l,c,h=t._index,p=t._ptr,d=t._size,v=d[1],m=0;for(r[0]=e;m>=0;){e=r[m];var g=u?u[e]:e;i(p,e)||(s(p,e),r[v+m]=0>g?0:o(p[g]));var y=1;for(l=r[v+m],c=0>g?0:o(p[g+1]);c>l;l++)if(f=h[l],!i(p,f)){r[v+m]=l,r[++m]=f,y=0;break}y&&(m--,r[--n]=e)}return n};return u}t.name="cs_dfs",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(){var e=function(e,t){return e[t]<0};return e}t.name="cs_marked",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(345)),s=function(e,t){e[t]=i(e[t])};return s}t.name="cs_mark",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(345)),s=function(e){return 0>e?i(e):e};return s}t.name="cs_unflip",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(81)),u=r(n(80)),a=r(n(77)),f=r(n(48)),l=r(n(363)),c=e.DenseMatrix,h=i("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return d(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){var n=s(e),r=p(n,t);return r.valueOf()}}),p=function(e,t){t=l(e,t,!0);for(var n=t._data,r=e._size[0],i=e._size[1],s=[],h=e._data,p=0;i>p;p++){var d,v=n[p][0]||0;if(f(v,0))d=0;else{var m=h[p][p];if(f(m,0))throw new Error("Linear system cannot be solved since matrix is singular");d=o(v,m);for(var g=p+1;r>g;g++)n[g]=[a(n[g][0]||0,u(d,h[g][p]))]}s[p]=[d]}return new c({data:s,size:[r,1]})},d=function(e,t){t=l(e,t,!0);for(var n,r,i=t._data,s=e._size[0],h=e._size[1],p=e._values,d=e._index,v=e._ptr,m=[],g=0;h>g;g++){var y=i[g][0]||0;if(f(y,0))m[g]=[0];else{var b=0,w=[],E=[],S=v[g+1];for(r=v[g];S>r;r++)n=d[r],n===g?b=p[r]:n>g&&(w.push(p[r]),E.push(n));if(f(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var x=o(y,b);for(r=0,S=E.length;S>r;r++)n=E[r],i[n]=[a(i[n][0]||0,u(x,w[r]))];m[g]=[x]}}return new c({data:m,size:[s,1]})};return h}t.name="lsolve",t.factory=r},function(e,t,n){"use strict";function r(e){var t=e.DenseMatrix,n=function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+s.format(i)+")");var f=i[0],l=i[1];if(f!==l)throw new RangeError("Matrix must be square (size: "+s.format(i)+")");var c,h,p;if(n&&n.isMatrix===!0){var d=n.size();if(1===d.length){if(d[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],p=n._data,h=0;f>h;h++)c[h]=[p[h]];return new t({data:c,size:[f,1],datatype:n._datatype})}if(2===d.length){if(d[0]!==f||1!==d[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(n.isDenseMatrix===!0){if(r){for(c=[],p=n._data,h=0;f>h;h++)c[h]=[p[h][0]];return new t({data:c,size:[f,1],datatype:n._datatype})}return n}for(c=[],h=0;f>h;h++)c[h]=[0];for(var v=n._values,m=n._index,g=n._ptr,y=g[1],b=g[0];y>b;b++)h=m[b],c[h][0]=v[b];return new t({data:c,size:[f,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(u(n)){var w=o.size(n);if(1===w.length){if(w[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],h=0;f>h;h++)c[h]=[n[h]];return new t({data:c,size:[f,1]})}if(2===w.length){if(w[0]!==f||1!==w[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],h=0;f>h;h++)c[h]=[n[h][0]];return new t({data:c,size:[f,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}};return n}var i=n(39),s=i.string,o=i.array,u=Array.isArray;t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(52)),u=r(n(341)),a=r(n(342)),f=r(n(365)),l=r(n(363)),c=r(n(366)),h=r(n(362)),p=s("lusolve",{"Array, Array | Matrix":function(e,t){e=o(e);var n=u(e),r=v(n.L,n.U,n.p,null,t);return r.valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=u(e);return v(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=u(e);return v(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var i=a(e,n,r);return v(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return v(e.L,e.U,e.p,e.q,t)}}),d=function(e){if(e&&e.isMatrix===!0)return e;if(i(e))return o(e);throw new TypeError("Invalid Matrix LU decomposition")},v=function(e,t,n,r,i){e=d(e),t=d(t),i=l(e,i,!1),n&&(i._data=f(n,i._data));var s=h(e,i),o=c(t,s);return r&&(o._data=f(r,o._data)),o};return p}var i=Array.isArray;t.name="lusolve",t.factory=r},function(e,t){"use strict";function n(){var e=function(e,t,n){var r,n=t.length,i=[];if(e)for(r=0;n>r;r++)i[e[r]]=t[r];else for(r=0;n>r;r++)i[r]=t[r];return i};return e}t.name="cs_ipvec",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(81)),u=r(n(80)),a=r(n(77)),f=r(n(48)),l=r(n(363)),c=e.DenseMatrix,h=i("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return d(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){var n=s(e),r=p(n,t);return r.valueOf()}}),p=function(e,t){t=l(e,t,!0);for(var n=t._data,r=e._size[0],i=e._size[1],s=[],h=e._data,p=i-1;p>=0;p--){var d,v=n[p][0]||0;if(f(v,0))d=0;else{var m=h[p][p];if(f(m,0))throw new Error("Linear system cannot be solved since matrix is singular");d=o(v,m);for(var g=p-1;g>=0;g--)n[g]=[a(n[g][0]||0,u(d,h[g][p]))]}s[p]=[d]}return new c({data:s,size:[r,1]})},d=function(e,t){t=l(e,t,!0);for(var n,r,i=t._data,s=e._size[0],h=e._size[1],p=e._values,d=e._index,v=e._ptr,m=[],g=h-1;g>=0;g--){var y=i[g][0]||0;if(f(y,0))m[g]=[0];else{var b=0,w=[],E=[],S=v[g],x=v[g+1];for(r=x-1;r>=S;r--)n=d[r],n===g?b=p[r]:g>n&&(w.push(p[r]),E.push(n));if(f(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var T=o(y,b);for(r=0,x=E.length;x>r;r++)n=E[r],i[n]=[a(i[n][0],u(T,w[r]))];m[g]=[T]}}return new c({data:m,size:[s,1]})};return h}t.name="usolve",t.factory=r},function(e,t,n){e.exports=[n(86),n(51),n(53),n(368),n(370),n(371),n(330),n(372),n(374),n(376),n(377),n(87),n(378),n(379),n(380),n(383),n(386),n(387),n(388),n(84),n(389),n(391),n(82),n(392),n(394),n(381),n(395),n(77),n(78),n(396),n(397)]},function(e,t,n){"use strict";function r(e,t,r,o){function u(n,r){var i=n.arg()/3,o=n.abs(),u=(new e.Complex(s(o),0)).mul((new e.Complex(0,i)).exp());if(r){var f=[u,(new e.Complex(s(o),0)).mul((new e.Complex(0,i+2*Math.PI/3)).exp()),(new e.Complex(s(o),0)).mul((new e.Complex(0,i-2*Math.PI/3)).exp())];return"Array"===t.matrix?f:h(f)}return u}function f(t){if(t.value&&t.value.isComplex){var n=t.clone();return n.value=1,n=n.pow(1/3),n.value=u(t.value),n}var r=c(t.value);r&&(t.value=l(t.value));var i;i=t.value&&t.value.isBigNumber?(new e.BigNumber(1)).div(3):t.value&&t.value.isFraction?new e.Fraction(1,3):1/3;var n=t.pow(i);return r&&(n.value=l(n.value)),n}var l=r(n(78)),c=r(n(369)),h=r(n(52)),p=o("cbrt",{number:s,Complex:u,"Complex, boolean":u,BigNumber:function(e){return e.cbrt()},Unit:f,"Array | Matrix":function(e){return i(e,p,!0)}});return p.toTex={1:"\\sqrt[3]{${args[0]}}"},p}var i=n(19),s=Math.cbrt||function(e){if(0===e)return e;var t,n=0>e;return n&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,n?-t:t};t.name="cbrt",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isNegative",{number:function(e){return 0>e},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return s(e.value)},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);n(6),t.name="isNegative",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},s}var i=n(19);t.name="ceil",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("cube",{number:function(e){return e*e*e},Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return i(e,s,!0)},Unit:function(e){return e.pow(3)}});return s.toTex={1:"\\left(${args[0]}\\right)^3"},s}var i=n(19);t.name="cube",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(81)),u=n(32),a=r(n(373)),f=r(n(61)),l=r(n(62)),c=r(n(85)),h=r(n(63)),p=r(n(57)),d=r(n(58)),v=i("dotDivide",{"any, any":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,o,!1);break;default:n=a(t,e,o,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,o,!1);break;default:n=p(e,t,o)}}return n},"Array, Array":function(e,t){return v(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return v(s(e),t)},"Matrix, Array":function(e,t){return v(e,s(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,o,!1);break;default:n=d(e,t,o,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,o,!0);break;default:n=d(t,e,o,!0)}return n},"Array, any":function(e,t){return d(s(e),t,o,!1).valueOf()},"any, Array":function(e,t){return d(s(t),e,o,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+u.operators.dotDivide+"${args[1]}\\right)"},v}t.name="dotDivide",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(48)),u=e.SparseMatrix,a=function(e,t,n,r){var a=e._data,f=e._size,l=e._datatype,c=t._values,h=t._index,p=t._ptr,d=t._size,v=t._datatype;if(f.length!==d.length)throw new i(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=f[0],y=f[1],b=o,w=0,E=n;"string"==typeof l&&l===v&&(m=l,b=s.find(o,[m,m]),w=s.convert(0,m),E=s.find(n,[m,m]));for(var S=[],x=[],T=[],N=0;y>N;N++){T[N]=x.length;for(var C=p[N],k=p[N+1],L=C;k>L;L++){var A=h[L],O=r?E(c[L],a[A][N]):E(a[A][N],c[L]);b(O,w)||(x.push(A),S.push(O))}}return T[y]=x.length,new u({values:S,index:x,ptr:T,size:[g,y],datatype:m})};return a}var i=n(42);t.name="algorithm02",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(80)),u=n(32),a=r(n(373)),f=r(n(375)),l=r(n(85)),c=r(n(57)),h=r(n(58)),p=i("dotMultiply",{"any, any":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,o,!1);break;default:n=a(t,e,o,!0)}break;default:switch(t.storage()){case"sparse":n=a(e,t,o,!1);break;default:n=c(e,t,o)}}return n},"Array, Array":function(e,t){return p(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return p(s(e),t)},"Matrix, Array":function(e,t){return p(e,s(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,o,!1);break;default:n=h(e,t,o,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,o,!0);break;default:n=h(t,e,o,!0)}return n},"Array, any":function(e,t){return h(s(e),t,o,!1).valueOf()},"any, Array":function(e,t){return h(s(t),e,o,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+u.operators.dotMultiply+"${args[1]}\\right)"},p}t.name="dotMultiply",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(48)),u=e.SparseMatrix,a=function(e,t,n){var r=e._values,a=e._index,f=e._ptr,l=e._size,c=e._datatype,h=t._values,p=t._index,d=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new i(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");var g,y=l[0],b=l[1],w=o,E=0,S=n;"string"==typeof c&&c===m&&(g=c,w=s.find(o,[g,g]),E=s.convert(0,g),S=s.find(n,[g,g]));var x,T,N,C,k,L=r&&h?[]:void 0,A=[],O=[],M=new u({values:L,index:A,ptr:O,size:[y,b],datatype:g}),_=L?[]:void 0,D=[];for(T=0;b>T;T++){O[T]=A.length;var P=T+1;if(_)for(C=d[T],k=d[T+1],N=C;k>N;N++)x=p[N],D[x]=P,_[x]=h[N];for(C=f[T],k=f[T+1],N=C;k>N;N++)if(x=a[N],_){var H=D[x]===P?_[x]:E,B=S(r[N],H);w(B,E)||(A.push(x),L.push(B))}else A.push(x)}return O[b]=A.length,M};return a}var i=n(42);t.name="algorithm09",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(82)),u=n(32),a=r(n(61)),f=r(n(62)),l=r(n(85)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=i("dotPow",{"any, any":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,o,!1);break;default:n=a(t,e,o,!0)}break;default:switch(t.storage()){case"sparse":n=a(e,t,o,!1);break;default:n=h(e,t,o)}}return n},"Array, Array":function(e,t){return d(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return d(s(e),t)},"Matrix, Array":function(e,t){return d(e,s(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=p(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,d,!0);break;default:n=p(t,e,d,!0)}return n},"Array, any":function(e,t){return p(s(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(s(t),e,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+u.operators.dotPow+"${args[1]}\\right)"},d}t.name="dotPow",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\exp\\left(${args[0]}\\right)"},s}var i=n(19);t.name="exp",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("floor",{number:Math.floor,Complex:function(e){return e.floor()},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},s}var i=n(19);t.name="floor",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new e.BigNumber(0);!n.isZero();){var i=t.mod(n);t=n,n=i}return t.lt(r)?t.neg():t}var u=r(n(52)),a=r(n(54)),f=r(n(55)),l=r(n(56)),c=r(n(57)),h=r(n(58)),p=s("gcd",{"number, number":i,"BigNumber, BigNumber":o,"Fraction, Fraction":function(e,t){return e.gcd(t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,p);break;default:n=a(t,e,p,!0)}break;default:switch(t.storage()){case"sparse":n=a(e,t,p,!1);break;default:n=c(e,t,p)}}return n},"Array, Array":function(e,t){return p(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return p(u(e),t)},"Matrix, Array":function(e,t){return p(e,u(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!1);break;default:n=h(e,t,p,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!0);break;default:n=h(t,e,p,!0)}return n},"Array, number | BigNumber":function(e,t){return h(u(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(u(t),e,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=p(e,t),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex="\\gcd\\left(${args}\\right)",p}function i(e,t){if(!s(e)||!s(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!=t;)n=e%t,e=t,t=n;return 0>e?-e:e}var s=n(6).isInteger;t.name="gcd",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=u(e[r]);h(n,i)?(t=l(t,l(f(n,i),f(n,i))),t=a(t,1),n=i):t=a(t,p(i)?l(f(i,n),f(i,n)):i)}return l(n,c(t))}var u=r(n(86)),a=r(n(53)),f=r(n(81)),l=r(n(80)),c=r(n(381)),h=r(n(60)),p=r(n(382)),d=s("hypot",{"... number | BigNumber":o,Array:function(e){return d.apply(d,i(e))},Matrix:function(e){return d.apply(d,i(e.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=n(40).flatten;t.name="hypot",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function s(n){return n>=0||t.predictable?Math.sqrt(n):(new e.Complex(n,0)).sqrt()}var o=r("sqrt",{number:s,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():s(e.toNumber())},"Array | Matrix":function(e){return i(e,o,!0)},Unit:function(e){return e.pow(.5)}});return o.toTex={1:"\\sqrt{${args[0]}}"},o}var i=n(19);t.name="sqrt",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isPositive",{number:function(e){return e>0},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return s(e.value)},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);n(6),t.name="isPositive",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||n.isZero())return new e.BigNumber(0);for(var r=t.times(n);!n.isZero();){var i=n;n=t.mod(i),t=i}return r.div(t).abs()}var u=r(n(52)),a=r(n(373)),f=r(n(384)),l=r(n(85)),c=r(n(57)),h=r(n(58)),p=s("lcm",{"number, number":i,"BigNumber, BigNumber":o,"Fraction, Fraction":function(e,t){return e.lcm(t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,p);break;default:n=a(t,e,p,!0)}break;default:switch(t.storage()){case"sparse":n=a(e,t,p,!1);break;default:n=c(e,t,p)}}return n},"Array, Array":function(e,t){return p(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return p(u(e),t)},"Matrix, Array":function(e,t){return p(e,u(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!1);break;default:n=h(e,t,p,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!0);break;default:n=h(t,e,p,!0)}return n},"Array, number | BigNumber":function(e,t){return h(u(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(u(t),e,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=p(e,t),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p.toTex=void 0,p}function i(e,t){if(!s(e)||!s(t))throw new Error("Parameters in function lcm must be integer numbers");if(0==e||0==t)return 0;for(var n,r=e*t;0!=t;)n=t,t=e%n,e=n;return Math.abs(r/e)}var s=n(6).isInteger;t.name="lcm",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(48)),f=e.SparseMatrix,l=function(e,t,n){var r=e._values,l=e._size,c=e._datatype,h=t._values,p=t._size,d=t._datatype;if(l.length!==p.length)throw new s(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var v,m=l[0],g=l[1],y=u,b=0,w=n;"string"==typeof c&&c===d&&(v=c,y=o.find(u,[v,v]),b=o.convert(0,v),w=o.find(n,[v,v]));for(var E=r&&h?[]:void 0,S=[],x=[],T=new f({values:E,index:S,ptr:x,size:[m,g],datatype:v}),N=E?[]:void 0,C=[],k=[],L=0;g>L;L++){x[L]=S.length;var A=L+1;if(i(e,L,C,N,k,A,T,w),i(t,L,C,N,k,A,T,w),N)for(var O=x[L];O<S.length;){var M=S[O];if(k[M]===A){var _=N[M];y(_,b)?S.splice(O,1):(E.push(_),O++)}else S.splice(O,1)}else for(var D=x[L];D<S.length;){var P=S[D];k[P]!==A?S.splice(D,1):D++}}return x[g]=S.length,T};return l}var i=n(385),s=n(42);t.name="algorithm06",t.factory=r},function(e,t){"use strict";e.exports=function(e,t,n,r,i,s,o,u,a,f,l){var c,h,p,d,v=e._values,m=e._index,g=e._ptr,y=o._index;if(r)for(h=g[t],p=g[t+1],c=h;p>c;c++)d=m[c],n[d]!==s?(n[d]=s,y.push(d),f?(r[d]=a?u(v[c],l):u(l,v[c]),i[d]=s):r[d]=v[c]):(r[d]=a?u(v[c],r[d]):u(r[d],v[c]),i[d]=s);else for(h=g[t],p=g[t+1],c=h;p>c;c++)d=m[c],n[d]!==s?(n[d]=s,y.push(d)):i[d]=s}},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(81)),u=s("log",{number:function(n){return n>=0||t.predictable?Math.log(n):(new e.Complex(n,0)).log()},Complex:function(e){return e.log()},BigNumber:function(n){return!n.isNegative()||t.predictable?n.ln():(new e.Complex(n.toNumber(),0)).log()},"Array | Matrix":function(e){return i(e,u)},"any, any":function(e,t){return o(u(e),u(t))}});return u.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},u}var i=n(19);t.name="log",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("log10",{number:function(n){return n>=0||t.predictable?s(n):(new e.Complex(n,0)).log().div(Math.LN10)},Complex:function(t){return(new e.Complex(t)).log().div(Math.LN10)},BigNumber:function(n){return!n.isNegative()||t.predictable?n.log():(new e.Complex(n.toNumber(),0)).log().div(Math.LN10)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.log10||function(e){return Math.log(e)/Math.LN10};t.name="log10",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}var o=r(n(52)),u=n(32),a=r(n(373)),f=r(n(61)),l=r(n(79)),c=r(n(85)),h=r(n(63)),p=r(n(57)),d=r(n(58)),v=i("mod",{"number, number":s,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,v,!1);break;default:n=a(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,v,!1);break;default:n=p(e,t,v)}}return n},"Array, Array":function(e,t){return v(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return v(o(e),t)},"Matrix, Array":function(e,t){return v(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=d(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,v,!0);break;default:n=d(t,e,v,!0)}return n},"Array, any":function(e,t){return d(o(e),t,v,!1).valueOf()},"any, Array":function(e,t){return d(o(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+u.operators.mod+"${args[1]}\\right)"},v}t.name="mod",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){var n=e.size();if(1==n.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var r=0;return e.forEach(function(e){var t=o(e);h(t,r)&&(r=t)},!0),r}if(t===Number.NEGATIVE_INFINITY||"-inf"===t){var i;return e.forEach(function(e){var t=o(e);i&&!p(t,i)||(i=t)},!0),i||0}if("fro"===t)return s(e,2);if("number"==typeof t&&!isNaN(t)){if(!c(t,0)){var d=0;return e.forEach(function(e){d=u(a(o(e),t),d)},!0),a(d,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==n.length){if(1===t){var g=[],y=0;return e.forEach(function(e,t){var n=t[1],r=u(g[n]||0,o(e));h(r,y)&&(y=r),g[n]=r},!0),y}if(t===Number.POSITIVE_INFINITY||"inf"===t){var b=[],w=0;return e.forEach(function(e,t){var n=t[0],r=u(b[n]||0,o(e));h(r,w)&&(w=r),b[n]=r},!0),w}if("fro"===t)return f(v(l(m(e),e)));throw 2===t?new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition"):new Error("Unsupported parameter value")}}var o=r(n(86)),u=r(n(51)),a=r(n(82)),f=r(n(381)),l=r(n(84)),c=r(n(48)),h=r(n(64)),p=r(n(60)),d=r(n(52)),v=r(n(390)),m=r(n(348)),g=i("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},"boolean | null":function(e){return Math.abs(e)},Array:function(e){return s(d(e),2)},Matrix:function(e){return s(e,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(e){return g(e)},"Array, number | BigNumber | string":function(e,t){return s(d(e),t)},"Matrix, number | BigNumber | string":function(e,t){return s(e,t)}});return g.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},g}t.name="norm",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(51)),l=o("trace",{Array:function(e){return l(u(e))},Matrix:function(e){var t;switch(e.storage()){case"dense":t=c(e);break;case"sparse":t=h(e)}return t},any:i}),c=function(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1==t[0])return i(n[0]);throw new RangeError("Matrix must be square (size: "+s(t)+")");case 2:var r=t[0],o=t[1];if(r===o){for(var u=0,l=0;r>l;l++)u=f(u,n[l][l]);return u}throw new RangeError("Matrix must be square (size: "+s(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+s(t)+")")}},h=function(e){var t=e._values,n=e._index,r=e._ptr,i=e._size,o=i[0],u=i[1];if(o===u){var l=0;if(t.length>0)for(var c=0;u>c;c++)for(var h=r[c],p=r[c+1],d=h;p>d;d++){var v=n[d];if(v===c){l=f(l,t[d]);break}if(v>c)break}return l}throw new RangeError("Matrix must be square (size: "+s(i)+")")};return l.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},l}var i=n(3).clone,s=n(23).format;t.name="trace",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(t,n){var r=e.BigNumber.precision,i=e.BigNumber.clone({precision:r+2}),s=new e.BigNumber(0),o=new i(1),u=n.isNegative();if(u&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return u?new i(1/0):0;if(!t.isFinite())return u?s:t;var a=t.abs().pow(o.div(n));return a=t.isNeg()?a.neg():a,new e.BigNumber((u?o.div(a):a).toPrecision(r))}var f=r(n(52)),l=r(n(54)),c=r(n(373)),h=r(n(384)),p=r(n(85)),d=r(n(57)),v=r(n(58)),m=o("nthRoot",{number:function(e){return i(e,2)},"number, number":i,BigNumber:function(t){return u(t,new e.BigNumber(2))},Complex:function(e){return s(e,2)},"Complex, number":s,"BigNumber, BigNumber":u,"Array | Matrix":function(e){return m(e,2)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=h(e,t,m);break;default:n=c(t,e,m,!0)}break;default:switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=l(e,t,m,!1);break;default:n=d(e,t,m)}}return n},"Array, Array":function(e,t){return m(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return m(f(e),t)},"Matrix, Array":function(e,t){return m(e,f(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,m,!1);break;default:n=v(e,t,m,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=p(t,e,m,!0);break;default:n=v(t,e,m,!0)}return n},"Array, number | BigNumber":function(e,t){return m(f(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return m(e,f(t)).valueOf()}});return m.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},m}function i(e,t){var n=0>t;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(0>e&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=0>e?-r:r,n?1/r:r}function s(e,t){if(0>t)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");for(var n=e.arg(),r=e.abs(),i=[],s=Math.pow(r,1/t),o=0;t>o;o++)i.push({r:s,phi:(n+2*Math.PI*o)/t});return i}t.name="nthRoot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var f=r(n(52)),l=r(n(48)),c=r(n(393)),h=r(n(85)),p=r(n(63)),d=r(n(58)),v=o("round",{number:Math.round,"number, number":function(e,t){if(!s(t))throw new TypeError(a);if(0>t||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(e,t)},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(a);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(a);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(a);return(new e.BigNumber(t)).toDecimalPlaces(n.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(a);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(a);return e.round(t)},"Array | Matrix":function(e){return u(e,v,!0)},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,v,!1);break;default:n=d(e,t,v,!1)}return n},"number | Complex | BigNumber, Matrix":function(e,t){if(!l(e,0)){var n;switch(t.storage()){case"sparse":n=p(t,e,v,!0);break;default:n=d(t,e,v,!0)}return n}return c(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return d(f(e),t,v,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return d(f(t),e,v,!0).valueOf()}});return v.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},v}function i(e,t){return parseFloat(o(e,t))}var s=n(6).isInteger,o=n(6).toFixed,u=n(19),a="Number of decimals in function round must be an integer";t.name="round",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(t,n){var r=f(t),i=r?new e.BigNumber(0):0;if(l(t),n){var o=c(n);return t.length>0?o.resize(t,i):o}var u=[];return t.length>0?s(u,t,i):u}function f(e){var t=!1;return e.forEach(function(e,n,r){e&&e.isBigNumber===!0&&(t=!0,r[n]=e.toNumber())}),t}function l(e){e.forEach(function(e){if("number"!=typeof e||!i(e)||0>e)throw new Error("Parameters in function zeros must be positive integers")})}var c=r(n(52)),h=o("zeros",{"":function(){return"Array"===t.matrix?u([]):u([],"default")},"...number | BigNumber | string":function(e){var n=e[e.length-1];if("string"==typeof n){var r=e.pop();return u(e,r)}return"Array"===t.matrix?u(e):u(e,"default")},Array:u,Matrix:function(e){var t=e.storage();return u(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return u(e.valueOf(),t)}});return h.toTex=void 0,h}var i=n(6).isInteger,s=n(40).resize;t.name="zeros",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("sign",{number:i.sign,Complex:function(e){return e.sign()},BigNumber:function(t){return new e.BigNumber(t.cmp(0))},Fraction:function(t){return new e.Fraction(t.s,1)},"Array | Matrix":function(e){return s(e,o,!0)},Unit:function(e){return o(e.value)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=n(6),s=n(19);t.name="sign",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("square",{number:function(e){return e*e},Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return i(e,s,!0)},Unit:function(e){return e.pow(2)}});return s.toTex={1:"\\left(${args[0]}\\right)^2"},s}var i=n(19);t.name="square",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=s("unaryPlus",{number:function(e){return e},Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return i(e,u,!0)},"boolean | string | null":function(n){return"BigNumber"==t.number?new e.BigNumber(+n):+n}});return u.toTex={1:o.operators.unaryPlus+"\\left(${args[0]}\\right)"},u}var i=n(19);t.name="unaryPlus",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,n){var r,s,o,u=0,f=1,l=1,c=0;if(!i(e)||!i(n))throw new Error("Parameters in function xgcd must be integer numbers");for(;n;)s=Math.floor(e/n),o=e%n,r=u,u=f-s*u,f=r,r=l,l=c-s*l,c=r,e=n,n=o;var h;return h=0>e?[-e,-f,-c]:[e,e?f:0,c],"Array"===t.matrix?h:a(h)}function u(n,r){var i,s,o,u=new e.BigNumber(0),f=new e.BigNumber(1),l=u,c=f,h=f,p=u;if(!n.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)s=n.div(r).floor(),o=n.mod(r),i=l,l=c.minus(s.times(l)),c=i,i=h,h=p.minus(s.times(h)),p=i,n=r,r=o;var d;return d=n.lt(u)?[n.neg(),c.neg(),p.neg()]:[n,n.isZero()?0:c,p],"Array"===t.matrix?d:a(d)}var a=r(n(52)),f=s("xgcd",{"number, number":o,"BigNumber, BigNumber":u});return f.toTex=void 0,f}var i=n(6).isInteger;t.name="xgcd",t.factory=r},function(e,t,n){e.exports=[n(399),n(403),n(404),n(406),n(408),n(411),n(413)]},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(373)),c=r(n(384)),h=r(n(85)),p=r(n(57)),d=r(n(58)),v=o("bitAnd",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":s,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=l(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,v,!1);break;default:n=p(e,t,v)}}return n},"Array, Array":function(e,t){return v(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return v(f(e),t)},"Matrix, Array":function(e,t){return v(e,f(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,v,!1);break;default:n=d(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,v,!0);break;default:n=d(t,e,v,!0)}return n},"Array, any":function(e,t){return d(f(e),t,v,!1).valueOf()},"any, Array":function(e,t){return d(f(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+u.operators.bitAnd+"${args[1]}\\right)"},v}var i=n(6).isInteger,s=n(400);t.name="bitAnd",t.factory=r},function(e,t,n){var r=n(401);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return r(e,t,function(e,t){return e&t})}},function(e,t,n){function r(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",s=7-i.length;s--;)i="0"+i;n+=i}var o;for(o=n.length-1;"0"==n.charAt(o);--o);var u=e.e,a=n.slice(0,o+1||1),f=a.length;if(u>0)if(++u>f)for(u-=f;u--;a+="0");else f>u&&(a=a.slice(0,u)+"."+a.slice(u));for(var l=[0],r=0;r<a.length;){for(var c=l.length;c--;l[c]*=10);l[0]+=a.charAt(r++)<<0;for(var o=0;o<l.length;++o)l[o]>1&&(null==l[o+1]&&(l[o+1]=0),l[o+1]+=l[o]>>1,l[o]&=1)}return l.reverse()}var i=n(402);e.exports=function(e,t,n){var s,o,u=e.constructor,a=+(e.s<0),f=+(t.s<0);if(a){s=r(i(e));for(var l=0;l<s.length;++l)s[l]^=1}else s=r(e);if(f){o=r(i(t));for(var l=0;l<o.length;++l)o[l]^=1}else o=r(t);var c,h,p;s.length<=o.length?(c=s,h=o,p=a):(c=o,h=s,p=f);var d=c.length,v=h.length,m=1^n(a,f),g=new u(1^m),y=new u(1),b=new u(2),w=u.precision;for(u.config({precision:1e9});d>0;)n(c[--d],h[--v])==m&&(g=g.plus(y)),y=y.times(b);for(;v>0;)n(p,h[--v])==m&&(g=g.plus(y)),y=y.times(b);return u.config({precision:w}),0==m&&(g.s=-g.s),g}},function(e,t){e.exports=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var e=e.plus(new t(1));return e.s=-e.s||null,t.config({precision:n}),e}},function(e,t,n){"use strict";function r(e,t,r,u){var f=n(32),l=u("bitNot",{number:function(e){if(!o(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:s,"Array | Matrix":function(e){return i(e,l)}});return l.toTex={1:f.operators.bitNot+"\\left(${args[0]}\\right)"},l}var i=n(19),s=n(402),o=n(6).isInteger;t.name="bitNot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(54)),c=r(n(55)),h=r(n(56)),p=r(n(57)),d=r(n(58)),v=o("bitOr",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":s,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,v);break;default:n=l(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,v,!1);break;default:n=p(e,t,v)}}return n},"Array, Array":function(e,t){return v(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return v(f(e),t)},"Matrix, Array":function(e,t){return v(e,f(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,v,!1);break;default:n=d(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,v,!0);break;default:n=d(t,e,v,!0)}return n},"Array, any":function(e,t){return d(f(e),t,v,!1).valueOf()},"any, Array":function(e,t){return d(f(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+u.operators.bitOr+"${args[1]}\\right)"},v}var i=n(6).isInteger,s=n(405);t.name="bitOr",t.factory=r},function(e,t,n){var r=n(401);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var i=new n(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?r(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(61)),c=r(n(62)),h=r(n(63)),p=r(n(57)),d=r(n(58)),v=o("bitXor",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":s,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,v);break;default:n=l(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,v,!1);break;default:n=p(e,t,v)}}return n},"Array, Array":function(e,t){return v(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return v(f(e),t)},"Matrix, Array":function(e,t){return v(e,f(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,v,!1);break;default:n=d(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,v,!0);break;default:n=d(t,e,v,!0)}return n},"Array, any":function(e,t){return d(f(e),t,v,!1).valueOf()},"any, Array":function(e,t){return d(f(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+u.operators.bitXor+"${args[1]}\\right)"},v}var i=n(6).isInteger,s=n(407);t.name="bitXor",t.factory=r},function(e,t,n){var r=n(401),i=n(402);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var s=new n(-1);return e.eq(s)?i(t):t.eq(s)?i(e):e.isFinite()&&t.isFinite()?r(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new n(e.isNegative()==t.isNegative()?1/0:-1/0):s}},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(48)),c=r(n(393)),h=r(n(54)),p=r(n(373)),d=r(n(410)),v=r(n(56)),m=r(n(85)),g=r(n(57)),y=r(n(58)),b=o("leftShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":s,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=d(e,t,b,!1);break;default:n=p(t,e,b,!0)}break;default:switch(t.storage()){case"sparse":n=h(e,t,b,!1);break;default:n=g(e,t,b)}}return n},"Array, Array":function(e,t){return b(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return b(f(e),t)},"Matrix, Array":function(e,t){return b(e,f(t))},"Matrix, number | BigNumber":function(e,t){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=m(e,t,b,!1);break;default:n=y(e,t,b,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!l(e,0)){var n;switch(t.storage()){case"sparse":n=v(t,e,b,!0);break;default:n=y(t,e,b,!0)}return n}return c(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return b(f(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return b(e,f(t)).valueOf()}});return b.toTex={2:"\\left(${args[0]}"+u.operators.leftShift+"${args[1]}\\right)"},b}var i=n(6).isInteger,s=n(409);t.name="leftShift",t.factory=r},function(e,t){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times((new n(2)).pow(t)):new n(NaN)}},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(48)),u=e.SparseMatrix,a=function(e,t,n){var r=e._values,a=e._index,f=e._ptr,l=e._size,c=e._datatype,h=t._values,p=t._index,d=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new i(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!r||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g,y=l[0],b=l[1],w=o,E=0,S=n;"string"==typeof c&&c===m&&(g=c,w=s.find(o,[g,g]),E=s.convert(0,g),S=s.find(n,[g,g]));for(var x,T,N,C,k=[],L=[],A=[],O=new u({values:k,index:L,ptr:A,size:[y,b],datatype:g}),M=[],_=[],D=0;b>D;D++){A[D]=L.length;var P=D+1;for(T=f[D],N=f[D+1],x=T;N>x;x++)C=a[x],_[C]=P,M[C]=r[x],L.push(C);for(T=d[D],N=d[D+1],x=T;N>x;x++)C=p[x],_[C]===P&&(M[C]=S(M[C],h[x]));for(x=A[D];x<L.length;){C=L[x];var H=M[C];w(H,E)?L.splice(x,1):(k.push(H),x++)}}return A[b]=L.length,O};return a}var i=n(42);t.name="algorithm08",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=n(32),f=r(n(52)),l=r(n(48)),c=r(n(393)),h=r(n(54)),p=r(n(373)),d=r(n(410)),v=r(n(56)),m=r(n(85)),g=r(n(57)),y=r(n(58)),b=o("rightArithShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":s,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=d(e,t,b,!1);break;default:n=p(t,e,b,!0)}break;default:switch(t.storage()){case"sparse":n=h(e,t,b,!1);break;default:n=g(e,t,b)}}return n},"Array, Array":function(e,t){return b(f(e),f(t)).valueOf()},"Array, Matrix":function(e,t){return b(f(e),t)},"Matrix, Array":function(e,t){return b(e,f(t))},"Matrix, number | BigNumber":function(e,t){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=m(e,t,b,!1);break;default:n=y(e,t,b,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!l(e,0)){var n;switch(t.storage()){case"sparse":n=v(t,e,b,!0);break;default:n=y(t,e,b,!0)}return n}return c(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return b(f(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return b(e,f(t)).valueOf()}});return b.toTex={2:"\\left(${args[0]}"+u.operators.rightArithShift+"${args[1]}\\right)"},b}var i=n(6).isInteger,s=n(412);t.name="rightArithShift",t.factory=r},function(e,t){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div((new n(2)).pow(t)).floor():new n(e.isNegative()?-1:e.isFinite()?0:NaN)}},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=r(n(52)),a=r(n(48)),f=r(n(393)),l=r(n(54)),c=r(n(373)),h=r(n(410)),p=r(n(56)),d=r(n(85)),v=r(n(57)),m=r(n(58)),g=s("rightLogShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=h(e,t,g,!1);break;default:n=c(t,e,g,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,g,!1);break;default:n=v(e,t,g)}}return n},"Array, Array":function(e,t){return g(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return g(u(e),t)},"Matrix, Array":function(e,t){return g(e,u(t))},"Matrix, number | BigNumber":function(e,t){if(!a(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,g,!1);break;default:n=m(e,t,g,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!a(e,0)){var n;switch(t.storage()){case"sparse":n=p(t,e,g,!0);break;default:n=m(t,e,g,!0)}return n}return f(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return g(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return g(e,u(t)).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+o.operators.rightLogShift+"${args[1]}\\right)"},g}var i=n(6).isInteger;t.name="rightLogShift",t.factory=r},function(e,t,n){e.exports=[n(415),n(421),n(416),n(422)]},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(51)),o=r(n(416)),u=r(n(369)),a=r(n(420)),f=i("bellNumbers",{"number | BigNumber":function(e){if(!a(e)||u(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,n=0;e>=n;n++)t=s(t,o(e,n));return t}});return f.toTex={1:"\\mathrm{B}_{${args[0]}}"},f}t.name="bellNumbers",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(51)),o=r(n(77)),u=r(n(84)),a=r(n(330)),f=r(n(82)),l=r(n(417)),c=r(n(419)),h=r(n(369)),p=r(n(420)),d=r(n(64)),v=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!p(e)||h(e)||!p(t)||h(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=l(t),r=0,i=0;t>=i;i++){var v=f(-1,o(t,i)),g=c(t,i),y=f(i,e);r=s(r,u(u(g,y),v))}return a(r,n)}});return v.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},v}t.name="stirlingS2",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(418)),u=n(32),a=s("factorial",{number:function(e){if(0>e)throw new Error("Value must be non-negative");return o(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return o(e.plus(1))},"Array | Matrix":function(e){return i(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)"+u.operators.factorial},a}var i=n(19);t.name="factorial",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,f){function l(n){if(n.isZero())return new e.BigNumber(1);for(var r=t.precision+(0|Math.log(n.toNumber())),i=e.BigNumber.clone({precision:r}),s=new i(n),o=n.toNumber()-1;o>1;)s=s.times(o),o--;return new e.BigNumber(s.toPrecision(e.BigNumber.precision))}var c=r(n(84)),h=r(n(82)),p=f("gamma",{number:function(e){var t,n;if(s(e)){if(0>=e)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var r=e-2,i=e-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(.5>e)return Math.PI/(Math.sin(Math.PI*e)*p(1-e));if(e>=171.35)return 1/0;if(e>85){var f=e*e,l=f*e,c=l*e,h=c*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*f)-139/(51840*l)-571/(2488320*c)+163879/(209018880*h)+5246819/(75246796800*h*e))}--e,n=u[0];for(var d=1;d<u.length;++d)n+=u[d]/(e+d);return t=e+o+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*n},Complex:function(t){var n,r;if(0==t.im)return p(t.re);t=new e.Complex(t.re-1,t.im),r=new e.Complex(u[0],0);for(var i=1;i<u.length;++i){var s=t.re+i,a=s*s+t.im*t.im;0!=a?(r.re+=u[i]*s/a,r.im+=-(u[i]*t.im)/a):r.re=u[i]<0?-1/0:1/0}n=new e.Complex(t.re+o+.5,t.im);var f=Math.sqrt(2*Math.PI);t.re+=.5;var l=h(n,t);0==l.im?l.re*=f:0==l.re?l.im*=f:(l.re*=f,l.im*=f);var d=Math.exp(-n.re);return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),c(c(l,n),r)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new e.BigNumber(1/0):l(t.minus(1));if(!t.isFinite())return new e.BigNumber(t.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return i(e,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}var i=n(19),s=n(6).isInteger,o=4.7421875,u=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-0.4919138160976202,3399464998481189e-20,4652362892704858e-20,-0.00009837447530487956,.0001580887032249125,-0.00021026444172410488,.00021743961811521265,-0.0001643181065367639,8441822398385275e-20,-0.000026190838401581408,36899182659531625e-22];t.name="gamma",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("combinations",{"number, number":function(e,t){var n,r,i;if(!s(e)||0>e)throw new TypeError("Positive integer value expected in function combinations");if(!s(t)||0>t)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(n=Math.max(t,e-t),r=1,i=1;e-n>=i;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(t,n){var r,s,o,u,a=new e.BigNumber(1);if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(t))throw new TypeError("k must be less than n in function combinations");for(r=t.minus(n),n.lt(r)&&(r=n),s=a,o=a,u=t.minus(r);o.lte(u);o=o.plus(1))s=s.times(r.plus(o)).dividedBy(o);return s}});return o.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},o}function i(e){return e.isInteger()&&e.gte(0)}var s=n(6).isInteger;t.name="combinations",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("isInteger",{number:s.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(19),s=n(6);t.name="isInteger",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(419)),o=r(n(53)),u=r(n(382)),a=r(n(420)),f=r(n(64)),l=i("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(a(e)&&u(e)&&a(t)&&u(t)))throw new TypeError("Positive integer value expected in function composition");if(f(t,e))throw new TypeError("k must be less than or equal to n in function composition");return s(o(e,-1),o(t,-1))}});return l.toTex=void 0,l}t.name="composition",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(51)),o=r(n(330)),u=r(n(84)),a=r(n(419)),f=r(n(369)),l=r(n(420)),c=i("catalan",{"number | BigNumber":function(e){if(!l(e)||f(e))throw new TypeError("Non-negative integer value expected in function catalan");return o(a(u(e,2),e),s(e,1))}});return c.toTex={1:"\\mathrm{C}_{${args[0]}}"},c}t.name="catalan",t.factory=r},function(e,t,n){e.exports=[n(424),n(425),n(426),n(427)]},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(t){return e.BigNumber.atan2(0,t)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\arg\\left(${args[0]}\\right)"},s}var i=n(19);t.name="arg",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\left(${args[0]}\\right)^*"},s}var i=n(19);t.name="conj",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("im",{number:function(e){return 0},BigNumber:function(t){return new e.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},s}var i=n(19);t.name="im",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},s}var i=n(19);t.name="re",t.factory=r},function(e,t,n){e.exports=[n(429),n(430)]},function(e,t,n){"use strict";function r(e,t,r,i){function s(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function o(e){return 3===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]}function u(e){return 4===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]}function a(e,n,r,i){var s=e,o=r,u=v(s,n),a=v(o,i),f=u[0]*a[1]-a[0]*u[1];if(c(f)<t.epsilon)return null;var l=(a[0]*s[1]-a[1]*s[0]-a[0]*o[1]+a[1]*o[0])/f;return h(d(u,l),s)}function f(e,t,n,r,i,s,o,u,a,f,l,c){var h=(e-o)*(f-o)+(t-u)*(l-u)+(n-a)*(c-a),p=(f-o)*(r-e)+(l-u)*(i-t)+(c-a)*(s-n),d=(e-o)*(r-e)+(t-u)*(i-t)+(n-a)*(s-n),v=(f-o)*(f-o)+(l-u)*(l-u)+(c-a)*(c-a),m=(r-e)*(r-e)+(i-t)*(i-t)+(s-n)*(s-n),g=(h*p-d*v)/(m*v-p*p),y=(h+g*p)/v,b=e+g*(r-e),w=t+g*(i-t),E=n+g*(s-n),S=o+y*(f-o),x=u+y*(l-u),T=a+y*(c-a);return b===S&&w===x&&E===T?[b,w,E]:null}function l(e,t,n,r,i,s,o,u,a,f){var l=(f-e*o-t*u-n*a)/(r*o+i*u+s*a-e-t-n),c=e+l*(r-e),h=t+l*(i-t),p=n+l*(s-n);return[c,h,p]}var c=r(n(86)),h=r(n(51)),p=r(n(52)),d=r(n(84)),v=r(n(77)),m=i("intersect",{"Array, Array, Array":function(e,t,n){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");if(!u(n))throw new TypeError("Array with 4 numbers expected as third argument");return l(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(e,t,n,r){if(2===e.length){if(!s(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!s(t))throw new TypeError("Array with 2 numbers expected for second argument");if(!s(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!s(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return a(e,t,n,r)}if(3===e.length){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");if(!o(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return f(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(e,t,n){return p(m(e.valueOf(),t.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){return p(m(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf()))}});return m}t.name="intersect",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){var d=(r(n(52)),u("distance",{"Array, Array, Array":function(e,t,n){if(2==e.length&&2==t.length&&2==n.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(t))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(t[1]-t[0]),s=r*r*t[0],o=-1*r*t[0],u=e[1];return f(e[0],e[1],s,o,u)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2==Object.keys(e).length&&2==Object.keys(t).length&&2==Object.keys(n).length){if(!i(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(t.lineOnePtY-t.lineOnePtX),s=r*r*t.lineOnePtX,o=-1*r*t.lineOnePtX,u=e.pointX;return f(e.pointX,e.pointY,s,o,u)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2==e.length&&3==t.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!s(t))throw new TypeError("Array with 3 numbers expected for second argument");return f(e[0],e[1],t[0],t[1],t[2])}if(3==e.length&&6==t.length){if(!s(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 6 numbers expected for second argument");return l(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2==e.length&&2==t.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(t))throw new TypeError("Array with 2 numbers expected for second argument");return c(e[0],e[1],t[0],t[1])}if(3==e.length&&3==t.length){if(!s(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!s(t))throw new TypeError("Array with 3 numbers expected for second argument");return h(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2==Object.keys(e).length&&3==Object.keys(t).length){if(!i(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!s(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("yCoeffLine"))return f(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&6==Object.keys(t).length){if(!s(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!o(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return l(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2==Object.keys(e).length&&2==Object.keys(t).length){if(!i(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return c(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&3==Object.keys(t).length){if(!s(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!s(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return h(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!a(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return p(e)}}));return d}function i(e){return e.constructor!==Array&&(e=u(e)),"number"==typeof e[0]&&"number"==typeof e[1]}function s(e){return e.constructor!==Array&&(e=u(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]}function o(e){return e.constructor!==Array&&(e=u(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]&&"number"==typeof e[4]&&"number"==typeof e[5]}function u(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function a(e){if(2==e[0].length&&"number"==typeof e[0][0]&&"number"==typeof e[0][1]){for(var t in e)if(2!=e[t].length||"number"!=typeof e[t][0]||"number"!=typeof e[t][1])return!1}else{if(3!=e[0].length||"number"!=typeof e[0][0]||"number"!=typeof e[0][1]||"number"!=typeof e[0][2])return!1;for(var t in e)if(3!=e[t].length||"number"!=typeof e[t][0]||"number"!=typeof e[t][1]||"number"!=typeof e[t][2])return!1}return!0}function f(e,t,n,r,i){var s=Math.abs(n*e+r*t+i),o=Math.pow(n*n+r*r,.5),u=s/o;return u}function l(e,t,n,r,i,s,o,u,a){var f=[(i-t)*a-(s-n)*u,(s-n)*o-(r-e)*a,(r-e)*u-(i-t)*o];f=Math.pow(f[0]*f[0]+f[1]*f[1]+f[2]*f[2],.5);var l=Math.pow(o*o+u*u+a*a,.5),c=f/l;return c}function c(e,t,n,r){var i=r-t,s=n-e,o=i*i+s*s,u=Math.pow(o,.5);return u}function h(e,t,n,r,i,s){var o=s-n,u=i-t,a=r-e,f=o*o+u*u+a*a,l=Math.pow(f,.5);return l}function p(e){for(var t=[],n=0;n<e.length-1;n++)for(var r=n+1;r<e.length;r++)2==e[0].length?t.push(c(e[n][0],e[n][1],e[r][0],e[r][1])):3==e[0].length&&t.push(h(e[n][0],e[n][1],e[n][2],e[r][0],e[r][1],e[r][2]));return t}t.name="distance",t.factory=r},function(e,t,n){e.exports=[n(432),n(433),n(435),n(436)]},function(e,t,n){"use strict";function r(e,t,r,i){var s=n(32),o=r(n(52)),u=r(n(393)),a=r(n(433)),f=(r(n(434)),r(n(373))),l=r(n(384)),c=r(n(85)),h=r(n(57)),p=r(n(58)),d=i("and",{"number, number":function(e,t){return!!e&&!!t},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return d(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=f(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"Matrix, any":function(e,t){if(a(t))return u(e.size(),e.storage());var n;switch(e.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=p(e,t,d,!1)}return n},"any, Matrix":function(e,t){if(a(e))return u(e.size(),e.storage());var n;switch(t.storage()){case"sparse":n=c(t,e,d,!0);break;default:n=p(t,e,d,!0)}return n},"Array, any":function(e,t){return d(o(e),t).valueOf()},"any, Array":function(e,t){return d(e,o(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.and+"${args[1]}\\right)"},d}t.name="and",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=n(32),u=s("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return u(e.value)},"Array | Matrix":function(e){return i(e,u)}});return u.toTex={1:o.operators.not+"\\left(${args[0]}\\right)"},u}var i=n(19);t.name="not",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return s(e.value)},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);n(6),t.name="isZero",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=n(32),o=r(n(52)),u=r(n(61)),a=r(n(79)),f=r(n(63)),l=r(n(57)),c=r(n(58)),h=i("or",{"number, number":function(e,t){return!!e||!!t},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return h(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=a(e,t,h);break;default:n=u(t,e,h,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,h,!1);break;default:n=l(e,t,h)}}return n},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=f(e,t,h,!1);break;default:n=c(e,t,h,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=f(t,e,h,!0);break;default:n=c(t,e,h,!0)}return n},"Array, any":function(e,t){return c(o(e),t,h,!1).valueOf()},"any, Array":function(e,t){return c(o(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+s.operators.or+"${args[1]}\\right)"},h}t.name="or",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=n(32),o=r(n(52)),u=r(n(61)),a=r(n(62)),f=r(n(63)),l=r(n(57)),c=r(n(58)),h=i("xor",{"number, number":function(e,t){return!!(!!e^!!t)},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return h(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=a(e,t,h);break;default:n=u(t,e,h,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,h,!1);break;default:n=l(e,t,h)}}return n},"Array, Array":function(e,t){return h(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return h(o(e),t)},"Matrix, Array":function(e,t){return h(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=f(e,t,h,!1);break;default:n=c(e,t,h,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=f(t,e,h,!0);break;default:n=c(t,e,h,!0)}return n},"Array, any":function(e,t){return c(o(e),t,h,!1).valueOf()},"any, Array":function(e,t){return c(o(t),e,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+s.operators.xor+"${args[1]}\\right)"},h}t.name="xor",t.factory=r},function(e,t,n){e.exports=[n(314),n(438),n(332),n(439),n(440),n(83),n(316),n(441),n(318),n(331),n(321),n(442),n(443),n(336),n(445),n(446),n(447),n(448),n(289),n(390),n(348),n(393)]},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t){var n=Math.max(i.size(e).length,i.size(t).length);e=i.squeeze(e),t=i.squeeze(t);var r=i.size(e),s=i.size(t);if(1!=r.length||1!=s.length||3!=r[0]||3!=s[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+r.join(", ")+"], B = ["+s.join(", ")+"])");var o=[a(f(e[1],t[2]),f(e[2],t[1])),a(f(e[2],t[0]),f(e[0],t[2])),a(f(e[0],t[1]),f(e[1],t[0]))];return n>1?[o]:o}var u=r(n(52)),a=r(n(77)),f=r(n(84)),l=s("cross",{"Matrix, Matrix":function(e,t){return u(o(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return u(o(e.toArray(),t))},"Array, Matrix":function(e,t){return u(o(e,t.toArray()))},"Array, Array":o});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l}var i=n(40);t.name="cross",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(e,t,n,r){if(!s(t))throw new TypeError("Second parameter in function diag must be an integer");var i=t>0?t:0,o=0>t?-t:0;switch(n.length){case 1:return f(e,t,r,n[0],o,i);case 2:return l(e,t,r,n,o,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function f(t,n,r,i,s,o){var u=[i+s,i+o],a=e.Matrix.storage(r||"dense"),f=a.diagonal(u,t,n);return null!==r?f:f.valueOf()}function l(e,t,n,r,i,s){if(e&&e.isMatrix===!0){var o=e.diagonal(t);return null!==n?n!==o.storage()?c(o,n):o:o.valueOf()}for(var u=Math.min(r[0]-i,r[1]-s),a=[],f=0;u>f;f++)a[f]=e[f+i][f+s];return null!==n?c(a):a}var c=r(n(52)),h=o("diag",{Array:function(e){return u(e,0,i.size(e),null)},"Array, number":function(e,t){return u(e,t,i.size(e),null)},"Array, BigNumber":function(e,t){return u(e,t.toNumber(),i.size(e),null)},"Array, string":function(e,t){return u(e,0,i.size(e),t)},"Array, number, string":function(e,t,n){return u(e,t,i.size(e),n)},"Array, BigNumber, string":function(e,t,n){return u(e,t.toNumber(),i.size(e),n)},Matrix:function(e){return u(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return u(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return u(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return u(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return u(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return u(e,t.toNumber(),e.size(),n)}});return h.toTex=void 0,h}var i=n(40),s=(n(3).clone,n(6).isInteger);t.name="diag",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t){var n=i(e),r=i(t),s=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==s)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var o=0,f=0;s>f;f++)o=u(o,a(e[f],t[f]));return o}var u=r(n(51)),a=r(n(84)),f=s("dot",{"Matrix, Matrix":function(e,t){return o(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return o(e.toArray(),t)},"Array, Matrix":function(e,t){return o(e,t.toArray())},"Array, Array":o});return f.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},f}var i=n(40).size;t.name="dot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=o("flatten",{Array:function(e){return s(i(e))},Matrix:function(e){var t=s(i(e.toArray()));return u(t)}});return f.toTex=void 0,f}var i=n(3).clone,s=n(40).flatten;t.name="flatten",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(t,n){var r=f(t),i=r?new e.BigNumber(1):1;if(l(t),n){var o=c(n);return t.length>0?o.resize(t,i):o}var u=[];return t.length>0?s(u,t,i):u}function f(e){var t=!1;return e.forEach(function(e,n,r){e&&e.isBigNumber===!0&&(t=!0,r[n]=e.toNumber())}),t}function l(e){e.forEach(function(e){if("number"!=typeof e||!i(e)||0>e)throw new Error("Parameters in function ones must be positive integers")})}var c=r(n(52)),h=o("ones",{"":function(){return"Array"===t.matrix?u([]):u([],"default")},"...number | BigNumber | string":function(e){var n=e[e.length-1];if("string"==typeof n){var r=e.pop();return u(e,r)}return"Array"===t.matrix?u(e):u(e,"default")},Array:u,Matrix:function(e){var t=e.storage();return u(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return u(e.valueOf(),t)}});return h.toTex=void 0,h}var i=n(6).isInteger,s=n(40).resize;t.name="ones",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e,t){return-f(e,t)}function u(e,t,n){if(!i(t)||0>t)throw new Error("k must be a non-negative integer");if(e&&e.isMatrix){var r=e.size();if(r.length>1)throw new Error("Only one dimensional matrices supported");return a(e.valueOf(),t,n)}return Array.isArray(e)?a(e,t,n):void 0}function a(e,t,n){if(t>=e.length)throw new Error("k out of bounds");for(var r=0,i=e.length-1;i>r;){for(var s=r,o=i,u=e[Math.floor(Math.random()*(i-r+1))+r];o>s;)if(n(e[s],u)>=0){var a=e[o];e[o]=e[s],e[s]=a,--o}else++s;n(e[s],u)>0&&--s,s>=t?i=s:r=s+1}return e[t]}var f=r(n(444));return s("partitionSelect",{"Array | Matrix, number":function(e,t){return u(e,t,f)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return u(e,t,f);if("desc"===n)return u(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u})}var i=n(6).isInteger;t.name="partitionSelect",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(79)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=o("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,n){return e===n||i(e,n,t.epsilon)?0:e>n?1:-1},"BigNumber, BigNumber":function(n,r){return n.eq(r)||s(n,r,t.epsilon)?new e.BigNumber(0):new e.BigNumber(n.cmp(r))},"Fraction, Fraction":function(t,n){return new e.Fraction(t.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return d(e.value,t.value)},"string, string":function(e,t){return e===t?0:e>t?1:-1},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,d);break;default:n=f(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return d(u(e),t)},"Matrix, Array":function(e,t){return d(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=p(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,d,!0);break;default:n=p(t,e,d,!0)}return n},"Array, any":function(e,t){return p(u(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,d,!0).valueOf()}});return d.toTex=void 0,d}var i=n(6).nearlyEqual,s=n(49);t.name="compare",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,l){function h(e,t,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new i(t.length,1);var r=t[0];if("number"!=typeof r||!o(r))throw new TypeError("Invalid size, must contain positive integers (size: "+u(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var s=e,a=0,f=r-e.length;f>a;a++)s+=n;return s}return e}var p=r(n(52)),d=function(e,n,r){if(2!=arguments.length&&3!=arguments.length)throw new s("resize",arguments.length,2,3);if(n&&n.isMatrix===!0&&(n=n.valueOf()),n.length&&n[0]&&n[0].isBigNumber===!0&&(n=n.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e})),e&&e.isMatrix===!0)return e.resize(n,r,!0);if("string"==typeof e)return h(e,n,r);var i=Array.isArray(e)?!1:"Array"!==t.matrix;if(0==n.length){for(;Array.isArray(e);)e=e[0];return a(e)}Array.isArray(e)||(e=[e]),e=a(e);var o=f.resize(e,n,r);return i?p(o):o};return d.toTex=void 0,d}var i=n(42),s=n(11),o=n(6).isInteger,u=n(23).format,a=n(3).clone,f=n(40);t.name="resize",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(52)),u=s("size",{Matrix:function(e){return o(e.size())},Array:i.size,string:function(e){return"Array"===t.matrix?[e.length]:o([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:o([])}});return u.toTex=void 0,u}var i=n(40);t.name="size",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e){if("asc"===e)return l;if("desc"===e)return c;throw new Error('String "asc" or "desc" expected')}function u(e){if(1!==i(e).length)throw new Error("One dimensional array expected")}function a(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}var f=r(n(52)),l=r(n(444)),c=function(e,t){return-l(e,t)},h=s("sort",{Array:function(e){return u(e),e.sort(l)},Matrix:function(e){return a(e),f(e.toArray().sort(l),e.storage())},"Array, function":function(e,t){return u(e),e.sort(t)},"Matrix, function":function(e,t){return a(e),f(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return u(e),e.sort(o(t))},"Matrix, string":function(e,t){return a(e),f(e.toArray().sort(o(t)),e.storage())}});return h.toTex=void 0,h}var i=n(40).size;t.name="sort",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=o("squeeze",{Array:function(e){return s.squeeze(i.clone(e))},Matrix:function(e){var t=s.squeeze(e.toArray());return Array.isArray(t)?u(t):t},any:function(e){return i.clone(e)}});return f.toTex=void 0,f}var i=n(3),s=n(40);t.name="squeeze",t.factory=r},function(e,t,n){e.exports=[n(419),n(417),n(418),n(450),n(452),n(453),n(454),n(456),n(457)]},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){var n=t.size().length,r=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");var i=a(e);if(0===i)throw new Error("Sum of elements in first object must be non zero");var s=a(t);if(0===s)throw new Error("Sum of elements in second object must be non zero");var o=u(e,a(e)),p=u(t,a(t)),d=a(f(o,c(l(o,p))));return h(d)?d:Number.NaN}var o=r(n(52)),u=r(n(330)),a=r(n(451)),f=r(n(84)),l=r(n(372)),c=r(n(386)),h=r(n(89)),p=i("kldivergence",{"Array, Array":function(e,t){return s(o(e),o(t))},"Matrix, Array":function(e,t){return s(e,o(t))},"Array, Matrix":function(e,t){return s(o(e),t)},"Matrix, Matrix":function(e,t){return s(e,t)}});return p}t.name="kldivergence",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(n){var r=void 0;if(i(n,function(e){r=void 0===r?e:u(r,e)}),void 0===r)switch(t.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return r}var u=r(n(53)),a=s("sum",{"Array | Matrix":function(e){return o(e)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(e){return o(e)}});return a.toTex=void 0,a}var i=n(325);t.name="sum",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=r(n(51)),u=r(n(84)),a=r(n(330)),f=r(n(417)),l=r(n(420)),c=r(n(382));return s("multinomial",{"Array | Matrix":function(e){var t=0,n=1;return i(e,function(e){if(!l(e)||!c(e))throw new TypeError("Positive integer value expected in function multinomial");t=o(t,e),n=u(n,f(e))}),a(f(t),n)}})}var i=n(325);t.name="multinomial",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(417)),f=o("permutations",{"number | BigNumber":u,"number, number":function(e,t){var n,r;if(!s(e)||0>e)throw new TypeError("Positive integer value expected in function permutations");if(!s(t)||0>t)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,r=e-t+1;e>=r;r++)n*=r;return n},"BigNumber, BigNumber":function(t,n){var r,s;if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new e.BigNumber(1),s=t.minus(n).plus(1);s.lte(t);s=s.plus(1))r=r.times(s);return r}});return f.toTex=void 0,f}function i(e){return e.isInteger()&&e.gte(0)}var s=n(6).isInteger;t.name="permutations",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(455)),o=s("uniform").pickRandom;return o.toTex=void 0,o}t.name="pickRandom",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){function f(e){if(!h.hasOwnProperty(e))throw new Error("Unknown distribution "+e);var t=Array.prototype.slice.call(arguments,1),n=h[e].apply(this,t);return function(e){var t={random:function(e,t,n){var u,f,c;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?s(e)?u=e:c=e:2===arguments.length?s(e)?(u=e,c=t):(f=e,c=t):(u=e,f=t,c=n),void 0!==f&&!o(f)||void 0!==c&&!o(c))throw new TypeError("Invalid argument in function random");if(void 0===c&&(c=1),void 0===f&&(f=0),void 0!==u){var p=h(u.valueOf(),f,c,r);return u&&u.isMatrix===!0?l(p):p}return r(f,c)},randomInt:u({"number | Array":function(e){var t=0;if(s(e)){var n=e,r=1,i=h(n.valueOf(),t,r,f);return n&&n.isMatrix===!0?l(i):i}var r=e;return f(t,r)},"number | Array, number":function(e,t){if(s(e)){var n=e,r=t,i=0,o=h(n.valueOf(),i,r,f);return n&&n.isMatrix===!0?l(o):o}var i=e,r=t;return f(i,r)},"Array, number, number":function(e,t,n){var r=h(e.valueOf(),t,n,f);return e&&e.isMatrix===!0?l(r):r}}),pickRandom:u({Array:function(e){return n(e)},"Array, number | Array":function(e,t){var r,i;if(Array.isArray(t))i=t;else{if(!o(t))throw new TypeError("Invalid argument in function pickRandom");r=t}return n(e,r,i)},"Array, number | Array, Array | number":function(e,t,r){var i,s;if(Array.isArray(t)?(s=t,i=r):(s=r,i=t),!Array.isArray(s)||!o(i))throw new TypeError("Invalid argument in function pickRandom");return n(e,i,s)}})},n=function(e,t,n){var r="undefined"==typeof t;if(r&&(t=1),e&&e.isMatrix===!0)e=e.valueOf();else if(!Array.isArray(e))throw new TypeError("Unsupported type of value in function pickRandom");if(c.size(e).length>1)throw new Error("Only one dimensional vectors supported");if("undefined"!=typeof n){if(n.length!=e.length)throw new Error("Weights must have the same length as possibles");for(var i=0,s=0,u=n.length;u>s;s++){if(!o(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");i+=n[s]}}var a=e.length;if(0==a)return[];if(t>=a)return e;for(var f,l=[];l.length<t;){if("undefined"==typeof n)f=e[Math.floor(Math.random()*a)];else for(var h=Math.random()*i,s=0,u=e.length;u>s;s++)if(h-=n[s],0>h){f=e[s];break}-1==l.indexOf(f)&&l.push(f)}return r?l[0]:l},r=function(t,n){return t+e()*(n-t)},f=function(t,n){return Math.floor(t+e()*(n-t))},h=function(e,t,n,r){var i,s,o=[];if(e=e.slice(0),e.length>1)for(var s=0,i=e.shift();i>s;s++)o.push(h(e,t,n,r));else for(var s=0,i=e.shift();i>s;s++)o.push(r(t,n));return o};return t}(n)}var l=r(n(52)),c=n(40),h={uniform:function(){return Math.random},normal:function(){return function(){for(var e,t,n=-1;0>n||n>1;)e=Math.random(),t=Math.random(),n=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return n}}};return f.toTex=void 0,f}var i=n(11),s=n(323),o=n(6).isNumber;t.name="distribution",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(455)),o=s("uniform").random;return o.toTex=void 0,o}t.name="random",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(455)),o=s("uniform").randomInt;return o.toTex=void 0,o}t.name="randomInt",t.factory=r},function(e,t,n){e.exports=[n(444),n(459),n(88),n(64),n(355),n(60),n(460),n(461)]},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var n=e.length;if(n!==t.length)return!1;for(var r=0;n>r;r++)if(!s(e[r],t[r]))return!1;return!0}return!1}return Array.isArray(t)?!1:o(e,t)}var o=r(n(88)),u=i("deepEqual",{"any, any":function(e,t){return s(e.valueOf(),t.valueOf())}});return u.toTex=void 0,u}t.name="deepEqual",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(62)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=n(32),v=o("smallerEq",{"boolean, boolean":function(e,t){return t>=e},"number, number":function(e,n){return n>=e||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.lte(n)||s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return v(e.value,t.value)},"string, string":function(e,t){return t>=e},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,v);break;default:n=f(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,v,!1);break;default:n=h(e,t,v)}}return n},"Array, Array":function(e,t){return v(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return v(u(e),t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=p(e,t,v,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,v,!0);break;default:n=p(t,e,v,!0)}return n},"Array, any":function(e,t){return p(u(e),t,v,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+d.operators.smallerEq+"${args[1]}\\right)"},v}var i=n(6).nearlyEqual,s=n(49);t.name="smallerEq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var u=r(n(52)),f=r(n(61)),l=r(n(62)),c=r(n(63)),h=r(n(57)),p=r(n(58)),d=n(32),v=o("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:m(e,t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,m);break;default:n=f(t,e,m,!0)}break;default:switch(t.storage()){case"sparse":n=f(e,t,m,!1);break;default:n=h(e,t,m)}}return n},"Array, Array":function(e,t){return v(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return v(u(e),t)},"Matrix, Array":function(e,t){return v(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,m,!1);break;default:n=p(e,t,m,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,m,!0);break;default:n=p(t,e,m,!0)}return n},"Array, any":function(e,t){return p(u(e),t,m,!1).valueOf()},"any, Array":function(e,t){return p(u(t),e,m,!0).valueOf()}}),m=o("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,n){return!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return!s(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return!e.equals(t)},"Complex, Complex":function(e,t){return!e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return v(e.value,t.value)},"string, string":function(e,t){return e!==t}});return v.toTex={2:"\\left(${args[0]}"+d.operators.unequal+"${args[1]}\\right)"},v}var i=n(6).nearlyEqual,s=n(49);t.name="unequal",t.factory=r},function(e,t,n){e.exports=[n(463)]},function(e,t,n){"use strict";function r(e,t,n,r){function h(e){var t,n=e*e,r=a[0][4]*n,i=n;for(t=0;3>t;t+=1)r=(r+a[0][t])*n,i=(i+f[0][t])*n;return e*(r+a[0][3])/(i+f[0][3])}function p(e){var t,n=a[1][8]*e,r=e;for(t=0;7>t;t+=1)n=(n+a[1][t])*e,r=(r+f[1][t])*e;var i=(n+a[1][7])/(r+f[1][7]),s=parseInt(16*e)/16,o=(e-s)*(e+s);return Math.exp(-s*s)*Math.exp(-o)*i}function d(e){var t,n=1/(e*e),r=a[2][5]*n,i=n;for(t=0;4>t;t+=1)r=(r+a[2][t])*n,i=(i+f[2][t])*n;var s=n*(r+a[2][4])/(i+f[2][4]);s=(u-s)/e,n=parseInt(16*e)/16;var o=(e-n)*(e+n);return Math.exp(-n*n)*Math.exp(-o)*s}var v=r("erf",{number:function(e){var t=Math.abs(e);return t>=l?s(e):o>=t?s(e)*h(t):4>=t?s(e)*(1-p(t)):s(e)*(1-d(t))},BigNumber:function(t){return new e.BigNumber(v(t.toNumber()))},"Array | Matrix":function(e){return i(e,v)}});return v.toTex={1:"erf\\left(${args[0]}\\right)"},v}var i=n(19),s=n(6).sign,o=.46875,u=.5641895835477563,a=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],f=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],l=Math.pow(2,53);t.name="erf",t.factory=r},function(e,t,n){e.exports=[n(465),n(324),n(329),n(466),n(334),n(467),n(468),n(469),n(470),n(451),n(471)]},function(e,t,n){"use strict";function r(e,t,r,s){function o(e){if(e=i(e.valueOf()),0===e.length)throw new Error("Cannot calculate median absolute deviation of an empty array");var t=f(e);return f(a(e,function(e){return u(l(e,t))}))}var u=r(n(86)),a=r(n(321)),f=r(n(466)),l=r(n(77)),c=s("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});return c.toTex=void 0,c}var i=n(40).flatten;t.name="mad",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(e){e=i(e.valueOf());var t=e.length;if(0==t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var n=t/2-1,r=h(e,n+1),s=e[n],o=0;n>o;++o)c(e[o],s)>0&&(s=e[o]);return v(s,r)}var u=h(e,(t-1)/2);return d(u)}var f=r(n(53)),l=r(n(81)),c=r(n(444)),h=r(n(443)),p=o("median",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(s(e))throw new TypeError("Scalar values expected in function median");return u(e)}}),d=o({"number | BigNumber | Unit":function(e){return e}}),v=o({"number | BigNumber | Unit, number | BigNumber | Unit":function(e,t){return l(f(e,t),2)}});return p.toTex=void 0,p}var i=n(40).flatten,s=(n(326),n(327));t.name="median",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function s(e){e=i(e.valueOf());var t=e.length;if(0==t)throw new Error("Cannot calculate mode of an empty array");var n={},r=[],s=0;for(var o in e)e[o]in n||(n[e[o]]=0),n[e[o]]++,n[e[o]]==s?r.push(e[o]):n[e[o]]>s&&(s=n[e[o]],r=[e[o]]);return r}var o=r("mode",{"Array | Matrix":s,"...":function(e){return s(e)}});return o}var i=n(40).flatten;t.name="mode",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function o(e){var t=void 0;if(i(e,function(e){t=void 0===t?e:u(t,e)}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}var u=r(n(80)),a=s("prod",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return o(e)}});return a.toTex=void 0,a}var i=n(325);t.name="prod",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,f){function l(t,n,r){var o,f,l;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(u(t)){if(r=r||!1,"boolean"==typeof r){if(f=t.valueOf(),s(n)){if(0>n)throw new Error("N/prob must be non-negative");if(1>=n)return c(f,n,r);if(n>1){if(!i(n))throw new Error("N must be a positive integer");var h=n+1;o=new Array(n);for(var p=0;n>p;)o[p]=c(f,++p/h,r);return o}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(l=new n.constructor(1),n.lte(l))return c(f,n,r);if(n.gt(l)){if(!n.isInteger())throw new Error("N must be a positive integer");var d=n.toNumber();if(d>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var h=new e.BigNumber(d+1);o=new Array(d);for(var p=0;d>p;)o[p]=c(f,(new e.BigNumber(++p)).div(h),r);return o}}if(Array.isArray(n)){o=new Array(n.length);for(var p=0;p<o.length;++p){var v=n[p];if(s(v)){if(0>v||v>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!v||!v.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(l=new v.constructor(1),v.isNegative()||v.gt(l))throw new Error("Probability must be between 0 and 1, inclusive")}o[p]=c(f,v,r)}return o}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function c(e,t,n){var r=o(e),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(s(t)){var u=t*(i-1),f=u%1;if(0===f){var l=n?r[u]:d(r,u);return m(l),l}var c,g,y=Math.floor(u);if(n)c=r[y],g=r[y+1];else{g=d(r,y+1),c=r[y];for(var b=0;y>b;++b)v(r[b],c)>0&&(c=r[b])}return m(c),m(g),h(p(c,1-f),p(g,f))}var u=t.times(i-1);if(u.isInteger()){u=u.toNumber();var l=n?r[u]:d(r,u);return m(l),l}var c,g,y=u.floor(),f=u.minus(y),w=y.toNumber();if(n)c=r[w],g=r[w+1];else{g=d(r,w+1),c=r[w];for(var b=0;w>b;++b)v(r[b],c)>0&&(c=r[b])}m(c),m(g);var E=new f.constructor(1);return h(p(c,E.minus(f)),p(g,f))}var h=r(n(51)),p=r(n(84)),d=r(n(443)),v=r(n(444)),m=f({"number | BigNumber | Unit":function(e){return e}});return l}var i=n(6).isInteger,s=n(6).isNumber,o=n(40).flatten,u=n(323);t.name="quantileSeq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(0==e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return o(u.apply(null,arguments))}var o=r(n(381)),u=r(n(471)),a=i("std",{"Array | Matrix":s,"Array | Matrix, string":s,"...":function(e){return s(e)}});return a.toTex=void 0,a}t.name="std",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function u(t,n){var r=0,i=0;if(0==t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(s(t,function(e){r=f(r,e),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var o=h(r,i);switch(r=0,s(t,function(e){var t=l(e,o);r=f(r,c(t,t))}),n){case"uncorrected":return h(r,i);case"biased":return h(r,i+1);case"unbiased":var u=r&&r.isBigNumber===!0?new e.BigNumber(0):0;return 1==i?u:h(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var f=r(n(53)),l=r(n(77)),c=r(n(80)),h=r(n(81)),p=o("variance",{"Array | Matrix":function(e){return u(e,i)},"Array | Matrix, string":u,"...":function(e){return u(e,i)}});return p.toTex="\\mathrm{Var}\\left(${args}\\right)",p}var i="unbiased",s=n(325);t.name="var",t.factory=r},function(e,t,n){e.exports=[n(90),n(473)]},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("print",{"string, Object":i,"string, Object, number | Object":i});return s.toTex=void 0,s}function i(e,t,n){return e.replace(/\$([\w\.]+)/g,function(e,r){for(var i=r.split("."),u=t[i.shift()];i.length&&void 0!==u;){var f=i.shift();u=f?u[f]:u+"."}return void 0!==u?s(u)?u:o(u,n):e})}var s=n(23).isString,o=n(23).format;t.name="print",t.factory=r},function(e,t,n){e.exports=[n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499)]},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("acos",{number:function(n){return n>=-1&&1>=n||t.predictable?Math.acos(n):(new e.Complex(n,0)).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="acos",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("acosh",{number:function(n){return n>=1||t.predictable?s(n):-1>=n?new e.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):(new e.Complex(n,0)).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)};t.name="acosh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("acot",{number:function(e){return Math.atan(1/e)},Complex:function(e){return e.acot()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).atan()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="acot",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("acoth",{number:function(n){return n>=1||-1>=n||t.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:(new e.Complex(n,0)).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).atanh()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="acoth",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("acsc",{number:function(n){return-1>=n||n>=1||t.predictable?Math.asin(1/n):(new e.Complex(n,0)).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).asin()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="acsc",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(e){return e.acsch()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).asinh()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="acsch",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("asec",{number:function(n){return-1>=n||n>=1||t.predictable?Math.acos(1/n):(new e.Complex(n,0)).asec()},Complex:function(e){return e.asec()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).acos()},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="asec",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var o=(s.find(r(n(476)),["Complex"]),s("asech",{number:function(n){if(1>=n&&n>=-1||t.predictable){n=1/n;var r=Math.sqrt(n*n-1);return n>0||t.predictable?Math.log(r+n):new e.Complex(Math.log(r-n),Math.PI)}return(new e.Complex(n,0)).asech()},Complex:function(e){return e.asech()},BigNumber:function(t){return(new e.BigNumber(1)).div(t).acosh()},"Array | Matrix":function(e){return i(e,o)}}));return o.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},o}var i=n(19);t.name="asech",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("asin",{number:function(n){return n>=-1&&1>=n||t.predictable?Math.asin(n):(new e.Complex(n,0)).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="asin",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("asinh",{number:Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="asinh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},s}var i=n(19);t.name="atan",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var s=r(n(52)),o=r(n(373)),u=r(n(61)),a=r(n(375)),f=r(n(85)),l=r(n(63)),c=r(n(57)),h=r(n(58)),p=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,n){return e.BigNumber.atan2(t,n)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=a(e,t,p,!1);break;default:n=o(t,e,p,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,p,!1);break;default:n=c(e,t,p)}}return n},"Array, Array":function(e,t){return p(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return p(s(e),t)},"Matrix, Array":function(e,t){return p(e,s(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=f(e,t,p,!1);break;default:n=h(e,t,p,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!0);break;default:n=h(t,e,p,!0)}return n},"Array, number | BigNumber":function(e,t){return h(s(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(s(t),e,p,!0).valueOf()}});return p.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},p}t.name="atan2",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("atanh",{number:function(n){return 1>=n&&n>=-1||t.predictable?s(n):(new e.Complex(n,0)).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2};t.name="atanh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\cos\\left(${args[0]}\\right)"},s}var i=n(19);t.name="cos",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("cosh",{number:s,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return o(t.value)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={1:"\\cosh\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2};t.name="cosh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(e){return e.cot()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.tan())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\cot\\left(${args[0]}\\right)"},s}var i=n(19);t.name="cot",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("coth",{number:i,Complex:function(e){return e.coth()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.tanh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return o(t.value)},"Array | Matrix":function(e){return s(e,o)}});return o.toTex={1:"\\coth\\left(${args[0]}\\right)"},o}function i(e){var t=Math.exp(2*e);return(t+1)/(t-1)}var s=n(19);t.name="coth",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(e){return e.csc()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.sin())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\csc\\left(${args[0]}\\right)"},s}var i=n(19);t.name="csc",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("csch",{number:i,Complex:function(e){return e.csch()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.sinh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return o(t.value)},"Array | Matrix":function(e){return s(e,o)}});return o.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},o}function i(e){return 0==e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*o(e)}var s=n(19),o=n(6).sign;t.name="csch",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.cos())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={1:"\\sec\\left(${args[0]}\\right)"},s}var i=n(19);t.name="sec",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("sech",{number:i,Complex:function(e){return e.sech()},BigNumber:function(t){return(new e.BigNumber(1)).div(t.cosh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return o(t.value)},"Array | Matrix":function(e){return s(e,o)}});return o.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},o}function i(e){return 2/(Math.exp(e)+Math.exp(-e))}var s=n(19);t.name="sech",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\sin\\left(${args[0]}\\right)"},s}var i=n(19);t.name="sin",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("sinh",{number:s,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return o(t.value)},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex={1:"\\sinh\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2};t.name="sinh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return s(t.value)},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex={1:"\\tan\\left(${args[0]}\\right)"},s}var i=n(19);t.name="tan",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("tanh",{number:s,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return o(t.value)},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex={1:"\\tanh\\left(${args[0]}\\right)"},o}var i=n(19),s=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};t.name="tanh",t.factory=r},function(e,t,n){e.exports=[n(501)]},function(e,t,n){"use strict";function r(e,t,r,i){var s=n(32),o=r(n(52)),u=r(n(57)),a=r(n(58)),f=i("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return f(o(e),t)},"Matrix, Array":function(e,t){return f(e,o(t))},"Matrix, any":function(e,t){return a(e,t,f,!1)},"any, Matrix":function(e,t){return a(t,e,f,!0)},"Array, any":function(e,t){return a(o(e),t,f,!1).valueOf()},"any, Array":function(e,t){return a(o(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+s.operators.to+"${args[1]}\\right)"},f}t.name="to",t.factory=r},function(e,t,n){e.exports=[n(503),n(420),n(369),n(89),n(382),n(504),n(434),n(505),n(91)]},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("clone",{any:i.clone});return s.toTex=void 0,s}var i=n(3);t.name="clone",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isPrime",{number:function(e){if(2>e)return!1;if(2==e)return!0;if(e%2==0)return!1;for(var t=3;e>=t*t;t+=2)if(e%t==0)return!1;return!0},BigNumber:function(t){if(t.lt(2))return!1;if(t.equals(2))return!0;if(t.mod(2).isZero())return!1;for(var n=e.BigNumber(3);n.times(n).lte(t);n=n.plus(1))if(t.mod(n).isZero())return!1;return!0},"Array | Matrix":function(e){return i(e,s)}});return s}var i=n(19);t.name="isPrime",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("isNaN",{number:function(e){return Number.isNaN(e)},BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return Number.isNaN(e.re)&&Number.isNaN(e.im)},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return i(e,Number.isNaN)}});return s}var i=n(19);n(6),t.name="isNaN",t.factory=r},function(e,t,n){e.exports=[n(507)]},function(e,t){"use strict";function n(e,t,n,r){return function(t,n){var r=e[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}t.name="reviver",t.path="json",t.factory=n},function(e,t,n){"use strict";var r=n(11),i=n(42),s=n(43);e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return s}}]}])}),n("models/scenarioGraph",["jquery","underscore","backbone","d3","models/abstract","math"],function(e,t,n,r,i,s){var o=i.extend({doLog:!1,logPrefix:"+=+=+ ScenarioGraphModel > ",initialize:function(e,t){o.__super__.initialize.apply(this,arguments),this.data=e,this.squashFunc=this.pickSquashFunc(t)},getData:function(){var e=this.data.concepts,n=this.data.influences,i=this.data.clamps,o=this.getConceptNames(e),u=this.converge(s.ones(n.length),n),a=this.converge(u,n,i),f=s.subtract(a,u),l=function(t,n){return i[n]==0&&e[n].get("selected")},c=t.filter(f._data,l),h=t.filter(o,l);return t.map(c,function(e){return[h.shift(),r.round(e,2)]})},getConceptNames:function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].get("name"));return t},bivalent:function(e){return e<=0?0:1},trivalent:function(e){return e<0?-1:e>0?1:0},sigmoid:function(e){return 1/(1+Math.exp(-e))},pickSquashFunc:function(e){switch(e){case"trivalent":return this.trivalent;case"sigmoid":return this.sigmoid;case"hyperbolic tangent":return s.tanh;case"bivalent":default:return this.bivalent}},converge:function(e,t,n){var r=this.squashFunc,i=0,o=s.matrix(t),u=e,a;while(!this.equalVectors(a,u)&&i<100)a=u,u=s.multiply(u,o),u.forEach(function(e,t,i){n&&n[t[0]]!==0?u.subset(s.index(t),n[t[0]]):u.subset(s.index(t),r(e))}),i++;return u},equalVectors:function(e,t){if(!e||!t||e.size()[1]!==t.size()[1])return!1;var n=!0;return e.forEach(function(e,r,i){var o=s.round(e,5),u=s.round(t.subset(s.index(r)),5);n=n&&o===u}),n}});return o}),n("text!templates/scenario.html",[],function(){return'<script type="text/template" class="template">\r\n	<div class="panel-left">\r\n		<textarea id="scenarioName" placeholder="Scenario Name"><%= name === \'New Scenario\' ? "" : name %></textarea>\r\n                <select id="scenarioSquash">\r\n                    <option value="sigmoid" <%= squashFunc === \'sigmoid\' ? "selected" : "" %>>Sigmoid</option>\r\n                    <option value="hyperbolic tangent" <%= squashFunc === \'hyperbolic tangent\' ? "selected" : "" %>>Hyperbolic Tangent</option>\r\n                    <option value="bivalent" <%= squashFunc === \'bivalent\' ? "selected" : "" %>>Bivalent</option>\r\n                    <option value="trivalent" <%= squashFunc === \'trivalent\' ? "selected" : "" %>>Trivalent</option>\r\n                </select>\r\n		<button id="refreshScenario"><i class="fa fa-refresh"></i>Refresh Scenario</button>\r\n		<div id="scenarioTable">\r\n			<table>\r\n			  <thead>\r\n			  	<tr>\r\n			  		<td class="col-1"></td>\r\n			  		<td class="col-2">Component</td>\r\n			  		<td class="col-3">+/-</td>\r\n			  		<td class="col-3">Preferred State</td>\r\n			  		<td class="col-3">Actual State</td>\r\n			  	</tr>\r\n			  </thead>\r\n			  <tbody>\r\n			  	<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; var influence = parseFloat(concept.influence); influence = isNaN(influence) ? 0 : influence;var hasNoValue = influence === 0; var influenceValue = influence === 0 ? \'\' : influence; var preferred = parseFloat(concept.preferredState || \'0\'); var rowClasses = \'\'; if (!hasNoValue){ rowClasses += \'hasValue\' }; if (!concept.selected){ rowClasses += \' notIncludedInScenario\' };%>\r\n			  	<tr data-id="<%= concept.id %>" class="<%= rowClasses %>">\r\n			    	<td class="col-1">\r\n			    			<input type="checkbox" name="selected" <%= concept.selected ? "checked" : ""%> >\r\n			    	</td>\r\n			    	<td class="col-2"><%= concept.name %></td>\r\n			    	<td class="col-3 mutable <%= hasNoValue ? \'\' : \'hasValue\' %>">\r\n			    		<input class="input" type="text" maxlength="5" value="<%= influenceValue %>"><i class="fa fa-caret-down"></i>\r\n		    			<input type="range" class="slider" min="-1" max="1" step=".01" value="<%= influenceValue %>" >\r\n			    	</td>\r\n			    	<td class="col-4"><%= (preferred === 0) ? \'\' : preferred > 0 ? \'Increase\' : \'Decrease\' %></td>\r\n			    	<td class="col-5"> </td>\r\n			    </tr>\r\n			    <% } %>\r\n			  </tbody>\r\n			</table>\r\n		</div>\r\n	</div>\r\n	<div class="panel-right">\r\n	</div>\r\n</script>\r\n'}),n("views/scenario",["jquery","underscore","backbone","foundation","views/abstract","views/scenarioGraph","models/scenario","models/mmp","models/scenarioGraph","text!templates/scenario.html","util/inputUtils"],function(e,t,n,r,i,s,o,u,a,f,l){"use strict";var c=i.extend({tagName:"div",className:"scenario row",template:t.template(e(f).html()),sgView:null,availableHeight:0,doLog:!1,logPrefix:"-*-*- ScenarioView > ",$currentSlider:null,squashFunc:"sigmoid",events:{"input textarea#scenarioName":"onNameChange","change select#scenarioSquash":"onSquashChange",'change input[type="checkbox"]':"onSelectedChange","click button#refreshScenario":"refreshScenario","mousedown tr:not(.notIncludedInScenario) > .mutable":"showSlider","input .slider":"onSliderUpdate","input .input":"onTextInput","blur .input":"onTextInput","change .slider":"onSliderUpdate"},initialize:function(){t.bindAll(this,"refreshScenario"),c.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.onSelectionChange),this.listenTo(n,"section:change",this.onSectionChange),this.sgView=new s,this.debouncedRefreshScenario=t.debounce(this.refreshScenario,500)},showSlider:function(t){this.$currentSlider!==null&&this.$currentSlider.removeClass("shown"),this.$currentSlider=e(t.target).closest("td").find(".slider").addClass("shown"),e(document).on("click.gridSlider",function(t){var n=e(t.target).closest("td").find(".slider");n.is(this.$currentSlider)||(this.$currentSlider&&this.$currentSlider.removeClass("shown"),this.$currentSlider=null,e(document).off("click.gridSlider"))}.bind(this))},onTextInput:function(t){var n=e(t.currentTarget),r=n.closest("td"),i=n.closest("tr").attr("data-id"),s={"default":0,min:-1,max:1,canBeEmpty:!0},o=l.filterInput(n,"float",t.type,s),u=Math.round(o*100)/100;t.type!=="input"&&(u!==o&&n.val(u),u===0&&n.val("")),this.updateValue(i,u,r),r.find(".slider").val(u)},onSliderUpdate:function(t){var n=e(t.target),r=n.val(),i=n.closest("td"),s=i.find(".input").val(r),o=n.closest("tr").attr("data-id");t.type==="change"&&this.updateValue(o,r,i)},updateValue:function(e,t,n){var r=n.closest("tr"),t=parseFloat(t);t===0?n.removeClass("hasValue"):n.addClass("hasValue"),t===0?r.removeClass("hasValue"):r.addClass("hasValue");var i=window.mentalmodeler.appModel.curSelection.conceptCollection.findWhere({id:e});i&&(i.set("influence",t),this.debouncedRefreshScenario())},refreshScenario:function(){var e=window.mentalmodeler.appModel.curModel;this.log("refreshScenario, curModel:",e);if(e&&e.conceptCollection.length>0){this.log("curModel.conceptCollection:",e.conceptCollection);var t=e.getDataForScenarioCalculation();this.sgView.setModel(new a(t,this.squashFunc))}},onSelectedChange:function(t){var n=e(t.target),r=n.closest("tr"),i=r.attr("data-id"),s=t.target.checked;s?r.removeClass("notIncludedInScenario"):r.addClass("notIncludedInScenario");var o=window.mentalmodeler.appModel.curSelection.conceptCollection.findWhere({id:i});o&&(o.set("selected",s),this.refreshScenario())},onNameChange:function(e){var t=window.mentalmodeler.appModel.curSelection;t&&(window.mentalmodeler.appModel.curSelection.set("name",this.$el.find("textarea#scenarioName").val()),n.trigger("scenario:name-change"))},onSquashChange:function(t){this.squashFunc=e(t.target).val(),this.refreshScenario()},render:function(){this.log("render, this.availableHeight:",this.availableHeight);var e={concepts:[],name:"",squashFunc:this.squashFunc},t=window.mentalmodeler.appModel;t.curSelection!=null&&t.curSelectionType==="scenario"&&(e.concepts=window.mentalmodeler.appModel.curSelection.getConceptsForScenario(),e.name=window.mentalmodeler.appModel.curSelection.get("name")),this.$el.html(this.template(e)),this.sgView.setElement(this.$el.find("div.panel-right"));var n=this.$el.find("textarea#scenarioName"),r=this.$el.find("#scenarioTable"),i=this.$el.find("table");return r.outerHeight(this.availableHeight-n.outerHeight(!0)),i.height()>r.height()&&r.addClass("hasOverflow"),this},checkToRender:function(e){this.log("checkToRender, calledFrom:",e);var t=window.mentalmodeler.appModel;t.curSelection!==null&&t.curSelectionType==="scenario"&&t.curSection==="scenario"&&(this.render(),this.refreshScenario())},onSelectionChange:function(){this.checkToRender("onSelectionChange")},onSectionChange:function(){this.checkToRender("onSectionChange")},setHeight:function(e){this.availableHeight=e,this.render()}});return c}),n("text!templates/preferred.html",[],function(){return'<script type="text/template" class="template">\r\n	<div id="pref-left-panel" class="pull-left">\r\n		<div class="metricsWrapper">\r\n			<% var singleMetrics = metrics.singleMetrics || []; for (var i=0; i<singleMetrics.length; i++ ) { var metric = singleMetrics[i]; %>\r\n			<table class="metric">\r\n				<thead>\r\n					<tr>\r\n						<td class="col-metric"><%= metric.title %></td>\r\n					</tr>\r\n				</thead>\r\n				<tbody>\r\n					<tr>\r\n						<td class="col-metric"><%= metrics[metric.value] %></td>\r\n					</tr>\r\n				</tbody>\r\n			</table>\r\n			<% } %>\r\n		</div>\r\n	</div>\r\n	<div id="pref-right-panel" class="pull-right">\r\n		<table class="components">\r\n		  <thead>\r\n		  	<tr>\r\n		  		<% var defaultIcon = \'fa-caret-down\'; var selectedIcon = !sort.type ? \'fa-caret-down\' : sort.type === \'ascending\' ? \'fa-chevron-circle-up\' : \'fa-chevron-circle-down\'; %>\r\n		  		<td class="col-name sortable" data-sort="name">Component<i class="fa <%= sort.on===\'name\' ? selectedIcon : defaultIcon %>"></i></td>\r\n		  		<td class="col-indegree sortable" data-sort="indegree" >Indegree<i class="fa <%= sort.on===\'indegree\' ? selectedIcon : defaultIcon %>"></i></td>\r\n		  		<td class="col-outdegree sortable" data-sort="outdegree" >Outdegree<i class="fa <%= sort.on===\'outdegree\' ? selectedIcon : defaultIcon %>"></i></td>\r\n		  		<td class="col-centrality sortable" data-sort="centrality" >Centrality<i class="fa <%= sort.on===\'centrality\' ? selectedIcon : defaultIcon %>"></i></td>\r\n		  		<td class="col-pref-state sortable" data-sort="preferredState" >Preferred State<i class="fa <%= sort.on===\'preferredState\' ? selectedIcon : defaultIcon %>"></i></td>\r\n		  		<td class="col-type filterable">Type<i class="fa fa-filter"></i></td>\r\n		  	</tr>\r\n		  </thead>\r\n		  <tbody>\r\n		  	<% for (var i=0; i<concepts.length; i++) { var concept = concepts[i]; var preferred = parseFloat( concept.preferredState || \'0\' ); var hasNoValue = preferred === 0;%>\r\n		  	<tr data-id="<%= concept.id %>" <%= hasNoValue ? "" : "class=\'hasValue\'" %> >\r\n		    	<td class="col-name"><%= concept.name %></td>\r\n		    	<td class="col-indegree"><%= concept.indegree %></td>\r\n		    	<td class="col-outdegree"><%= concept.outdegree %></td>\r\n		    	<td class="col-centrality"><%= concept.centrality %></td>\r\n		    	<td class="col-pref-state mutable">\r\n		    		<select <%= hasNoValue ? "" : "class=\'hasValue\'" %> >\r\n					 	<option value="1" <%= concept.preferredState  > 0 ? "selected" : "" %> >Increase</option>\r\n						<option value="0" <%= hasNoValue ? "selected" : "" %> ></option>\r\n					  	<option value="-1" <%= concept.preferredState  < 0 ? "selected" : "" %> >Decrease</option>\r\n					</select>\r\n		    	</td>\r\n		    	<td class="col-type"><%= concept.type %></td>\r\n		    </tr>\r\n		    <% } %>\r\n		  </tbody>\r\n		</table>\r\n	</div>\r\n	<!-- <div class="type-filter">\r\n		<p>View type:</p>\r\n		<ul>\r\n			<li>\r\n				<label><input type="checkbox" value="ordinary" checked="true" />&nbsp;Ordinary</label>\r\n			</li>\r\n			<li>\r\n				<label><input type="checkbox" value="driver" checked="true" />&nbsp;Driver</label>\r\n			</li>\r\n			<li>\r\n				<label><input type="checkbox" value="receiver" checked="true" />&nbsp;Receiver</label>\r\n			</li>\r\n		</ul>\r\n	</div> -->\r\n</script>'}),n("text!templates/type-filter.html",[],function(){return'<script type="text/template" class="template">\r\n	<div class="type-filter">\r\n		<p>Type Filter</p>\r\n		<ul>\r\n			<li>\r\n				<label><input type="checkbox" value="ordinary" checked="true" />&nbsp;Ordinary</label>\r\n			</li>\r\n			<li>\r\n				<label><input type="checkbox" value="driver" checked="true" />&nbsp;Driver</label>\r\n			</li>\r\n			<li>\r\n				<label><input type="checkbox" value="receiver" checked="true" />&nbsp;Receiver</label>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</script>'}),n("views/preferred",["jquery","underscore","backbone","foundation","views/abstract","models/mmp","text!templates/preferred.html","text!templates/type-filter.html"],function(e,t,n,r,i,s,o,u){"use strict";var a=i.extend({tagName:"div",className:"preferred row",template:t.template(e(o).html()),filterTemplate:t.template(e(u).html()),availableHeight:0,doLog:!1,logPrefix:"-*-*- PreferrredView > ",sortOn:"",sortType:"",filterTypes:["driver","receiver","ordinary"],metrics:{},metricsConceptsSorted:[],filter:{shown:!1,values:["ordinary","driver","receiver"]},events:{"change select":"onPreferredChange","click .sortable":"onSortableChange","click .filterable":"showTypeFilter","change .type-filter input":"onTypeFilterChange"},initialize:function(){this.log("initialize"),a.__super__.initialize.apply(this,arguments),this.listenTo(n,"selection:change",this.onSelectionChange),this.listenTo(n,"section:change",this.onSectionChange)},onTypeFilterChange:function(n){var r=[];t.each(this.$el.find("input:checked"),function(t){r.push(e(t).attr("value"))}),this.filter.values=r,this.sortTableData(!0)},showTypeFilter:function(t){this.$typeFilter?e.contains(this.$el[0],this.$typeFilter[0])||this.$typeFilter.appendTo(this.$el):this.$typeFilter=e(this.filterTemplate()).appendTo(this.$el),this.filter.shown=!0,this.updateFilter(),e(document).on("mousedown.type-filter",function(t){!e(t.target).is(".type-filter")&&!e(t.target).is(".type-filter *")&&(this.filter.shown=!1,this.$typeFilter&&(this.$typeFilter.css("display","none"),this.$typeFilter.remove()),this.$typeFilter=null,e(document).off("mousedown.type-filter"))}.bind(this))},onPreferredChange:function(n){var r=e(n.target),i=r.closest("tr"),s=i.attr("data-id"),o=r.find("option:selected").val();o=t.isEmpty(o)?0:parseFloat(o),o!==0?(r.addClass("hasValue"),i.addClass("hasValue")):(r.removeClass("hasValue"),i.removeClass("hasValue"));var u=window.mentalmodeler.appModel,a=u.curModel.conceptCollection.findWhere({id:s});a&&(a.set("preferredState",o),u.curModel!==null&&(this.metrics=u.curModel.getStructuralMetrics()))},onSortableChange:function(t){var n=e(t.target),r=n.data("sort");r===this.sortOn?this.sortType=this.sortType==="ascending"?"descending":"ascending":(this.sortType="descending",this.sortOn=r),this.sortTableData(!0)},filterGroups:function(e){var n=[];if(this.filter.values.length===3)n=e;else{var r=t.groupBy(e,"type");t.each(this.filter.values,function(e){r[e]&&(n=n.concat(r[e]))})}return n},sortTableData:function(e){var n=this.filterGroups(this.metrics.concepts||[]);t.isString(this.sortOn)&&!t.isEmpty(this.sortOn)&&(n=t.sortBy(n,this.sortOn),this.sortType==="descending"&&n.reverse()),this.metricsConceptsSorted=n,e===!0&&(this.$el.html(this.template({metrics:this.metrics,concepts:this.metricsConceptsSorted,sort:{on:this.sortOn,type:this.sortType}})),this.sizeTables(),this.filter.shown&&this.showTypeFilter())},updateFilter:function(){t.each(this.$(".type-filter input"),function(t){var n=e(t),r=n.val();t.checked=this.filter.values.indexOf(r)>-1}.bind(this))},render:function(){var e=window.mentalmodeler.appModel;return e.curModel!==null&&e.curSection==="preferred"&&(this.metrics=e.curModel.getStructuralMetrics()),this.sortTableData(),this.$el.html(this.template({metrics:this.metrics,concepts:this.metricsConceptsSorted,sort:{on:this.sortOn,type:this.sortType}})),this.filter.shown&&this.showTypeFilter(),this.sizeTables(),this},sizeTables:function(){var n=this.$el.find("#pref-right-panel");n.outerHeight(this.availableHeight),n.find("table").height()>n.height()?n.addClass("hasOverflow"):n.removeClass("hasOverflow"),n=this.$el.find("#pref-left-panel"),n.outerHeight(this.availableHeight);var r=n.find(".metricsWrapper");r.outerHeight(this.availableHeight);var i=0;t.each(r.find("table"),function(t){i+=e(t).outerHeight(!0)}),i>r.height()?r.addClass("hasOverflow"):r.removeClass("hasOverflow")},checkToRender:function(e){var t=window.mentalmodeler.appModel;t.curModel!==null&&t.curSection==="preferred"&&this.render()},onSelectionChange:function(){this.checkToRender("onSelectionChange")},onSectionChange:function(){this.checkToRender("onSectionChange")},setHeight:function(e){this.availableHeight=e,this.render()}});return a}),n("text!templates/content.html",[],function(){return'<script type="text/template" class="template">\r\n	<div class=\'tab-panel\'>\r\n		<dl class="tabs" data-tab>\r\n			<dd class="active medium-3 for5 column" ><a href="#panel-modeling"><i class="fa fa-sitemap"></i>Model</a></dd>\r\n			<dd class="medium-3 for5 column"><a href="#panel-grid"><i class="fa fa-th"></i>Matrix</a></dd>\r\n			<dd class="medium-3 for5 column"><a href="#panel-preferred"><i class="fa fa-line-chart"></i>Preferred State &amp; Metrics</a></dd>\r\n			<dd class="medium-3 for5 column"><a href="#panel-scenario"><i class="fa fa-play-circle"></i>Scenario</a></dd>\r\n			<dd class="medium-3 for5 column"><a href="#panel-info"><i class="fa fa-info-circle"></i>Info</a></dd>\r\n		</dl>\r\n		<div class="tabs-content">\r\n			<div class="content active" id="panel-modeling">\r\n				<p>Second panel content goes here...</p>\r\n			</div>\r\n			<div class="content" id="panel-grid">\r\n			</div>\r\n			<div class="content" id="panel-preferred">\r\n			</div>\r\n			<div class="content" id="panel-scenario">\r\n			</div>\r\n			<div class="content " id="panel-info">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>'}),n("views/content",["jquery","underscore","backbone","foundation","views/abstract","views/modeling","views/grid","views/info","views/scenario","views/preferred","text!templates/content.html"],function(e,t,n,r,i,s,o,u,a,f,l){"use strict";var c=i.extend({tagName:"div",className:"right-main app-panel",template:t.template(e(l).html()),modelingView:null,gridView:null,infoView:null,scenarioView:null,preferredView:null,contentPanelHeight:0,doLog:!1,logPrefix:"_-_-_ ContentView > ",initialize:function(){c.__super__.initialize.apply(this,arguments),this.modelingView=new s,this.gridView=new o,this.infoView=new u,this.scenarioView=new a,this.preferredView=new f,this.listenTo(n,"selection:change",this.onSelectionChange),this.listenTo(n,"section:pre-change",this.onSectionPreChange)},render:function(){var t=this;return this.$el.html(this.template({})),this.$el.find("div.tabs-content #panel-modeling").html(this.modelingView.render().el),this.$el.find("div.tabs-content #panel-grid").html(this.gridView.render().el),this.$el.find("div.tabs-content #panel-info").html(this.infoView.render().el),this.$el.find("div.tabs-content #panel-scenario").html(this.scenarioView.render().el),this.$el.find("div.tabs-content #panel-preferred").html(this.preferredView.render().el),this.$el.find(".tabs").on("click",function(n){var r=e(n.target);r.is("i")&&(r=r.closest("a"));var i=r[0].href.split("-")[1];return window.mentalmodeler.appModel.setSection(i),t.updateContentPanel(i),n.preventDefault(),!1}),this.resizeTabs(),this},updateSection:function(e){window.mentalmodeler.appModel.setSection(e),this.updateContentPanel(e)},onSelectionChange:function(e,t,n){this.log("onSelectionChange, model:",e,", target:",t,", section:",n),typeof n!="undefined"&&(n==="modeling"?window.mentalmodeler.appModel.curSection==="scenario"&&this.$el.find('a[href="#panel-'+n+'"]').click():this.$el.find('a[href="#panel-'+n+'"]').click())},onSectionPreChange:function(t,r){this.log("onSectionPreChange, section:",t,", prevSection:",r),this.$el.find(".tabs > dd").each(function(n,r){var i=e(this),s=i.find("a"),o=s.attr("href").split("-")[1];t===o?i.addClass("active"):i.removeClass("active")}),this.$el.find("div.content").each(function(){var n=e(this),r=n.attr("id").split("-")[1];t===r?n.addClass("active"):n.removeClass("active"),r==="modeling"?n.css("visibility",r===t?"visible":"hidden"):r===t?n.css("display","block"):n.css("display","none"),n.css("z-index",r===t?10:0)}),n.trigger("section:change",t,r)},resizeTabs:function(){var n=0;t.each(this.$el.find("dd a"),function(t){var r=e(t);n=r.outerHeight()>n?r.outerHeight():n}),this.$el.find("dd").outerHeight(n),e(".left-main .header").outerHeight(n)},updateContentPanel:function(t){var n=this,r=typeof t=="undefined";this.$el.find("div.content").each(function(){var i=e(this),s=i.attr("id"),o=n.contentPanelHeight;s==="panel-modeling"&&(r&&i.hasClass("active")===!1||r===!1&&t!=="modeling")&&(o=0),i.height(o),n.log("updateContentPanel, h:",o,", $this:",i)})},setHeight:function(e){this.resizeTabs();var n=this.$el.find(".tabs").outerHeight(),r=parseInt(this.$el.find("div.tabs-content").css("padding-top"),10)+parseInt(this.$el.find("div.tabs-content").css("padding-bottom"),10),i=this.contentPanelHeight=e-n-r;this.$el.find("div.tab-content").height(e),this.updateContentPanel();var s=[this.modelingView,this.gridView,this.infoView,this.scenarioView,this.preferredView];t.each(s,function(e){t.isFunction(e.setHeight)&&e.setHeight(i)})},getActivePanel:function(){this.$el.find("div.tabs-content div.content.active")}});return c}),n("text!templates/app.html",[],function(){return'<script type="text/template" class="template">\r\n</script>'}),n("util/displayUtils",["jquery","underscore"],function(e,t){"use strict";var n={};return n.getViewportSize=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},n}),n("views/app",["jquery","underscore","backbone","views/abstract","views/header","views/list","views/content","text!templates/app.html","util/displayUtils"],function(e,t,n,r,i,s,o,u,a){"use strict";var f=r.extend({el:"#app",headerView:null,listView:null,contentView:null,template:t.template(e(u).html()),resizeTimer:null,resizeDelay:500,initialize:function(){f.__super__.initialize.apply(this,arguments),this.headerView=new i({el:"#header"}),this.listView=new s,this.contentView=new o},render:function(){var n=this;this.headerView.render(),this.$el.find("#workspace").append(this.listView.render().el),this.$el.find("#workspace").append(this.contentView.render().el);var r=t.bind(this.resizeScrollPanels,this);e(document).ready(function(){e(document).foundation(),r(),window.onresize=function(){n.resizeTimer&&clearTimeout(n.resizeTimer),n.resizeTimer=setTimeout(r,n.resizeDelay)}})},resizeScrollPanels:function(){var e=a.getViewportSize(),t=e.height,r=this.$el.find("#workspace"),i=parseInt(r.css("padding-top"),10)+parseInt(r.css("padding-bottom"),10),s=this.$el.find("#header").outerHeight(),o=this.$el.find("#footer").outerHeight(),u=t-s-o-i;r.height(u),this.contentView.setHeight(u),this.listView.setAvailableHeight(u),n.trigger("window:resize",{availableHeight:u})}});return f}),n("routes/app",["jquery","backbone","underscore","models/app","views/app"],function(e,t,n,r,i){"use strict";var s=t.Router.extend({appModel:null,appView:null,routes:{"*actions":"app"},app:function(){this.appModel=new r,this.appView=new i({model:this.appModel}),this.appView.render()}});return s}),t.config({shim:{underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},foundation:{deps:["jquery"],exports:"foundation"},downloadify:{deps:["jquery"],exports:"downloadify"},swfobject:{deps:[],exports:"swfobject"},x2js:{exports:"x2js"},tableExport:{deps:["jquery"],exports:"tableExport"},jqueryBase64:{deps:["jquery"],exports:"jqueryBase64"}},paths:{jquery:"../vendor/jquery/jquery.min",backbone:"../vendor/backbone/backbone-min",underscore:"../vendor/underscore/underscore-min",foundation:"../vendor/foundation/foundation.min",text:"../vendor/requirejs-text/text",d3:"../vendor/d3/d3.v3.min",math:"../vendor/mathjs/math.min",swfobject:"../vendor/swfobject/swfobject",detect:"../vendor/detect/detect.min",x2js:"../vendor/x2js/xml2json",tableExport:"../vendor/tableExport/tableExport",jqueryBase64:"../vendor/tableExport/jquery.base64"}}),t(["jquery","backbone","underscore","routes/app"],function(e,t,n,r){window.mentalmodeler=new r,t.history.start()}),window.flashInitialized=function(){window.mentalmodeler.appModel.start()},n("main",function(){})})();